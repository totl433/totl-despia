import{R as D,j as e,T as ee,r as L,I as J,a as E,y as te,z,A as se,B as Y,n as ae,d as q,E as ne,u as oe,o as V,L as re,P as ie,G as le}from"./index-BXZWcz4C.js";import{f as ce}from"./userLeagues-D33y6sUz.js";const I=D.memo(function({label:s,value:f,subcopy:d,loading:p=!1,className:x=""}){if(p)return e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 ${x}`,children:[e.jsx("div",{className:"text-sm text-slate-500 mb-2",children:s}),e.jsx("div",{className:"h-8 bg-slate-200 rounded animate-pulse"})]});const _=typeof f=="object"&&f!==null;return e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 ${x}`,children:[e.jsx("div",{className:"text-sm font-medium text-slate-600 mb-2",children:s}),e.jsx("div",{className:`mb-1 flex items-baseline ${_?"":"text-2xl font-bold text-slate-800"}`,children:f}),d&&e.jsx("div",{className:"text-sm text-slate-500 mt-2",children:d})]})}),de=D.memo(function({label:s,streakCount:f,gwRange:d,subcopy:p,extraLine:x,loading:_=!1,className:N=""}){return _?e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 ${N}`,children:[e.jsx("div",{className:"text-sm text-slate-500 mb-2",children:s}),e.jsx("div",{className:"h-8 bg-slate-200 rounded animate-pulse"})]}):e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 ${N}`,children:[e.jsx("div",{className:"text-sm font-medium text-slate-600 mb-2",children:s}),e.jsxs("div",{className:"text-4xl font-bold text-slate-800 mb-2 flex items-baseline gap-2",children:[e.jsx("span",{children:f}),e.jsxs("span",{className:"text-base font-normal text-slate-600",children:["Top 25% from ",d]})]}),x&&e.jsxs("div",{className:"text-sm text-slate-500 italic mb-2",children:['"',x,'"']}),p&&e.jsxs("div",{className:"text-sm text-slate-500 mt-2 italic",children:['"',p,'"']})]})}),K=D.memo(function({label:s,teamCode:f,teamName:d,percentage:p,isCorrect:x,subcopy:_,loading:N=!1,className:k=""}){if(N)return e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 ${k}`,children:[e.jsx("div",{className:"text-sm text-slate-500 mb-2",children:s}),e.jsx("div",{className:"h-8 bg-slate-200 rounded animate-pulse"})]});const P=p%1===0?p.toFixed(0):p.toFixed(2);return e.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 ${k}`,children:[e.jsx("div",{className:"text-sm font-medium text-slate-600 mb-3",children:s}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{code:f,size:32}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-lg font-bold text-slate-800 truncate",children:d}),e.jsxs("div",{className:`text-base font-semibold ${x?"text-green-600":"text-red-600"}`,children:[P,"% ",x?"correct":"incorrect"]})]})]}),_&&e.jsxs("div",{className:"text-sm text-slate-500 mt-3 italic",children:['"',_,'"']})]})}),me=D.memo(function({weeklyData:s,latestGw:f,showInfo:d=!1}){const p=s.flatMap(c=>[c.userPoints,c.averagePoints]),x=p.length>0?Math.max(...p,10):10,_=0,N=x-_||1,k=120,P=48,G=8,R=12,g=4,m=d?48:16,u=Math.max(340,s.length*P+(s.length-1)*G+R*2+g*2+m);return e.jsx("div",{className:"flex-shrink-0 h-[168px] bg-white relative",style:{width:`${u}px`,minWidth:`${u}px`},children:e.jsxs("div",{className:"pt-3 pb-2 h-full flex flex-col",style:{paddingLeft:"0",paddingRight:"12px"},children:[e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"mb-1 relative",style:{height:"120px"},children:e.jsx("div",{className:"relative h-full",children:e.jsx("div",{className:"flex items-end gap-2 h-full",style:{paddingLeft:"0",paddingRight:"4px"},children:s.map(c=>{const{gw:v,userPoints:h,averagePoints:b}=c,j=v===f,S=h-b,T=S>0,t=S<0,o=(h-_)/N*k,a=(b-_)/N*k,i=Math.max(o,a);return e.jsxs("div",{className:"flex flex-col items-center justify-end relative",style:{minWidth:"48px",width:"48px",height:"100%"},children:[e.jsxs("div",{className:"w-full relative",style:{height:`${i}px`},children:[d&&e.jsx("div",{className:"absolute flex items-center justify-center",style:{bottom:`${i+4}px`,left:"0",right:"0",width:"100%",zIndex:10},children:e.jsx("div",{className:`text-xs font-bold leading-none ${j?"text-[#1C8376]":T?"text-green-600":t?"text-red-600":"text-slate-700"}`,children:h})}),T?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute bottom-0 w-full bg-slate-300 opacity-60",style:{height:`${a}px`,minHeight:a>0?"2px":"0",borderTopLeftRadius:"2px",borderTopRightRadius:a===i?"2px":"0"},title:`Par: ${b.toFixed(1)}`}),e.jsx("div",{className:"absolute w-full transition-all bg-green-500",style:{bottom:`${a}px`,height:`${o-a}px`,minHeight:o-a>0?"2px":"0",borderTopLeftRadius:"2px",borderTopRightRadius:"2px"},title:`Your score: ${h}`})]}):t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute bottom-0 w-full transition-all bg-red-500",style:{height:`${o}px`,minHeight:o>0?"2px":"0",borderTopLeftRadius:o===i?"2px":"0",borderTopRightRadius:o===i?"2px":"0"},title:`Your score: ${h}`}),e.jsx("div",{className:"absolute w-full bg-slate-300 opacity-60",style:{bottom:`${o}px`,height:`${a-o}px`,minHeight:a-o>0?"2px":"0",borderTopLeftRadius:"2px",borderTopRightRadius:"2px"},title:`Par: ${b.toFixed(1)}`})]}):e.jsx("div",{className:"absolute bottom-0 w-full rounded-t bg-slate-400 transition-all",style:{height:`${o}px`,minHeight:o>0?"4px":"0",borderRadius:"2px 2px 0 0"},title:`Your score: ${h} (Par: ${b.toFixed(1)})`}),i>15&&e.jsx("div",{className:"absolute bottom-1 left-0 right-0 flex items-center justify-center",style:{height:"16px"},children:e.jsx("div",{className:`text-[13px] leading-none ${T?"text-green-600":"text-white"}`,style:{fontWeight:900},children:T?`+${S.toFixed(1)}`:t?`${S.toFixed(1)}`:"Par"})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-start",style:{height:"28px",marginTop:"4px"},children:[e.jsxs("div",{className:`text-[10px] font-medium leading-tight ${j?"text-[#1C8376] font-bold":"text-slate-700"}`,children:["GW",v]}),e.jsxs("div",{className:"text-[9px] font-medium text-slate-400 leading-none",style:{visibility:d?"visible":"hidden",height:"12px"},children:["av. ",b.toFixed(1)]})]})]},v)})})})})]})})}),ue=D.memo(function({lastGw:s,form5:f,form10:d,overall:p,loading:x=!1}){const[_,N]=L.useState(!1),k=[{label:"Gameweek",count:s},{label:"5-Week Form",count:f},{label:"10-Week Form",count:d},{label:"Overall",count:p}],P=s+f+d+p;return x?e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("div",{className:"text-sm text-slate-500 mb-4",children:"Leaderboard Trophy Cabinet"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[1,2,3,4].map(G=>e.jsx("div",{className:"h-24 bg-slate-200 rounded animate-pulse"},G))})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Leaderboard Trophy Cabinet"}),e.jsx("div",{className:"w-4 h-4 rounded-full border border-slate-400 flex items-center justify-center cursor-pointer",onClick:()=>N(!0),role:"button","aria-label":"Information about Trophy Cabinet",children:e.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:"i"})})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:k.map((G,R)=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:`w-10 h-10 text-yellow-500 ${G.count>0?"sparkle-trophy":"opacity-40"}`,children:e.jsx("g",{children:e.jsx("path",{fill:"currentColor",d:"M16 3c1.1046 0 2 0.89543 2 2h2c1.1046 0 2 0.89543 2 2v1c0 2.695 -2.1323 4.89 -4.8018 4.9941 -0.8777 1.5207 -2.4019 2.6195 -4.1982 2.9209V19h3c0.5523 0 1 0.4477 1 1s-0.4477 1 -1 1H8c-0.55228 0 -1 -0.4477 -1 -1s0.44772 -1 1 -1h3v-3.085c-1.7965 -0.3015 -3.32148 -1.4 -4.19922 -2.9209C4.13175 12.8895 2 10.6947 2 8V7c0 -1.10457 0.89543 -2 2 -2h2c0 -1.10457 0.89543 -2 2 -2zm-8 7c0 2.2091 1.79086 4 4 4 2.2091 0 4 -1.7909 4 -4V5H8zM4 8c0 1.32848 0.86419 2.4532 2.06055 2.8477C6.02137 10.5707 6 10.2878 6 10V7H4zm14 2c0 0.2878 -0.0223 0.5706 -0.0615 0.8477C19.1353 10.4535 20 9.32881 20 8V7h-2z",strokeWidth:"1"})})}),G.count>0&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-yellow-900 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white",children:G.count})]}),e.jsx("div",{className:"text-xs font-medium text-slate-600 text-center",children:G.label})]},R))}),P>0&&e.jsxs("div",{className:"mt-4 text-sm font-semibold text-slate-600 text-center",children:["You have ",P," ",P===1?"trophy":"trophies"]}),e.jsx(J,{isOpen:_,onClose:()=>N(!1),title:"Leaderboard Trophy Cabinet",description:`Earn trophies by finishing top (or joint top) of any leaderboard after a gameweek completes.

GAMEWEEK
Finish #1 in the weekly leaderboard for any completed gameweek.

5-WEEK FORM
Finish #1 in the 5-week form leaderboard after any gameweek. Requires 5+ completed gameweeks.

10-WEEK FORM
Finish #1 in the 10-week form leaderboard after any gameweek. Requires 10+ completed gameweeks.

OVERALL
Finish #1 in the overall season leaderboard after any gameweek.`})]})});function O(n,s){if(s.length===0)return 50;const d=s.filter(p=>p<=n).length/s.length*100;return Math.round(d*100)/100}async function ge(n){const s={lastCompletedGw:null,lastCompletedGwPercentile:null,overallPercentile:null,correctPredictionRate:null,bestStreak:0,bestStreakGwRange:null,avgPointsPerWeek:null,bestSingleGw:null,lowestSingleGw:null,chaosIndex:null,chaosCorrectCount:null,chaosTotalCount:null,mostCorrectTeam:null,mostIncorrectTeam:null,weeklyParData:null,trophyCabinet:null};try{const{data:f}=await E.from("app_gw_results").select("gw").order("gw",{ascending:!1}).limit(1).maybeSingle(),d=f?.gw||null;if(s.lastCompletedGw=d,!d)return s;if(d){const{data:g}=await E.from("app_v_gw_points").select("user_id, points").eq("gw",d);if(g&&g.length>0){const m=g.map(c=>c.points||0),u=g.find(c=>c.user_id===n)?.points||0;s.lastCompletedGwPercentile=O(u,m)}}const{data:p}=await E.from("v_ocp_overall").select("user_id, ocp").order("ocp",{ascending:!1});if(p&&p.length>0){const g=p.map(u=>u.ocp||0),m=p.find(u=>u.user_id===n)?.ocp||0;s.overallPercentile=O(m,g)}const[x,_]=await Promise.all([E.from("app_picks").select("gw, fixture_index, pick").eq("user_id",n),E.from("picks").select("gw, fixture_index, pick").eq("user_id",n)]),N=new Map;_.data&&_.data.forEach(g=>{const m=`${g.gw}:${g.fixture_index}`;N.set(m,g)}),x.data&&x.data.forEach(g=>{const m=`${g.gw}:${g.fixture_index}`;N.set(m,g)});const k=Array.from(N.values());console.log("[userStats] Picks from app_picks:",x.data?.length||0),console.log("[userStats] Picks from picks table:",_.data?.length||0),console.log("[userStats] Total unique picks (combined):",k.length),x.error&&console.error("[userStats] Error fetching app_picks:",x.error),_.error&&_.error.code!=="PGRST116"&&console.error("[userStats] Error fetching picks:",_.error);const{data:P,error:G}=await E.from("app_gw_results").select("gw, fixture_index, result");if(console.log("[userStats] Total results fetched:",P?.length||0),G&&console.error("[userStats] Error fetching results:",G),k&&P){const g=new Map;P.forEach(c=>{c.result&&g.set(`${c.gw}:${c.fixture_index}`,c.result)});let m=0,u=0;k.forEach(c=>{const v=g.get(`${c.gw}:${c.fixture_index}`);v&&(u++,c.pick===v&&m++)}),u>0&&(s.correctPredictionRate=m/u*100)}const{data:R}=await E.from("app_v_gw_points").select("gw, points").eq("user_id",n).order("gw",{ascending:!0});if(R&&R.length>0){const g=R.reduce((l,r)=>l+(r.points||0),0);s.avgPointsPerWeek=g/R.length;const m=new Set,{data:u}=await E.from("app_gw_results").select("gw").order("gw",{ascending:!0});u?.forEach(l=>{m.add(l.gw)});const{data:c}=await E.from("app_v_gw_points").select("gw, user_id, points").in("gw",Array.from(m)),v=new Map,h=new Map;c&&c.forEach(l=>{const r=l.gw;h.has(r)||h.set(r,[]),h.get(r).push({user_id:l.user_id,points:l.points||0})});for(const l of Array.from(m).sort((r,$)=>r-$)){const r=h.get(l);if(r&&r.length>0){const $=r.map(W=>W.points),C=r.find(W=>W.user_id===n)?.points||0,F=O(C,$);v.set(l,F)}}let b=0,j=0,S=0,T=0,t=0;const o=Array.from(m).sort((l,r)=>l-r);console.log("[userStats] Calculating best streak. Completed GWs:",o),console.log("[userStats] User percentiles per GW:",Array.from(v.entries()).map(([l,r])=>({gw:l,percentile:r.toFixed(2),inTop25:r>=75})));for(const l of o){const r=v.get(l);r!==void 0&&r>=75?(b===0&&(t=l),b++,b>j&&(j=b,S=t,T=l)):(b>0&&console.log(`[userStats] Streak broken at GW${l} (percentile: ${r?.toFixed(2)||"N/A"}). Previous streak was ${b} games`),b=0)}s.bestStreak=j,j>0?(s.bestStreakGwRange=`GW${S}–GW${T}`,console.log(`[userStats] Best streak: ${j} games from ${s.bestStreakGwRange}`)):console.log("[userStats] No streak found (user never in top 25%)");let a={points:-1,gw:0},i={points:999,gw:0};R.forEach(l=>{const r=l.points||0;r>a.points&&(a={points:r,gw:l.gw}),r<i.points&&(i={points:r,gw:l.gw})}),a.points>=0&&(s.bestSingleGw=a),i.points<999&&(s.lowestSingleGw=i);const y=[],M=new Map;h.forEach((l,r)=>{const $=l.reduce((C,F)=>C+F.points,0)/l.length;M.set(r,$)}),R.forEach(l=>{const r=l.gw,$=l.points||0,C=M.get(r);C!==void 0&&y.push({gw:r,userPoints:$,averagePoints:C})}),y.sort((l,r)=>l.gw-r.gw),s.weeklyParData=y.length>0?y:null;let w={lastGw:0,form5:0,form10:0,overall:0};if(u&&c){console.log("[userStats] Calculating trophy cabinet...");const l=[...new Set(u.map(C=>C.gw))].sort((C,F)=>C-F),{data:r}=await E.from("app_v_gw_points").select("user_id, gw, points").order("gw",{ascending:!0}),{data:$}=await E.from("app_v_ocp_overall").select("user_id, name, ocp");l.forEach(C=>{const F=te(n,C,r||[]);if(F&&F.rank===1&&w.lastGw++,C>=5){const A=z(n,C-4,C,r||[],$||[]);A&&A.rank===1&&w.form5++}if(C>=10){const A=z(n,C-9,C,r||[],$||[]);A&&A.rank===1&&w.form10++}const W=new Set;(r||[]).forEach(A=>{A.gw<=C&&W.add(A.user_id)});const U=Array.from(W).map(A=>{const X=(r||[]).filter(B=>B.user_id===A&&B.gw<=C).reduce((B,Z)=>B+(Z.points||0),0),Q=($||[]).find(B=>B.user_id===A);return{user_id:A,name:Q?.name||null,ocp:X}}),H=se(n,U);H&&H.rank===1&&w.overall++}),console.log("[userStats] Trophy cabinet calculated:",w)}else console.log("[userStats] Skipping trophy calculation - missing data:",{hasCompletedGwResults:!!u,hasAllGwPoints:!!c});s.trophyCabinet=w}else s.trophyCabinet={lastGw:0,form5:0,form10:0,overall:0};if(k&&k.length>0){const g=new Set;if(k.forEach(m=>{g.add(`${m.gw}:${m.fixture_index}`)}),g.size>0){const m=Array.from(g).map(a=>parseInt(a.split(":")[0])),u=new Set(m),[c,v]=await Promise.all([E.from("app_picks").select("gw, fixture_index, pick").in("gw",Array.from(u)),E.from("picks").select("gw, fixture_index, pick").in("gw",Array.from(u))]),h=new Map;v.data&&v.data.forEach(a=>{const i=`${a.gw}:${a.fixture_index}`;if(g.has(i)){h.has(i)||h.set(i,new Map);const y=h.get(i);y.set(a.pick,(y.get(a.pick)||0)+1)}}),c.data&&c.data.forEach(a=>{const i=`${a.gw}:${a.fixture_index}`;if(g.has(i)){h.has(i)||h.set(i,new Map);const y=h.get(i);y.set(a.pick,(y.get(a.pick)||0)+1)}});let b=0;h.forEach(a=>{b+=Array.from(a.values()).reduce((i,y)=>i+y,0)}),console.log(`[userStats] Chaos Index: Checking ${k.length} user picks across ${g.size} fixtures`),console.log(`[userStats] Chaos Index: Found ${b} total picks from all users across all fixtures`);let j=0,S=0,T=0;const t=new Map;P&&P.forEach(a=>{a.result&&t.set(`${a.gw}:${a.fixture_index}`,a.result)});let o=!1;k.forEach(a=>{const i=`${a.gw}:${a.fixture_index}`,y=h.get(i);if(y){const M=Array.from(y.values()).reduce((r,$)=>r+$,0),w=y.get(a.pick)||0,l=M>0?w/M*100:0;if(!o&&M>0){const r=y.get("H")||0,$=y.get("D")||0,C=y.get("A")||0;console.log(`[userStats] Chaos Index sample: GW${a.gw} fixture ${a.fixture_index}, user picked ${a.pick}, totals: H=${r}, D=${$}, A=${C}, total=${M}, userPickPercentage=${l.toFixed(2)}%`),o=!0}if(T++,l<=25){j++;const r=t.get(i);r&&a.pick===r&&S++}}else console.warn(`[userStats] Chaos Index: No pick counts found for ${i}`)}),T>0&&(s.chaosIndex=j/T*100,s.chaosCorrectCount=S,s.chaosTotalCount=j,console.log(`[userStats] Chaos Index: ${s.chaosIndex.toFixed(2)}% (${j} of ${T} picks, ${S} correct)`),console.log(`[userStats] Chaos Index breakdown: ${T} total picks, ${j} chaos picks`))}}if(k&&P){const g=new Map;P.forEach(u=>{u.result&&g.set(`${u.gw}:${u.fixture_index}`,u.result)});const{data:m}=await E.from("app_fixtures").select("gw, fixture_index, home_code, away_code, home_team, away_team, home_name, away_name");if(m){const u=new Map;m.forEach(t=>{u.set(`${t.gw}:${t.fixture_index}`,t)});const c=new Map,v=new Map;k.forEach(t=>{v.set(`${t.gw}:${t.fixture_index}`,t.pick)});const h=[];if(m.forEach(t=>{const o=g.get(`${t.gw}:${t.fixture_index}`),a=v.get(`${t.gw}:${t.fixture_index}`);if(!o||!a)return;const i=t.home_name||t.home_team||"",y=t.away_name||t.away_team||"",M={code:t.home_code,name:t.home_code?Y(t.home_code):i},w={code:t.away_code,name:t.away_code?Y(t.away_code):y},l=a===o;if(M.code){const r=M.code.toUpperCase(),$=c.get(r)||{correct:0,total:0,code:M.code,name:M.name};$.total++,l&&$.correct++,c.set(r,$),(r==="BUR"||M.code.toUpperCase()==="BUR")&&h.push({gw:t.gw,fixture_index:t.fixture_index,home:M.name,away:w.name,pick:a,result:o,isCorrect:l})}if(w.code){const r=w.code.toUpperCase(),$=c.get(r)||{correct:0,total:0,code:w.code,name:w.name};$.total++,l&&$.correct++,c.set(r,$),(r==="BUR"||w.code.toUpperCase()==="BUR")&&h.push({gw:t.gw,fixture_index:t.fixture_index,home:M.name,away:w.name,pick:a,result:o,isCorrect:l})}}),h.length>0){console.log("[userStats] Burnley picks breakdown:",JSON.stringify(h,null,2));const t=c.get("BUR");t&&console.log("[userStats] Burnley final stats:",{correct:t.correct,total:t.total,percentage:(t.correct/t.total*100).toFixed(2)+"%"})}const b=Array.from(c.entries()).map(([t,o])=>({code:t,name:o.name,correct:o.correct,total:o.total,percentage:(o.correct/o.total*100).toFixed(2)}));console.log("[userStats] All team prediction stats:",JSON.stringify(b,null,2)),console.log("[userStats] Teams with >= 3 picks:",JSON.stringify(b.filter(t=>t.total>=3),null,2));let j=0;c.forEach(t=>{j+=t.total}),console.log("[userStats] Total picks processed for team stats:",j),console.log("[userStats] Total picks with fixtures and results:",k.filter(t=>{const o=u.get(`${t.gw}:${t.fixture_index}`),a=g.get(`${t.gw}:${t.fixture_index}`);return o&&a}).length);let S=null,T=null;c.forEach((t,o)=>{if(t.total>=3){const a=t.correct/t.total*100,i=(t.total-t.correct)/t.total*100;(!S||a>S.percentage)&&(S={code:t.code,name:t.name,percentage:a}),(!T||i>T.percentage)&&(T={code:t.code,name:t.name,percentage:i})}}),s.mostCorrectTeam=S,s.mostIncorrectTeam=T}}}catch(f){console.error("Error fetching user stats:",f)}return s}function fe({value:n,onChange:s,labels:f}){const d=f?.off||"ALL",p=f?.on||"LIVE";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-[10px] font-medium transition-colors ${n?"text-slate-400":"text-slate-700"}`,children:d}),e.jsx("button",{onClick:()=>s(!n),className:"relative inline-flex items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:n?"#dc2626":"#cbd5e1",width:"48px",height:"24px",border:"none"},"aria-label":n?`Show ${d}`:`Show ${p}`,children:e.jsx("span",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-200 ease-in-out ${n?"translate-x-6":"translate-x-0.5"}`})}),e.jsx("span",{className:`text-[10px] font-medium transition-colors ${n?"text-slate-700":"text-slate-400"}`,children:p})]})}async function he(n){if(!n)return[];try{const s=await ce(n);if(s.length===0)return[];const f=s.map(t=>t.id),{data:d,error:p}=await E.from("league_members").select("league_id, user_id").in("league_id",f);if(p)throw p;const x=new Map;d?.forEach(t=>{const o=x.get(t.league_id)||[];o.push(t.user_id),x.set(t.league_id,o)});const{data:_,error:N}=await E.from("app_gw_results").select("gw, fixture_index, result").order("gw",{ascending:!1});if(N)throw N;const k=new Map;_?.forEach(t=>{t.result&&k.set(`${t.gw}:${t.fixture_index}`,t.result)});const P=Array.from(new Set(d?.map(t=>t.user_id)||[]));if(P.length===0)return[];const{data:G,error:R}=await E.from("app_picks").select("user_id, gw, fixture_index, pick").in("user_id",P);if(R)throw R;const g=Array.from(new Set(_?.map(t=>t.gw)||[]));if(g.length===0)return[];const{data:m}=await E.from("app_meta").select("current_gw").eq("id",1).maybeSingle(),u=m?.current_gw??Math.max(...g,0),{data:c,error:v}=await E.from("app_fixtures").select("gw, fixture_index, home_team, away_team, home_code, away_code, home_name, away_name, kickoff_time, api_match_id").in("gw",g).order("gw",{ascending:!1}).order("fixture_index",{ascending:!0});if(v)throw v;const h=new Map;c?.forEach(t=>{t.api_match_id||h.set(`${t.gw}:${t.fixture_index}`,t)});const b=[];console.log("[Unicorns] Starting calculation for user:",n),console.log("[Unicorns] User leagues:",s.map(t=>({name:t.name,id:t.id,members:x.get(t.id)?.length||0}))),console.log("[Unicorns] Total results available:",k.size),console.log("[Unicorns] Total picks available:",G?.length||0),console.log("[Unicorns] User picks count:",G?.filter(t=>t.user_id===n).length||0),console.log("[Unicorns] Total fixtures available:",h.size),console.log("[Unicorns] Current GW:",u);for(const t of s){if(t.name==="API Test"){console.log(`[Unicorns] Skipping "${t.name}" - test league`);continue}const o=x.get(t.id)||[];if(o.length<3){console.log(`[Unicorns] Skipping "${t.name}" - only ${o.length} members`);continue}const a=await ae(t,u);console.log(`[Unicorns] Processing "${t.name}" with ${o.length} members, start GW: ${a}`);const i=G?.filter(w=>o.includes(w.user_id)&&w.gw>=a)||[];console.log(`[Unicorns] "${t.name}" has ${i.length} picks total (filtered from start GW ${a})`);const y=new Map;i.forEach(w=>{const l=`${w.gw}:${w.fixture_index}`,r=y.get(l)||[];r.push({user_id:w.user_id,pick:w.pick}),y.set(l,r)});let M=0;y.forEach((w,l)=>{const[r,$]=l.split(":").map(Number);if(r<a)return;const C=k.get(l);if(!C)return;const F=w.find(U=>U.user_id===n);if(!F)return;const W=w.filter(U=>U.pick===C).map(U=>U.user_id);if(W.length===1&&W[0]===n&&o.length>=3){const U=h.get(l);U&&(M++,b.push({fixture_index:$,gw:r,home_team:U.home_team,away_team:U.away_team,home_code:U.home_code,away_code:U.away_code,home_name:U.home_name,away_name:U.away_name,kickoff_time:U.kickoff_time,pick:F.pick,league_id:t.id,league_name:t.name}))}}),M>0&&console.log(`[Unicorns] "${t.name}" found ${M} unicorns`)}console.log(`[Unicorns] Found ${b.length} total unicorns before grouping`);const j=new Map;b.forEach(t=>{const o=`${t.gw}:${t.fixture_index}`,a=j.get(o);a?a.league_names.includes(t.league_name)||a.league_names.push(t.league_name):j.set(o,{fixture_index:t.fixture_index,gw:t.gw,home_team:t.home_team,away_team:t.away_team,home_code:t.home_code,away_code:t.away_code,home_name:t.home_name,away_name:t.away_name,kickoff_time:t.kickoff_time,pick:t.pick,league_names:[t.league_name]})});const S=Array.from(j.values()),T=S.filter(t=>t.league_names.includes("Prem Predictions"));return console.log("[Unicorns] Prem Predictions unicorns:",T.map(t=>`GW${t.gw} fixture ${t.fixture_index} (leagues: ${t.league_names.join(", ")})`)),console.log(`[Unicorns] Found ${S.length} unique fixtures after grouping`),S.sort((t,o)=>t.gw!==o.gw?t.gw-o.gw:t.fixture_index-o.fixture_index),S}catch(s){return console.error("[Unicorns] Error fetching unicorns:",s),[]}}function pe({fixture:n,leagueNames:s,isActive:f=!1}){const d=n.home_code||n.home_name||n.home_team||"",p=n.away_code||n.away_name||n.away_team||"",x=q(d)||n.home_name||n.home_team||"Home",_=q(p)||n.away_name||n.away_name||"Away",N=n.pick==="H"?"Home Win":n.pick==="A"?"Away Win":"Draw",k={id:`${n.gw}-${n.fixture_index}`,fixture_index:n.fixture_index,home_team:x,away_team:_,home_code:n.home_code,away_code:n.away_code,home_name:x,away_name:_,kickoff_time:n.kickoff_time},P=f?1:.92,G=f?1:.75;return e.jsxs("div",{className:"flex-shrink-0 relative",style:{scrollSnapAlign:"center",transform:`scale(${P})`,opacity:G,width:"280px",willChange:"transform, opacity",transition:"transform 500ms cubic-bezier(0.4, 0, 0.2, 1), opacity 500ms cubic-bezier(0.4, 0, 0.2, 1)"},children:[e.jsx("style",{children:`
        .unicorn-card-wrapper {
          position: relative;
        }
        .unicorn-card-wrapper > div:first-child {
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
          position: relative;
        }
        .unicorn-card-wrapper > div:first-child > div:first-child {
          padding-top: 1.5rem !important;
        }
        .unicorn-card-wrapper .flex.items-center.gap-1\\.5.mt-3 {
          display: none !important;
        }
        .unicorn-card-wrapper > div.absolute {
          box-shadow: none !important;
        }
        .unicorn-card-wrapper::before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 1.5rem;
          padding: 10px;
          background: linear-gradient(135deg, #fbbf24, #f97316, #ec4899, #9333ea, #fbbf24);
          background-size: 300% 300%;
          -webkit-mask: 
            linear-gradient(#fff 0 0) content-box, 
            linear-gradient(#fff 0 0);
          -webkit-mask-composite: xor;
          mask-composite: exclude;
          animation: gradient-shift 3s ease infinite;
          pointer-events: none;
          z-index: 100;
        }
        @keyframes gradient-shift {
          0%, 100% {
            background-position: 0% 50%;
          }
          50% {
            background-position: 100% 50%;
          }
        }
        .shiny-pick-badge {
          background: linear-gradient(135deg, #fbbf24, #f97316, #ec4899, #9333ea, #fbbf24);
          background-size: 300% 300%;
          animation: gradient-shift 3s ease infinite;
          color: white;
          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
      `}),e.jsxs("div",{className:"relative unicorn-card-wrapper",children:[e.jsx(ne,{fixture:k,showSwipeHint:!1}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 pt-6 px-4 pb-8 rounded-b-3xl",style:{background:"linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.65) 25%, rgba(0, 0, 0, 0.45) 45%, rgba(0, 0, 0, 0.25) 65%, rgba(0, 0, 0, 0.1) 80%, transparent 100%)"},children:[e.jsx("div",{className:"text-white text-sm font-semibold text-center mb-2",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full shiny-pick-badge",children:N})}),e.jsx("div",{className:"text-white text-sm font-semibold text-center",children:s.length===1?s[0]:e.jsx("div",{className:"space-y-1",children:e.jsx("div",{children:s.join(", ")})})}),e.jsxs("div",{className:"text-white/80 text-xs text-center mt-1",children:["GW",n.gw]})]})]})]})}function xe({userId:n,loading:s}){const[f,d]=L.useState([]),[p,x]=L.useState(!0),[_,N]=L.useState(0),[k,P]=L.useState(!1),G=L.useRef(null),R=L.useRef([]);L.useEffect(()=>{if(!n){x(!1);return}let m=!0;async function u(){x(!0);try{const c=await he(n);m&&(R.current=[],d(c),N(0))}catch(c){console.error("[UnicornCollection] Error loading unicorns:",c),m&&(d([]),N(0))}finally{m&&x(!1)}}return u(),()=>{m=!1}},[n]),L.useEffect(()=>{if(f.length===0||!G.current)return;const m=G.current;let u=null,c=!1;const v=()=>{if(!G.current)return;const o=G.current.getBoundingClientRect();if(o.width===0){setTimeout(v,50);return}if(!R.current.every((w,l)=>l>=f.length?!0:w!==null)){setTimeout(v,50);return}if(R.current[0]&&R.current[0].getBoundingClientRect().width===0){setTimeout(v,50);return}const i=o.left+o.width/2;let y=0,M=1/0;R.current.forEach((w,l)=>{if(w&&l<f.length){const r=w.getBoundingClientRect(),$=r.left+r.width/2,C=Math.abs($-i);C<M&&(M=C,y=l)}}),N(y)},h=()=>{c||(u=requestAnimationFrame(()=>{v(),c=!1}),c=!0)};m.addEventListener("scroll",h,{passive:!0});const b=()=>{m.scrollLeft===0&&R.current[0],v()},j=setTimeout(()=>{b()},0),S=setTimeout(()=>{b()},100),T=setTimeout(()=>{b()},300),t=()=>{v()};return window.addEventListener("resize",t,{passive:!0}),()=>{clearTimeout(j),clearTimeout(S),clearTimeout(T),u!==null&&cancelAnimationFrame(u),m.removeEventListener("scroll",h),window.removeEventListener("resize",t)}},[f.length,f]);const g=s||p;return s?null:g?e.jsxs("div",{className:"bg-white rounded-xl p-6 desktop-constrained-unicorn",style:{marginRight:"-100vw",paddingRight:"100vw"},children:[e.jsx("div",{className:"text-sm font-medium text-slate-600 mb-4 flex items-center gap-2",children:e.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Your Unicorns"})}),e.jsx("div",{className:"h-8 bg-slate-200 rounded animate-pulse"})]}):f.length===0?e.jsxs("div",{className:"bg-white rounded-xl p-6",children:[e.jsx("div",{className:"text-sm font-medium text-slate-600 mb-2",children:"Your Unicorns"}),e.jsxs("div",{className:"text-slate-500 text-sm",children:["You have ",e.jsx("span",{className:"font-semibold",children:"0 unicorns"})," overall. Keep predicting to earn your first unicorn!"]})]}):e.jsxs("div",{className:"bg-white rounded-xl p-6 desktop-constrained-unicorn",style:{marginRight:"-100vw",paddingRight:"100vw"},children:[e.jsxs("div",{className:"text-sm font-medium text-slate-600 mb-4 flex items-center gap-2",style:{paddingLeft:"1.5rem",marginLeft:"-1.5rem"},children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Your Unicorns"}),e.jsx("div",{className:"w-4 h-4 rounded-full border border-slate-400 flex items-center justify-center cursor-pointer",onClick:()=>P(!0),role:"button","aria-label":"Information about Unicorns",children:e.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:"i"})})]}),e.jsxs("div",{ref:G,className:"flex gap-0 overflow-x-auto pb-2 scrollbar-hide unicorn-scroll-container",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain",scrollBehavior:"smooth",scrollSnapType:"x mandatory",marginLeft:"-1.5rem",marginRight:"-1.5rem",paddingLeft:"calc(50vw - 140px + 1.5rem)",paddingRight:"calc(50vw - 140px)",width:"calc(100% + 3rem)"},children:[e.jsx("style",{children:".scrollbar-hide::-webkit-scrollbar { display: none; }"}),f.map((m,u)=>e.jsx("div",{ref:c=>{R.current[u]=c},children:e.jsx(pe,{fixture:m,leagueNames:m.league_names,isActive:u===_})},`${m.gw}-${m.fixture_index}-${u}`))]}),e.jsxs("div",{className:"text-sm font-bold text-slate-800 mt-4 text-center",children:[f.length," ",f.length===1?"unicorn":"unicorns"," overall"]}),e.jsx(J,{isOpen:k,onClose:()=>P(!1),title:"Unicorns",description:`A unicorn is a unique correct prediction in a mini-league.

Only applies to mini-leagues with 3+ players.

Each card shows the fixture you correctly predicted, what you picked, and which mini-leagues you earned the unicorn in.`})]})}function ve(){const{user:n}=oe(),[s,f]=L.useState(null),[d,p]=L.useState(!0),[x,_]=L.useState(!1),[N,k]=L.useState(null),P=L.useRef(null),[G,R]=L.useState(!1),[g,m]=L.useState(null),[u,c]=L.useState(null),[v,h]=L.useState(!1);async function b(){if(n){p(!0);try{const t=await ge(n.id);f(t)}catch{}finally{p(!1)}}}L.useEffect(()=>{let t=!0;const o=async()=>{const{data:i}=await E.from("app_meta").select("current_gw").eq("id",1).maybeSingle();if(t&&i){const y=i?.current_gw??null;k(y)}};o();const a=E.channel("stats-app-meta").on("postgres_changes",{event:"*",schema:"public",table:"app_meta"},()=>{o()}).subscribe();return()=>{t=!1,E.removeChannel(a)}},[]);const{state:j}=V(N,n?.id),{state:S}=V(s?.lastCompletedGw??null,n?.id);if(L.useEffect(()=>{let t=!0;return(async()=>{const{data:a}=await E.from("app_meta").select("current_gw").eq("id",1).maybeSingle();if(t&&a){const i=a?.current_gw??null;c(i)}})(),()=>{t=!1}},[]),L.useEffect(()=>{n?b():p(!1)},[n]),L.useEffect(()=>{if(!n||!N||j===null)return;let t=!0;return(async()=>{if(j!=="LIVE"&&j==="RESULTS_PRE_GW"){const{data:a}=await E.from("app_gw_results").select("gw").order("gw",{ascending:!1}).limit(1).maybeSingle(),i=a?.gw||null;i&&i!==P.current&&(P.current=i,t&&b());return}})(),()=>{t=!1}},[n,N,j]),!n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:e.jsx("div",{className:"max-w-4xl lg:max-w-[1024px] mx-auto px-4 lg:px-6",children:e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Please sign in to view your stats."})})})});const T=s&&(s.lastCompletedGw!==null||s.overallPercentile!==null);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 overflow-x-hidden",children:[e.jsx("style",{children:`
 @keyframes sparkle {
 0%, 100% {
 opacity: 1;
 transform: scale(1) rotate(0deg);
 }
 25% {
 opacity: 0.9;
 transform: scale(1.05) rotate(-3deg);
 }
 50% {
 opacity: 1;
 transform: scale(1.1) rotate(3deg);
 }
 75% {
 opacity: 0.9;
 transform: scale(1.05) rotate(-3deg);
 }
 }
 .sparkle-trophy {
 animation: sparkle 2s ease-in-out infinite;
 filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.6));
 }
 @media (min-width: 1024px) {
 .desktop-constrained-section {
 margin-right: 0 !important;
 padding-right: 1.5rem !important;
 }
 .desktop-constrained-unicorn {
 margin-right: 0 !important;
 padding-right: 1.5rem !important;
 }
 .unicorn-scroll-container {
 margin-left: 0 !important;
 margin-right: 0 !important;
 padding-left: 0 !important;
 padding-right: 0 !important;
 width: 100% !important;
 }
 }
 `}),e.jsxs("div",{className:"max-w-4xl lg:max-w-[1024px] mx-auto px-4 lg:px-6 py-6",children:[e.jsxs(re,{to:"/profile",className:"inline-flex items-center gap-2 text-slate-600 mb-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back to Profile"})]}),e.jsx(ie,{title:"Stats",as:"h1",className:"mb-6"}),s&&s.lastCompletedGw!==null&&(S!=="LIVE"&&S!=="GW_OPEN"&&S!=="GW_PREDICTED"?e.jsx("button",{onClick:()=>{m(s.lastCompletedGw),R(!0),h(!0)},className:"w-full mb-6 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold py-3 px-4 rounded-xl shadow-md duration-200 transform active:scale-[0.98] disabled:opacity-75 disabled:cursor-not-allowed",disabled:v,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg whitespace-nowrap",children:["Your Gameweek ",s.lastCompletedGw," Results"]}),v?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white flex-shrink-0 ml-2"}):e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}):null),!T&&!d?e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[e.jsx("p",{className:"text-slate-600 text-lg",children:"Not enough games yet — check back after a few Gameweeks."}),e.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"The numbers will start to tell a story soon."})]}):e.jsxs("div",{className:"space-y-6 lg:grid lg:grid-cols-2 lg:gap-6 lg:space-y-0",children:[s&&s.lastCompletedGw!==null&&s.lastCompletedGwPercentile!==null&&(()=>{const t=s.lastCompletedGwPercentile,o=Math.round(100-t),a=Math.round(t),i=t>=75;return e.jsx(I,{label:`Gameweek ${s.lastCompletedGw}`,value:i?`You were in the top ${o}% of players.`:`You were in the bottom ${a}% of players.`,loading:d})})(),s&&s.overallPercentile!==null&&(()=>{const t=s.overallPercentile,o=Math.round(100-t),a=Math.round(t),i=t>=75;return e.jsx(I,{label:"Overall",value:i?`You're in the top ${o}% of players.`:`You're in the bottom ${a}% of players.`,loading:d})})(),s&&s.mostCorrectTeam&&e.jsx(K,{label:"Most correctly predicted team",teamCode:s.mostCorrectTeam.code,teamName:s.mostCorrectTeam.name,percentage:s.mostCorrectTeam.percentage,isCorrect:!0,loading:d}),s&&s.mostIncorrectTeam&&e.jsx(K,{label:"Most incorrectly picked team",teamCode:s.mostIncorrectTeam.code,teamName:s.mostIncorrectTeam.name,percentage:s.mostIncorrectTeam.percentage,isCorrect:!1,loading:d}),s&&s.correctPredictionRate!==null&&e.jsx(I,{label:"Correct prediction rate",value:`${s.correctPredictionRate.toFixed(2)}%`,loading:d}),s&&s.trophyCabinet!==null&&e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ue,{lastGw:s.trophyCabinet.lastGw,form5:s.trophyCabinet.form5,form10:s.trophyCabinet.form10,overall:s.trophyCabinet.overall,loading:d})}),n&&e.jsx("div",{className:"lg:col-span-2 lg:overflow-hidden lg:rounded-xl",children:e.jsx(xe,{userId:n.id,loading:d})}),s&&s.chaosIndex!==null&&e.jsx(I,{label:"Chaos Index",value:`${s.chaosIndex.toFixed(2)}%`,subcopy:"How often you pick an outcome that 25% or fewer players picked",loading:d}),s&&s.chaosTotalCount!==null&&s.chaosTotalCount>0&&s.chaosCorrectCount!==null&&e.jsx(I,{label:"Chaos Index Success Rate",value:`${(s.chaosCorrectCount/s.chaosTotalCount*100).toFixed(2)}%`,subcopy:"How often you're right when you pick an outcome that 25% or fewer players picked",loading:d}),s&&s.weeklyParData&&s.weeklyParData.length>0&&s.lastCompletedGw&&(()=>{const o=(s.weeklyParData.filter(a=>a.userPoints>a.averagePoints).length/s.weeklyParData.length*100).toFixed(0);return e.jsxs("div",{className:"lg:col-span-2 desktop-constrained-section bg-white rounded-l-xl lg:rounded-xl shadow-md lg:overflow-hidden",style:{marginRight:"-100vw",paddingRight:"100vw",paddingTop:"1.5rem",paddingBottom:"1.5rem",paddingLeft:"1.5rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Weekly Performance vs Average"}),e.jsx("div",{className:"pr-2",children:e.jsx(fe,{value:x,onChange:_,labels:{on:"Complex",off:"Simple"}})})]}),e.jsxs("div",{className:"overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain",overscrollBehaviorY:"auto",touchAction:"pan-x",marginLeft:"-1.5rem",marginRight:"-1.5rem",paddingLeft:"1.5rem",paddingRight:"1.5rem",width:"calc(100% + 3rem)"},children:[e.jsx("style",{children:".scrollbar-hide::-webkit-scrollbar { display: none; }"}),e.jsx(me,{weeklyData:s.weeklyParData,latestGw:s.lastCompletedGw,showInfo:x})]}),e.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-2",children:["You perform above average ",o,"% of the time."]})]})})(),s&&s.weeklyParData&&s.weeklyParData.length>0&&(()=>{const t=s.weeklyParData.reduce((a,i)=>a+(i.userPoints-i.averagePoints),0),o=t>=0?`+${t.toFixed(1)}`:t.toFixed(1);return o==="0.0"?null:e.jsx(I,{label:"Total Swing",value:o,subcopy:"Your total points difference from the average across all gameweeks",loading:d})})(),s&&s.bestStreak>0&&s.bestStreakGwRange&&e.jsx(de,{label:"Most consecutive weeks in the top 25%",streakCount:s.bestStreak,gwRange:s.bestStreakGwRange,loading:d}),s&&s.avgPointsPerWeek!==null&&e.jsx(I,{label:"Avg points / week",value:s.avgPointsPerWeek.toFixed(2),loading:d}),s&&s.bestSingleGw&&e.jsx(I,{label:"Best single Gameweek",value:e.jsxs("span",{children:[e.jsx("span",{className:"text-2xl font-bold text-slate-800",children:s.bestSingleGw.points}),e.jsxs("span",{className:"text-sm text-slate-600 ml-2",children:["on GW",s.bestSingleGw.gw]})]}),loading:d}),s&&s.lowestSingleGw&&e.jsx(I,{label:"Lowest single Gameweek",value:e.jsxs("span",{children:[e.jsx("span",{className:"text-2xl font-bold text-slate-800",children:s.lowestSingleGw.points}),e.jsxs("span",{className:"text-sm text-slate-600 ml-2",children:["on GW",s.lowestSingleGw.gw]})]}),loading:d})]}),G&&g&&e.jsx(le,{isOpen:G,onClose:()=>{R(!1),m(null),h(!1)},gw:g,nextGw:u&&u>g?u:null,onLoadingChange:t=>{h(t)}})]})]})}export{ve as default};
