import{g as w}from"./index-ZAqeDkcP.js";function v(u,s){for(var n=0;n<s.length;n++){const o=s[n];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in u)){const f=Object.getOwnPropertyDescriptor(o,c);f&&Object.defineProperty(u,c,f.get?f:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}var d={exports:{}},y=d.exports,l;function b(){return l||(l=1,(function(u){(function(s,n){u.exports?u.exports=n():s.despia=n()})(typeof self<"u"?self:y,function(){const s=[];let n=!1;function o(){if(n||s.length===0)return;n=!0;const{command:t}=s.shift();try{window.despia=t}catch(e){console.error("Despia command failed:",e)}setTimeout(()=>{n=!1,o()},1)}function c(t){typeof window<"u"&&(s.push({command:t}),o())}function f(t,e,r=5e3){const i=Date.now();function a(){window[t]!==void 0?e(window[t]):Date.now()-i<r?setTimeout(a,100):console.error(`Despia timeout: ${t} was not set within ${r} ms`)}a()}class p{constructor(e,r){this.variables=e,this.onReady=r,this.triggered=!1,this.processing=!1,this.tracker=document.createElement("div"),this.tracker.style.display="none",document.body.appendChild(this.tracker);let i;this.observer=new MutationObserver(()=>{clearTimeout(i),i=setTimeout(()=>this.check(),100)}),this.observer.observe(this.tracker,{attributes:!0}),this.check(),this.interval=setInterval(()=>this.check(),1e3)}check(){if(!(this.processing||this.triggered)){this.processing=!0;try{const e={};this.variables.every(i=>{const a=window[i];return a===void 0||a==="n/a"||a===null?!1:(e[i]=a,!0)})&&!this.triggered&&(this.triggered=!0,this.cleanup(),this.onReady(e))}catch(e){console.error("Error during check:",e)}this.processing=!1}}cleanup(){this.observer.disconnect(),clearInterval(this.interval),this.tracker.remove()}}function g(t,e){return!t||t.length===0?Promise.resolve({}):t.length===1?new Promise(r=>{f(t[0],i=>{r({[t[0]]:i})},5e3)}):new Promise(r=>{const i=new p(t,r);setTimeout(()=>{i.triggered||(i.cleanup(),r({}))},3e5)})}function m(t,e=[]){return c(t),!e||e.length===0?Promise.resolve():g(e)}return new Proxy(m,{get(t,e){if(e in t||e==="then"||typeof e=="symbol")return t[e];if(typeof window<"u"&&e in window)return window[e]},apply(t,e,r){return t(...r)}})})})(d)),d.exports}var h=b();const k=w(h),P=v({__proto__:null,default:k},[h]);export{P as i};
