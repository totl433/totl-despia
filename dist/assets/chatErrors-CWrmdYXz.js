function n(e){return e?e.message?.includes("fetch")||e.message?.includes("network")||e.code==="PGRST116"||e.message?.includes("connection")||e.message?.includes("timeout")||e.message?.includes("timed out")?!0:e.status===401||e.status===403?!1:e.status>=500:!1}function t(e,s="chat"){const a=n(e);return console.error(`[${s}] Error:`,e),e?.message?.includes("fetch")||e?.message?.includes("network")||!navigator.onLine?{message:"Connection failed. Please check your internet.",retryable:!0,context:s}:e?.code?.startsWith("PGRST")||e?.message?.includes("Supabase")?{message:"Failed to load messages. Please try again.",retryable:a,context:s}:s.includes("send")||s.includes("message")?{message:"Failed to send message. Please try again.",retryable:a,context:s}:{message:e?.message||"Something went wrong. Please try again.",retryable:a,context:s}}function i(e,s){return t(e,s).message}export{i as getUserFriendlyMessage,t as handleChatError,n as isRetryableError};
