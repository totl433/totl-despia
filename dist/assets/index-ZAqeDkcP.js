(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function A(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=A(i);fetch(i.href,o)}})();function Od(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function qx(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var A=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};A.prototype=e.prototype}else A={};return Object.defineProperty(A,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(A,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),A}var gu={exports:{}},$i={},pu={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Zx(){if(km)return Lt;km=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function E(U,M,W){this.props=U,this.context=M,this.refs=b,this.updater=W||y}E.prototype.isReactComponent={},E.prototype.setState=function(U,M){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,M,"setState")},E.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function _(){}_.prototype=E.prototype;function S(U,M,W){this.props=U,this.context=M,this.refs=b,this.updater=W||y}var k=S.prototype=new _;k.constructor=S,C(k,E.prototype),k.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function K(U,M,W){var ne,Ae={},Ee=null,$e=null;if(M!=null)for(ne in M.ref!==void 0&&($e=M.ref),M.key!==void 0&&(Ee=""+M.key),M)I.call(M,ne)&&!P.hasOwnProperty(ne)&&(Ae[ne]=M[ne]);var te=arguments.length-2;if(te===1)Ae.children=W;else if(1<te){for(var ce=Array(te),Se=0;Se<te;Se++)ce[Se]=arguments[Se+2];Ae.children=ce}if(U&&U.defaultProps)for(ne in te=U.defaultProps,te)Ae[ne]===void 0&&(Ae[ne]=te[ne]);return{$$typeof:r,type:U,key:Ee,ref:$e,props:Ae,_owner:j.current}}function L(U,M){return{$$typeof:r,type:U.type,key:M,ref:U.ref,props:U.props,_owner:U._owner}}function we(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function X(U){var M={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(W){return M[W]})}var re=/\/+/g;function le(U,M){return typeof U=="object"&&U!==null&&U.key!=null?X(""+U.key):M.toString(36)}function H(U,M,W,ne,Ae){var Ee=typeof U;(Ee==="undefined"||Ee==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Ee){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case r:case e:$e=!0}}if($e)return $e=U,Ae=Ae($e),U=ne===""?"."+le($e,0):ne,R(Ae)?(W="",U!=null&&(W=U.replace(re,"$&/")+"/"),H(Ae,M,W,"",function(Se){return Se})):Ae!=null&&(we(Ae)&&(Ae=L(Ae,W+(!Ae.key||$e&&$e.key===Ae.key?"":(""+Ae.key).replace(re,"$&/")+"/")+U)),M.push(Ae)),1;if($e=0,ne=ne===""?".":ne+":",R(U))for(var te=0;te<U.length;te++){Ee=U[te];var ce=ne+le(Ee,te);$e+=H(Ee,M,W,ce,Ae)}else if(ce=v(U),typeof ce=="function")for(U=ce.call(U),te=0;!(Ee=U.next()).done;)Ee=Ee.value,ce=ne+le(Ee,te++),$e+=H(Ee,M,W,ce,Ae);else if(Ee==="object")throw M=String(U),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return $e}function oe(U,M,W){if(U==null)return U;var ne=[],Ae=0;return H(U,ne,"","",function(Ee){return M.call(W,Ee,Ae++)}),ne}function Y(U){if(U._status===-1){var M=U._result;M=M(),M.then(function(W){(U._status===0||U._status===-1)&&(U._status=1,U._result=W)},function(W){(U._status===0||U._status===-1)&&(U._status=2,U._result=W)}),U._status===-1&&(U._status=0,U._result=M)}if(U._status===1)return U._result.default;throw U._result}var D={current:null},Q={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function G(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:oe,forEach:function(U,M,W){oe(U,function(){M.apply(this,arguments)},W)},count:function(U){var M=0;return oe(U,function(){M++}),M},toArray:function(U){return oe(U,function(M){return M})||[]},only:function(U){if(!we(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Lt.Component=E,Lt.Fragment=A,Lt.Profiler=i,Lt.PureComponent=S,Lt.StrictMode=n,Lt.Suspense=f,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Lt.act=G,Lt.cloneElement=function(U,M,W){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ne=C({},U.props),Ae=U.key,Ee=U.ref,$e=U._owner;if(M!=null){if(M.ref!==void 0&&(Ee=M.ref,$e=j.current),M.key!==void 0&&(Ae=""+M.key),U.type&&U.type.defaultProps)var te=U.type.defaultProps;for(ce in M)I.call(M,ce)&&!P.hasOwnProperty(ce)&&(ne[ce]=M[ce]===void 0&&te!==void 0?te[ce]:M[ce])}var ce=arguments.length-2;if(ce===1)ne.children=W;else if(1<ce){te=Array(ce);for(var Se=0;Se<ce;Se++)te[Se]=arguments[Se+2];ne.children=te}return{$$typeof:r,type:U.type,key:Ae,ref:Ee,props:ne,_owner:$e}},Lt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Lt.createElement=K,Lt.createFactory=function(U){var M=K.bind(null,U);return M.type=U,M},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(U){return{$$typeof:d,render:U}},Lt.isValidElement=we,Lt.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:Y}},Lt.memo=function(U,M){return{$$typeof:m,type:U,compare:M===void 0?null:M}},Lt.startTransition=function(U){var M=Q.transition;Q.transition={};try{U()}finally{Q.transition=M}},Lt.unstable_act=G,Lt.useCallback=function(U,M){return D.current.useCallback(U,M)},Lt.useContext=function(U){return D.current.useContext(U)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(U){return D.current.useDeferredValue(U)},Lt.useEffect=function(U,M){return D.current.useEffect(U,M)},Lt.useId=function(){return D.current.useId()},Lt.useImperativeHandle=function(U,M,W){return D.current.useImperativeHandle(U,M,W)},Lt.useInsertionEffect=function(U,M){return D.current.useInsertionEffect(U,M)},Lt.useLayoutEffect=function(U,M){return D.current.useLayoutEffect(U,M)},Lt.useMemo=function(U,M){return D.current.useMemo(U,M)},Lt.useReducer=function(U,M,W){return D.current.useReducer(U,M,W)},Lt.useRef=function(U){return D.current.useRef(U)},Lt.useState=function(U){return D.current.useState(U)},Lt.useSyncExternalStore=function(U,M,W){return D.current.useSyncExternalStore(U,M,W)},Lt.useTransition=function(){return D.current.useTransition()},Lt.version="18.3.1",Lt}var Nm;function Md(){return Nm||(Nm=1,pu.exports=Zx()),pu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function eB(){if(Im)return $i;Im=1;var r=Md(),e=Symbol.for("react.element"),A=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var g,w={},v=null,y=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(y=f.ref);for(g in f)n.call(f,g)&&!o.hasOwnProperty(g)&&(w[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:d,key:v,ref:y,props:w,_owner:i.current}}return $i.Fragment=A,$i.jsx=c,$i.jsxs=c,$i}var jm;function tB(){return jm||(jm=1,gu.exports=eB()),gu.exports}var a=tB(),x=Md();const rs=Od(x);var Qo={},wu={exports:{}},$A={},xu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function AB(){return Tm||(Tm=1,(function(r){function e(Q,N){var G=Q.length;Q.push(N);e:for(;0<G;){var U=G-1>>>1,M=Q[U];if(0<i(M,N))Q[U]=N,Q[G]=M,G=U;else break e}}function A(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var N=Q[0],G=Q.pop();if(G!==N){Q[0]=G;e:for(var U=0,M=Q.length,W=M>>>1;U<W;){var ne=2*(U+1)-1,Ae=Q[ne],Ee=ne+1,$e=Q[Ee];if(0>i(Ae,G))Ee<M&&0>i($e,Ae)?(Q[U]=$e,Q[Ee]=G,U=Ee):(Q[U]=Ae,Q[ne]=G,U=ne);else if(Ee<M&&0>i($e,G))Q[U]=$e,Q[Ee]=G,U=Ee;else break e}}return N}function i(Q,N){var G=Q.sortIndex-N.sortIndex;return G!==0?G:Q.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,w=null,v=3,y=!1,C=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var N=A(m);N!==null;){if(N.callback===null)n(m);else if(N.startTime<=Q)n(m),N.sortIndex=N.expirationTime,e(f,N);else break;N=A(m)}}function R(Q){if(b=!1,k(Q),!C)if(A(f)!==null)C=!0,Y(I);else{var N=A(m);N!==null&&D(R,N.startTime-Q)}}function I(Q,N){C=!1,b&&(b=!1,_(K),K=-1),y=!0;var G=v;try{for(k(N),w=A(f);w!==null&&(!(w.expirationTime>N)||Q&&!X());){var U=w.callback;if(typeof U=="function"){w.callback=null,v=w.priorityLevel;var M=U(w.expirationTime<=N);N=r.unstable_now(),typeof M=="function"?w.callback=M:w===A(f)&&n(f),k(N)}else n(f);w=A(f)}if(w!==null)var W=!0;else{var ne=A(m);ne!==null&&D(R,ne.startTime-N),W=!1}return W}finally{w=null,v=G,y=!1}}var j=!1,P=null,K=-1,L=5,we=-1;function X(){return!(r.unstable_now()-we<L)}function re(){if(P!==null){var Q=r.unstable_now();we=Q;var N=!0;try{N=P(!0,Q)}finally{N?le():(j=!1,P=null)}}else j=!1}var le;if(typeof S=="function")le=function(){S(re)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,oe=H.port2;H.port1.onmessage=re,le=function(){oe.postMessage(null)}}else le=function(){E(re,0)};function Y(Q){P=Q,j||(j=!0,le())}function D(Q,N){K=E(function(){Q(r.unstable_now())},N)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){C||y||(C=!0,Y(I))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return A(f)},r.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var N=3;break;default:N=v}var G=v;v=N;try{return Q()}finally{v=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,N){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var G=v;v=Q;try{return N()}finally{v=G}},r.unstable_scheduleCallback=function(Q,N,G){var U=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?U+G:U):G=U,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,Q={id:g++,callback:N,priorityLevel:Q,startTime:G,expirationTime:M,sortIndex:-1},G>U?(Q.sortIndex=G,e(m,Q),A(f)===null&&Q===A(m)&&(b?(_(K),K=-1):b=!0,D(R,G-U))):(Q.sortIndex=M,e(f,Q),C||y||(C=!0,Y(I))),Q},r.unstable_shouldYield=X,r.unstable_wrapCallback=function(Q){var N=v;return function(){var G=v;v=N;try{return Q.apply(this,arguments)}finally{v=G}}}})(Bu)),Bu}var Lm;function rB(){return Lm||(Lm=1,xu.exports=AB()),xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function nB(){if(Hm)return $A;Hm=1;var r=Md(),e=rB();function A(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(t,s){c(t,s),c(t+"Capture",s)}function c(t,s){for(i[t]=s,t=0;t<s.length;t++)n.add(s[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function v(t){return f.call(w,t)?!0:f.call(g,t)?!1:m.test(t)?w[t]=!0:(g[t]=!0,!1)}function y(t,s,l,u){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,s,l,u){if(s===null||typeof s>"u"||y(t,s,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(t,s,l,u,h,p,B){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=t,this.type=s,this.sanitizeURL=p,this.removeEmptyString=B}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];E[s]=new b(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(_,S);E[s]=new b(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(_,S);E[s]=new b(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(_,S);E[s]=new b(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function k(t,s,l,u){var h=E.hasOwnProperty(s)?E[s]:null;(h!==null?h.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,h,u)&&(l=null),u||h===null?v(s)&&(l===null?t.removeAttribute(s):t.setAttribute(s,""+l)):h.mustUseProperty?t[h.propertyName]=l===null?h.type===3?!1:"":l:(s=h.attributeName,u=h.attributeNamespace,l===null?t.removeAttribute(s):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,u?t.setAttributeNS(u,s,l):t.setAttribute(s,l))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),X=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),Q=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,U;function M(t){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+t}var W=!1;function ne(t,s){if(!t||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Z){var u=Z}Reflect.construct(t,[],s)}else{try{s.call()}catch(Z){u=Z}t.call(s.prototype)}else{try{throw Error()}catch(Z){u=Z}t()}}catch(Z){if(Z&&u&&typeof Z.stack=="string"){for(var h=Z.stack.split(`
`),p=u.stack.split(`
`),B=h.length-1,F=p.length-1;1<=B&&0<=F&&h[B]!==p[F];)F--;for(;1<=B&&0<=F;B--,F--)if(h[B]!==p[F]){if(B!==1||F!==1)do if(B--,F--,0>F||h[B]!==p[F]){var T=`
`+h[B].replace(" at new "," at ");return t.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",t.displayName)),T}while(1<=B&&0<=F);break}}}finally{W=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?M(t):""}function Ae(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=ne(t.type,!1),t;case 11:return t=ne(t.type.render,!1),t;case 1:return t=ne(t.type,!0),t;default:return""}}function Ee(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case j:return"Portal";case L:return"Profiler";case K:return"StrictMode";case le:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X:return(t.displayName||"Context")+".Consumer";case we:return(t._context.displayName||"Context")+".Provider";case re:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oe:return s=t.displayName||null,s!==null?s:Ee(t.type)||"Memo";case Y:s=t._payload,t=t._init;try{return Ee(t(s))}catch{}}return null}function $e(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function te(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ce(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(t){var s=ce(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),u=""+t[s];if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(B){u=""+B,p.call(this,B)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(B){u=""+B},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ye(t){t._valueTracker||(t._valueTracker=Se(t))}function We(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return t&&(u=ce(t)?t.checked?"true":"false":t.value),t=u,t!==l?(s.setValue(t),!0):!1}function mt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function It(t,s){var l=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function $t(t,s){var l=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;l=te(s.value!=null?s.value:l),t._wrapperState={initialChecked:u,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function de(t,s){s=s.checked,s!=null&&k(t,"checked",s,!1)}function Ve(t,s){de(t,s);var l=te(s.value),u=s.type;if(l!=null)u==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?xe(t,s.type,l):s.hasOwnProperty("defaultValue")&&xe(t,s.type,te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Oe(t,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,l||s===t.value||(t.value=s),t.defaultValue=s}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function xe(t,s,l){(s!=="number"||mt(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var ct=Array.isArray;function st(t,s,l,u){if(t=t.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=s.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&u&&(t[l].defaultSelected=!0)}else{for(l=""+te(l),s=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function St(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(A(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dt(t,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(A(92));if(ct(l)){if(1<l.length)throw Error(A(93));l=l[0]}s=l}s==null&&(s=""),l=s}t._wrapperState={initialValue:te(l)}}function De(t,s){var l=te(s.value),u=te(s.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),s.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),u!=null&&(t.defaultValue=""+u)}function jt(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Wt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Wt(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kt,Pt=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,u,h){MSApp.execUnsafeLocalFunction(function(){return t(s,l,u,h)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Kt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Yt(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(t){ot.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),ze[s]=ze[t]})});function ge(t,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ze.hasOwnProperty(t)&&ze[t]?(""+s).trim():s+"px"}function ke(t,s){t=t.style;for(var l in s)if(s.hasOwnProperty(l)){var u=l.indexOf("--")===0,h=ge(l,s[l],u);l==="float"&&(l="cssFloat"),u?t.setProperty(l,h):t[l]=h}}var he=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ue(t,s){if(s){if(he[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(A(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(A(61))}if(s.style!=null&&typeof s.style!="object")throw Error(A(62))}}function Ne(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ie=null;function ue(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pt=null,Je=null,je=null;function rt(t){if(t=Si(t)){if(typeof pt!="function")throw Error(A(280));var s=t.stateNode;s&&(s=Ra(s),pt(t.stateNode,t.type,s))}}function it(t){Je?je?je.push(t):je=[t]:Je=t}function Ge(){if(Je){var t=Je,s=je;if(je=Je=null,rt(t),s)for(t=0;t<s.length;t++)rt(s[t])}}function Fe(t,s){return t(s)}function nt(){}var bt=!1;function He(t,s,l){if(bt)return t(s,l);bt=!0;try{return Fe(t,s,l)}finally{bt=!1,(Je!==null||je!==null)&&(nt(),Ge())}}function fe(t,s){var l=t.stateNode;if(l===null)return null;var u=Ra(l);if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(A(231,s,typeof l));return l}var z=!1;if(d)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){z=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{z=!1}function gt(t,s,l,u,h,p,B,F,T){var Z=Array.prototype.slice.call(arguments,3);try{s.apply(l,Z)}catch(be){this.onError(be)}}var _t=!1,$=null,Be=!1,Ie=null,Pe={onError:function(t){_t=!0,$=t}};function se(t,s,l,u,h,p,B,F,T){_t=!1,$=null,gt.apply(Pe,arguments)}function Me(t,s,l,u,h,p,B,F,T){if(se.apply(this,arguments),_t){if(_t){var Z=$;_t=!1,$=null}else throw Error(A(198));Be||(Be=!0,Ie=Z)}}function pe(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function tt(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ce(t){if(pe(t)!==t)throw Error(A(188))}function Te(t){var s=t.alternate;if(!s){if(s=pe(t),s===null)throw Error(A(188));return s!==t?null:t}for(var l=t,u=s;;){var h=l.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===l)return Ce(h),t;if(p===u)return Ce(h),s;p=p.sibling}throw Error(A(188))}if(l.return!==u.return)l=h,u=p;else{for(var B=!1,F=h.child;F;){if(F===l){B=!0,l=h,u=p;break}if(F===u){B=!0,u=h,l=p;break}F=F.sibling}if(!B){for(F=p.child;F;){if(F===l){B=!0,l=p,u=h;break}if(F===u){B=!0,u=p,l=h;break}F=F.sibling}if(!B)throw Error(A(189))}}if(l.alternate!==u)throw Error(A(190))}if(l.tag!==3)throw Error(A(188));return l.stateNode.current===l?t:s}function qe(t){return t=Te(t),t!==null?Ke(t):null}function Ke(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Ke(t);if(s!==null)return s;t=t.sibling}return null}var Xe=e.unstable_scheduleCallback,Re=e.unstable_cancelCallback,Qt=e.unstable_shouldYield,kt=e.unstable_requestPaint,Et=e.unstable_now,ee=e.unstable_getCurrentPriorityLevel,Qe=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,xt=e.unstable_NormalPriority,Nt=e.unstable_LowPriority,Ct=e.unstable_IdlePriority,ft=null,ut=null;function Vt(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(ft,t,void 0,(t.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:en,CA=Math.log,Hr=Math.LN2;function en(t){return t>>>=0,t===0?32:31-(CA(t)/Hr|0)|0}var eA=64,hr=4194304;function wA(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mr(t,s){var l=t.pendingLanes;if(l===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,B=l&268435455;if(B!==0){var F=B&~h;F!==0?u=wA(F):(p&=B,p!==0&&(u=wA(p)))}else B=l&~h,B!==0?u=wA(B):p!==0&&(u=wA(p));if(u===0)return 0;if(s!==0&&s!==u&&(s&h)===0&&(h=u&-u,p=s&-s,h>=p||h===16&&(p&4194240)!==0))return s;if((u&4)!==0&&(u|=l&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=u;0<s;)l=31-Tt(s),h=1<<l,u|=t[l],s&=~h;return u}function Dn(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(t,s){for(var l=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var B=31-Tt(p),F=1<<B,T=h[B];T===-1?((F&l)===0||(F&u)!==0)&&(h[B]=Dn(F,s)):T<=s&&(t.expiredLanes|=F),p&=~F}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function An(){var t=eA;return eA<<=1,(eA&4194240)===0&&(eA=64),t}function fs(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function rn(t,s,l){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Tt(s),t[s]=l}function xw(t,s){var l=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<l;){var h=31-Tt(l),p=1<<h;s[h]=0,u[h]=-1,t[h]=-1,l&=~p}}function Pl(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var u=31-Tt(l),h=1<<u;h&s|t[u]&s&&(t[u]|=s),l&=~h}}var Mt=0;function lf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var cf,Rl,uf,df,ff,Ol=!1,Ea=[],nn=null,sn=null,an=null,hi=new Map,mi=new Map,on=[],Bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hf(t,s){switch(t){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":hi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(s.pointerId)}}function gi(t,s,l,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=Si(s),s!==null&&Rl(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function vw(t,s,l,u,h){switch(s){case"focusin":return nn=gi(nn,t,s,l,u,h),!0;case"dragenter":return sn=gi(sn,t,s,l,u,h),!0;case"mouseover":return an=gi(an,t,s,l,u,h),!0;case"pointerover":var p=h.pointerId;return hi.set(p,gi(hi.get(p)||null,t,s,l,u,h)),!0;case"gotpointercapture":return p=h.pointerId,mi.set(p,gi(mi.get(p)||null,t,s,l,u,h)),!0}return!1}function mf(t){var s=Rn(t.target);if(s!==null){var l=pe(s);if(l!==null){if(s=l.tag,s===13){if(s=tt(l),s!==null){t.blockedOn=s,ff(t.priority,function(){uf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qa(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=Kl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);ie=u,l.target.dispatchEvent(u),ie=null}else return s=Si(l),s!==null&&Rl(s),t.blockedOn=l,!1;s.shift()}return!0}function gf(t,s,l){Qa(t)&&l.delete(s)}function yw(){Ol=!1,nn!==null&&Qa(nn)&&(nn=null),sn!==null&&Qa(sn)&&(sn=null),an!==null&&Qa(an)&&(an=null),hi.forEach(gf),mi.forEach(gf)}function pi(t,s){t.blockedOn===s&&(t.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yw)))}function wi(t){function s(h){return pi(h,t)}if(0<Ea.length){pi(Ea[0],t);for(var l=1;l<Ea.length;l++){var u=Ea[l];u.blockedOn===t&&(u.blockedOn=null)}}for(nn!==null&&pi(nn,t),sn!==null&&pi(sn,t),an!==null&&pi(an,t),hi.forEach(s),mi.forEach(s),l=0;l<on.length;l++)u=on[l],u.blockedOn===t&&(u.blockedOn=null);for(;0<on.length&&(l=on[0],l.blockedOn===null);)mf(l),l.blockedOn===null&&on.shift()}var hs=R.ReactCurrentBatchConfig,Ua=!0;function bw(t,s,l,u){var h=Mt,p=hs.transition;hs.transition=null;try{Mt=1,Ml(t,s,l,u)}finally{Mt=h,hs.transition=p}}function Cw(t,s,l,u){var h=Mt,p=hs.transition;hs.transition=null;try{Mt=4,Ml(t,s,l,u)}finally{Mt=h,hs.transition=p}}function Ml(t,s,l,u){if(Ua){var h=Kl(t,s,l,u);if(h===null)ic(t,s,u,_a,l),hf(t,u);else if(vw(h,t,s,l,u))u.stopPropagation();else if(hf(t,u),s&4&&-1<Bw.indexOf(t)){for(;h!==null;){var p=Si(h);if(p!==null&&cf(p),p=Kl(t,s,l,u),p===null&&ic(t,s,u,_a,l),p===h)break;h=p}h!==null&&u.stopPropagation()}else ic(t,s,u,null,l)}}var _a=null;function Kl(t,s,l,u){if(_a=null,t=ue(u),t=Rn(t),t!==null)if(s=pe(t),s===null)t=null;else if(l=s.tag,l===13){if(t=tt(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return _a=t,null}function pf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ee()){case Qe:return 1;case me:return 4;case xt:case Nt:return 16;case Ct:return 536870912;default:return 16}default:return 16}}var ln=null,Gl=null,Fa=null;function wf(){if(Fa)return Fa;var t,s=Gl,l=s.length,u,h="value"in ln?ln.value:ln.textContent,p=h.length;for(t=0;t<l&&s[t]===h[t];t++);var B=l-t;for(u=1;u<=B&&s[l-u]===h[p-u];u++);return Fa=h.slice(t,1<u?1-u:void 0)}function Sa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function xf(){return!1}function JA(t){function s(l,u,h,p,B){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=B,this.currentTarget=null;for(var F in t)t.hasOwnProperty(F)&&(l=t[F],this[F]=l?l(p):p[F]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ka:xf,this.isPropagationStopped=xf,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),s}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=JA(ms),xi=G({},ms,{view:0,detail:0}),Ew=JA(xi),Wl,Vl,Bi,Na=G({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Wl=t.screenX-Bi.screenX,Vl=t.screenY-Bi.screenY):Vl=Wl=0,Bi=t),Wl)},movementY:function(t){return"movementY"in t?t.movementY:Vl}}),Bf=JA(Na),Qw=G({},Na,{dataTransfer:0}),Uw=JA(Qw),_w=G({},xi,{relatedTarget:0}),zl=JA(_w),Fw=G({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Sw=JA(Fw),kw=G({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nw=JA(kw),Iw=G({},ms,{data:0}),vf=JA(Iw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hw(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Lw[t])?!!s[t]:!1}function Jl(){return Hw}var Dw=G({},xi,{key:function(t){if(t.key){var s=jw[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(t){return t.type==="keypress"?Sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pw=JA(Dw),Rw=G({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=JA(Rw),Ow=G({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),Mw=JA(Ow),Kw=G({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gw=JA(Kw),$w=G({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ww=JA($w),Vw=[9,13,27,32],Xl=d&&"CompositionEvent"in window,vi=null;d&&"documentMode"in document&&(vi=document.documentMode);var zw=d&&"TextEvent"in window&&!vi,bf=d&&(!Xl||vi&&8<vi&&11>=vi),Cf=" ",Ef=!1;function Qf(t,s){switch(t){case"keyup":return Vw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function Jw(t,s){switch(t){case"compositionend":return Uf(s);case"keypress":return s.which!==32?null:(Ef=!0,Cf);case"textInput":return t=s.data,t===Cf&&Ef?null:t;default:return null}}function Xw(t,s){if(gs)return t==="compositionend"||!Xl&&Qf(t,s)?(t=wf(),Fa=Gl=ln=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bf&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _f(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Yw[t.type]:s==="textarea"}function Ff(t,s,l,u){it(u),s=Ha(s,"onChange"),0<s.length&&(l=new $l("onChange","change",null,l,u),t.push({event:l,listeners:s}))}var yi=null,bi=null;function qw(t){Vf(t,0)}function Ia(t){var s=vs(t);if(We(s))return t}function Zw(t,s){if(t==="change")return s}var Sf=!1;if(d){var Yl;if(d){var ql="oninput"in document;if(!ql){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),ql=typeof kf.oninput=="function"}Yl=ql}else Yl=!1;Sf=Yl&&(!document.documentMode||9<document.documentMode)}function Nf(){yi&&(yi.detachEvent("onpropertychange",If),bi=yi=null)}function If(t){if(t.propertyName==="value"&&Ia(bi)){var s=[];Ff(s,bi,t,ue(t)),He(qw,s)}}function ex(t,s,l){t==="focusin"?(Nf(),yi=s,bi=l,yi.attachEvent("onpropertychange",If)):t==="focusout"&&Nf()}function tx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ia(bi)}function Ax(t,s){if(t==="click")return Ia(s)}function rx(t,s){if(t==="input"||t==="change")return Ia(s)}function nx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var gr=typeof Object.is=="function"?Object.is:nx;function Ci(t,s){if(gr(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!f.call(s,h)||!gr(t[h],s[h]))return!1}return!0}function jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tf(t,s){var l=jf(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=s&&u>=s)return{node:l,offset:s-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jf(l)}}function Lf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Lf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Hf(){for(var t=window,s=mt();s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=mt(t.document)}return s}function Zl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function sx(t){var s=Hf(),l=t.focusedElem,u=t.selectionRange;if(s!==l&&l&&l.ownerDocument&&Lf(l.ownerDocument.documentElement,l)){if(u!==null&&Zl(l)){if(s=u.start,t=u.end,t===void 0&&(t=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(t,l.value.length);else if(t=(s=l.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var h=l.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Tf(l,p);var B=Tf(l,u);h&&B&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==B.node||t.focusOffset!==B.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(s),t.extend(B.node,B.offset)):(s.setEnd(B.node,B.offset),t.addRange(s)))}}for(s=[],t=l;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)t=s[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ix=d&&"documentMode"in document&&11>=document.documentMode,ps=null,ec=null,Ei=null,tc=!1;function Df(t,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tc||ps==null||ps!==mt(u)||(u=ps,"selectionStart"in u&&Zl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ei&&Ci(Ei,u)||(Ei=u,u=Ha(ec,"onSelect"),0<u.length&&(s=new $l("onSelect","select",null,s,l),t.push({event:s,listeners:u}),s.target=ps)))}function ja(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var ws={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Ac={},Pf={};d&&(Pf=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Ta(t){if(Ac[t])return Ac[t];if(!ws[t])return t;var s=ws[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in Pf)return Ac[t]=s[l];return t}var Rf=Ta("animationend"),Of=Ta("animationiteration"),Mf=Ta("animationstart"),Kf=Ta("transitionend"),Gf=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(t,s){Gf.set(t,s),o(s,[t])}for(var rc=0;rc<$f.length;rc++){var nc=$f[rc],ax=nc.toLowerCase(),ox=nc[0].toUpperCase()+nc.slice(1);cn(ax,"on"+ox)}cn(Rf,"onAnimationEnd"),cn(Of,"onAnimationIteration"),cn(Mf,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(Kf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Wf(t,s,l){var u=t.type||"unknown-event";t.currentTarget=l,Me(u,s,void 0,t),t.currentTarget=null}function Vf(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var B=u.length-1;0<=B;B--){var F=u[B],T=F.instance,Z=F.currentTarget;if(F=F.listener,T!==p&&h.isPropagationStopped())break e;Wf(h,F,Z),p=T}else for(B=0;B<u.length;B++){if(F=u[B],T=F.instance,Z=F.currentTarget,F=F.listener,T!==p&&h.isPropagationStopped())break e;Wf(h,F,Z),p=T}}}if(Be)throw t=Ie,Be=!1,Ie=null,t}function qt(t,s){var l=s[dc];l===void 0&&(l=s[dc]=new Set);var u=t+"__bubble";l.has(u)||(zf(s,t,2,!1),l.add(u))}function sc(t,s,l){var u=0;s&&(u|=4),zf(l,t,u,s)}var La="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[La]){t[La]=!0,n.forEach(function(l){l!=="selectionchange"&&(lx.has(l)||sc(l,!1,t),sc(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[La]||(s[La]=!0,sc("selectionchange",!1,s))}}function zf(t,s,l,u){switch(pf(s)){case 1:var h=bw;break;case 4:h=Cw;break;default:h=Ml}l=h.bind(null,s,l,t),h=void 0,!z||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(s,l,{capture:!0,passive:h}):t.addEventListener(s,l,!0):h!==void 0?t.addEventListener(s,l,{passive:h}):t.addEventListener(s,l,!1)}function ic(t,s,l,u,h){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var B=u.tag;if(B===3||B===4){var F=u.stateNode.containerInfo;if(F===h||F.nodeType===8&&F.parentNode===h)break;if(B===4)for(B=u.return;B!==null;){var T=B.tag;if((T===3||T===4)&&(T=B.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;B=B.return}for(;F!==null;){if(B=Rn(F),B===null)return;if(T=B.tag,T===5||T===6){u=p=B;continue e}F=F.parentNode}}u=u.return}He(function(){var Z=p,be=ue(l),_e=[];e:{var ve=Gf.get(t);if(ve!==void 0){var Ze=$l,at=t;switch(t){case"keypress":if(Sa(l)===0)break e;case"keydown":case"keyup":Ze=Pw;break;case"focusin":at="focus",Ze=zl;break;case"focusout":at="blur",Ze=zl;break;case"beforeblur":case"afterblur":Ze=zl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=Uw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Mw;break;case Rf:case Of:case Mf:Ze=Sw;break;case Kf:Ze=Gw;break;case"scroll":Ze=Ew;break;case"wheel":Ze=Ww;break;case"copy":case"cut":case"paste":Ze=Nw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=yf}var lt=(s&4)!==0,aA=!lt&&t==="scroll",V=lt?ve!==null?ve+"Capture":null:ve;lt=[];for(var O=Z,q;O!==null;){q=O;var Le=q.stateNode;if(q.tag===5&&Le!==null&&(q=Le,V!==null&&(Le=fe(O,V),Le!=null&&lt.push(_i(O,Le,q)))),aA)break;O=O.return}0<lt.length&&(ve=new Ze(ve,at,null,l,be),_e.push({event:ve,listeners:lt}))}}if((s&7)===0){e:{if(ve=t==="mouseover"||t==="pointerover",Ze=t==="mouseout"||t==="pointerout",ve&&l!==ie&&(at=l.relatedTarget||l.fromElement)&&(Rn(at)||at[Dr]))break e;if((Ze||ve)&&(ve=be.window===be?be:(ve=be.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ze?(at=l.relatedTarget||l.toElement,Ze=Z,at=at?Rn(at):null,at!==null&&(aA=pe(at),at!==aA||at.tag!==5&&at.tag!==6)&&(at=null)):(Ze=null,at=Z),Ze!==at)){if(lt=Bf,Le="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(lt=yf,Le="onPointerLeave",V="onPointerEnter",O="pointer"),aA=Ze==null?ve:vs(Ze),q=at==null?ve:vs(at),ve=new lt(Le,O+"leave",Ze,l,be),ve.target=aA,ve.relatedTarget=q,Le=null,Rn(be)===Z&&(lt=new lt(V,O+"enter",at,l,be),lt.target=q,lt.relatedTarget=aA,Le=lt),aA=Le,Ze&&at)t:{for(lt=Ze,V=at,O=0,q=lt;q;q=xs(q))O++;for(q=0,Le=V;Le;Le=xs(Le))q++;for(;0<O-q;)lt=xs(lt),O--;for(;0<q-O;)V=xs(V),q--;for(;O--;){if(lt===V||V!==null&&lt===V.alternate)break t;lt=xs(lt),V=xs(V)}lt=null}else lt=null;Ze!==null&&Jf(_e,ve,Ze,lt,!1),at!==null&&aA!==null&&Jf(_e,aA,at,lt,!0)}}e:{if(ve=Z?vs(Z):window,Ze=ve.nodeName&&ve.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&ve.type==="file")var ht=Zw;else if(_f(ve))if(Sf)ht=rx;else{ht=tx;var Bt=ex}else(Ze=ve.nodeName)&&Ze.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(ht=Ax);if(ht&&(ht=ht(t,Z))){Ff(_e,ht,l,be);break e}Bt&&Bt(t,ve,Z),t==="focusout"&&(Bt=ve._wrapperState)&&Bt.controlled&&ve.type==="number"&&xe(ve,"number",ve.value)}switch(Bt=Z?vs(Z):window,t){case"focusin":(_f(Bt)||Bt.contentEditable==="true")&&(ps=Bt,ec=Z,Ei=null);break;case"focusout":Ei=ec=ps=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Df(_e,l,be);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":Df(_e,l,be)}var vt;if(Xl)e:{switch(t){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else gs?Qf(t,l)&&(Ut="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ut="onCompositionStart");Ut&&(bf&&l.locale!=="ko"&&(gs||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&gs&&(vt=wf()):(ln=be,Gl="value"in ln?ln.value:ln.textContent,gs=!0)),Bt=Ha(Z,Ut),0<Bt.length&&(Ut=new vf(Ut,t,null,l,be),_e.push({event:Ut,listeners:Bt}),vt?Ut.data=vt:(vt=Uf(l),vt!==null&&(Ut.data=vt)))),(vt=zw?Jw(t,l):Xw(t,l))&&(Z=Ha(Z,"onBeforeInput"),0<Z.length&&(be=new vf("onBeforeInput","beforeinput",null,l,be),_e.push({event:be,listeners:Z}),be.data=vt))}Vf(_e,s)})}function _i(t,s,l){return{instance:t,listener:s,currentTarget:l}}function Ha(t,s){for(var l=s+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=fe(t,l),p!=null&&u.unshift(_i(t,p,h)),p=fe(t,s),p!=null&&u.push(_i(t,p,h))),t=t.return}return u}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jf(t,s,l,u,h){for(var p=s._reactName,B=[];l!==null&&l!==u;){var F=l,T=F.alternate,Z=F.stateNode;if(T!==null&&T===u)break;F.tag===5&&Z!==null&&(F=Z,h?(T=fe(l,p),T!=null&&B.unshift(_i(l,T,F))):h||(T=fe(l,p),T!=null&&B.push(_i(l,T,F)))),l=l.return}B.length!==0&&t.push({event:s,listeners:B})}var cx=/\r\n?/g,ux=/\u0000|\uFFFD/g;function Xf(t){return(typeof t=="string"?t:""+t).replace(cx,`
`).replace(ux,"")}function Da(t,s,l){if(s=Xf(s),Xf(t)!==s&&l)throw Error(A(425))}function Pa(){}var ac=null,oc=null;function lc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(t){return Yf.resolve(null).then(t).catch(hx)}:cc;function hx(t){setTimeout(function(){throw t})}function uc(t,s){var l=s,u=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(u===0){t.removeChild(h),wi(s);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=h}while(l);wi(s)}function un(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function qf(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return t;s--}else l==="/$"&&s++}t=t.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Bs,Fi="__reactProps$"+Bs,Dr="__reactContainer$"+Bs,dc="__reactEvents$"+Bs,mx="__reactListeners$"+Bs,gx="__reactHandles$"+Bs;function Rn(t){var s=t[Fr];if(s)return s;for(var l=t.parentNode;l;){if(s=l[Dr]||l[Fr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=qf(t);t!==null;){if(l=t[Fr])return l;t=qf(t)}return s}t=l,l=t.parentNode}return null}function Si(t){return t=t[Fr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Ra(t){return t[Fi]||null}var fc=[],ys=-1;function dn(t){return{current:t}}function Zt(t){0>ys||(t.current=fc[ys],fc[ys]=null,ys--)}function zt(t,s){ys++,fc[ys]=t.current,t.current=s}var fn={},SA=dn(fn),RA=dn(!1),On=fn;function bs(t,s){var l=t.type.contextTypes;if(!l)return fn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in l)h[p]=s[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=h),h}function OA(t){return t=t.childContextTypes,t!=null}function Oa(){Zt(RA),Zt(SA)}function Zf(t,s,l){if(SA.current!==fn)throw Error(A(168));zt(SA,s),zt(RA,l)}function eh(t,s,l){var u=t.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var h in u)if(!(h in s))throw Error(A(108,$e(t)||"Unknown",h));return G({},l,u)}function Ma(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fn,On=SA.current,zt(SA,t),zt(RA,RA.current),!0}function th(t,s,l){var u=t.stateNode;if(!u)throw Error(A(169));l?(t=eh(t,s,On),u.__reactInternalMemoizedMergedChildContext=t,Zt(RA),Zt(SA),zt(SA,t)):Zt(RA),zt(RA,l)}var Pr=null,Ka=!1,hc=!1;function Ah(t){Pr===null?Pr=[t]:Pr.push(t)}function px(t){Ka=!0,Ah(t)}function hn(){if(!hc&&Pr!==null){hc=!0;var t=0,s=Mt;try{var l=Pr;for(Mt=1;t<l.length;t++){var u=l[t];do u=u(!0);while(u!==null)}Pr=null,Ka=!1}catch(h){throw Pr!==null&&(Pr=Pr.slice(t+1)),Xe(Qe,hn),h}finally{Mt=s,hc=!1}}return null}var Cs=[],Es=0,Ga=null,$a=0,Ar=[],rr=0,Mn=null,Rr=1,Or="";function Kn(t,s){Cs[Es++]=$a,Cs[Es++]=Ga,Ga=t,$a=s}function rh(t,s,l){Ar[rr++]=Rr,Ar[rr++]=Or,Ar[rr++]=Mn,Mn=t;var u=Rr;t=Or;var h=32-Tt(u)-1;u&=~(1<<h),l+=1;var p=32-Tt(s)+h;if(30<p){var B=h-h%5;p=(u&(1<<B)-1).toString(32),u>>=B,h-=B,Rr=1<<32-Tt(s)+h|l<<h|u,Or=p+t}else Rr=1<<p|l<<h|u,Or=t}function mc(t){t.return!==null&&(Kn(t,1),rh(t,1,0))}function gc(t){for(;t===Ga;)Ga=Cs[--Es],Cs[Es]=null,$a=Cs[--Es],Cs[Es]=null;for(;t===Mn;)Mn=Ar[--rr],Ar[rr]=null,Or=Ar[--rr],Ar[rr]=null,Rr=Ar[--rr],Ar[rr]=null}var XA=null,YA=null,tA=!1,pr=null;function nh(t,s){var l=ar(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=t,s=t.deletions,s===null?(t.deletions=[l],t.flags|=16):s.push(l)}function sh(t,s){switch(t.tag){case 5:var l=t.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,XA=t,YA=un(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,XA=t,YA=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Mn!==null?{id:Rr,overflow:Or}:null,t.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=ar(18,null,null,0),l.stateNode=s,l.return=t,t.child=l,XA=t,YA=null,!0):!1;default:return!1}}function pc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wc(t){if(tA){var s=YA;if(s){var l=s;if(!sh(t,s)){if(pc(t))throw Error(A(418));s=un(l.nextSibling);var u=XA;s&&sh(t,s)?nh(u,l):(t.flags=t.flags&-4097|2,tA=!1,XA=t)}}else{if(pc(t))throw Error(A(418));t.flags=t.flags&-4097|2,tA=!1,XA=t}}}function ih(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;XA=t}function Wa(t){if(t!==XA)return!1;if(!tA)return ih(t),tA=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!lc(t.type,t.memoizedProps)),s&&(s=YA)){if(pc(t))throw ah(),Error(A(418));for(;s;)nh(t,s),s=un(s.nextSibling)}if(ih(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(s===0){YA=un(t.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}t=t.nextSibling}YA=null}}else YA=XA?un(t.stateNode.nextSibling):null;return!0}function ah(){for(var t=YA;t;)t=un(t.nextSibling)}function Qs(){YA=XA=null,tA=!1}function xc(t){pr===null?pr=[t]:pr.push(t)}var wx=R.ReactCurrentBatchConfig;function ki(t,s,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(A(309));var u=l.stateNode}if(!u)throw Error(A(147,t));var h=u,p=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(B){var F=h.refs;B===null?delete F[p]:F[p]=B},s._stringRef=p,s)}if(typeof t!="string")throw Error(A(284));if(!l._owner)throw Error(A(290,t))}return t}function Va(t,s){throw t=Object.prototype.toString.call(s),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function oh(t){var s=t._init;return s(t._payload)}function lh(t){function s(V,O){if(t){var q=V.deletions;q===null?(V.deletions=[O],V.flags|=16):q.push(O)}}function l(V,O){if(!t)return null;for(;O!==null;)s(V,O),O=O.sibling;return null}function u(V,O){for(V=new Map;O!==null;)O.key!==null?V.set(O.key,O):V.set(O.index,O),O=O.sibling;return V}function h(V,O){return V=yn(V,O),V.index=0,V.sibling=null,V}function p(V,O,q){return V.index=q,t?(q=V.alternate,q!==null?(q=q.index,q<O?(V.flags|=2,O):q):(V.flags|=2,O)):(V.flags|=1048576,O)}function B(V){return t&&V.alternate===null&&(V.flags|=2),V}function F(V,O,q,Le){return O===null||O.tag!==6?(O=cu(q,V.mode,Le),O.return=V,O):(O=h(O,q),O.return=V,O)}function T(V,O,q,Le){var ht=q.type;return ht===P?be(V,O,q.props.children,Le,q.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Y&&oh(ht)===O.type)?(Le=h(O,q.props),Le.ref=ki(V,O,q),Le.return=V,Le):(Le=wo(q.type,q.key,q.props,null,V.mode,Le),Le.ref=ki(V,O,q),Le.return=V,Le)}function Z(V,O,q,Le){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=uu(q,V.mode,Le),O.return=V,O):(O=h(O,q.children||[]),O.return=V,O)}function be(V,O,q,Le,ht){return O===null||O.tag!==7?(O=Yn(q,V.mode,Le,ht),O.return=V,O):(O=h(O,q),O.return=V,O)}function _e(V,O,q){if(typeof O=="string"&&O!==""||typeof O=="number")return O=cu(""+O,V.mode,q),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return q=wo(O.type,O.key,O.props,null,V.mode,q),q.ref=ki(V,null,O),q.return=V,q;case j:return O=uu(O,V.mode,q),O.return=V,O;case Y:var Le=O._init;return _e(V,Le(O._payload),q)}if(ct(O)||N(O))return O=Yn(O,V.mode,q,null),O.return=V,O;Va(V,O)}return null}function ve(V,O,q,Le){var ht=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ht!==null?null:F(V,O,""+q,Le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===ht?T(V,O,q,Le):null;case j:return q.key===ht?Z(V,O,q,Le):null;case Y:return ht=q._init,ve(V,O,ht(q._payload),Le)}if(ct(q)||N(q))return ht!==null?null:be(V,O,q,Le,null);Va(V,q)}return null}function Ze(V,O,q,Le,ht){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return V=V.get(q)||null,F(O,V,""+Le,ht);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case I:return V=V.get(Le.key===null?q:Le.key)||null,T(O,V,Le,ht);case j:return V=V.get(Le.key===null?q:Le.key)||null,Z(O,V,Le,ht);case Y:var Bt=Le._init;return Ze(V,O,q,Bt(Le._payload),ht)}if(ct(Le)||N(Le))return V=V.get(q)||null,be(O,V,Le,ht,null);Va(O,Le)}return null}function at(V,O,q,Le){for(var ht=null,Bt=null,vt=O,Ut=O=0,vA=null;vt!==null&&Ut<q.length;Ut++){vt.index>Ut?(vA=vt,vt=null):vA=vt.sibling;var Rt=ve(V,vt,q[Ut],Le);if(Rt===null){vt===null&&(vt=vA);break}t&&vt&&Rt.alternate===null&&s(V,vt),O=p(Rt,O,Ut),Bt===null?ht=Rt:Bt.sibling=Rt,Bt=Rt,vt=vA}if(Ut===q.length)return l(V,vt),tA&&Kn(V,Ut),ht;if(vt===null){for(;Ut<q.length;Ut++)vt=_e(V,q[Ut],Le),vt!==null&&(O=p(vt,O,Ut),Bt===null?ht=vt:Bt.sibling=vt,Bt=vt);return tA&&Kn(V,Ut),ht}for(vt=u(V,vt);Ut<q.length;Ut++)vA=Ze(vt,V,Ut,q[Ut],Le),vA!==null&&(t&&vA.alternate!==null&&vt.delete(vA.key===null?Ut:vA.key),O=p(vA,O,Ut),Bt===null?ht=vA:Bt.sibling=vA,Bt=vA);return t&&vt.forEach(function(bn){return s(V,bn)}),tA&&Kn(V,Ut),ht}function lt(V,O,q,Le){var ht=N(q);if(typeof ht!="function")throw Error(A(150));if(q=ht.call(q),q==null)throw Error(A(151));for(var Bt=ht=null,vt=O,Ut=O=0,vA=null,Rt=q.next();vt!==null&&!Rt.done;Ut++,Rt=q.next()){vt.index>Ut?(vA=vt,vt=null):vA=vt.sibling;var bn=ve(V,vt,Rt.value,Le);if(bn===null){vt===null&&(vt=vA);break}t&&vt&&bn.alternate===null&&s(V,vt),O=p(bn,O,Ut),Bt===null?ht=bn:Bt.sibling=bn,Bt=bn,vt=vA}if(Rt.done)return l(V,vt),tA&&Kn(V,Ut),ht;if(vt===null){for(;!Rt.done;Ut++,Rt=q.next())Rt=_e(V,Rt.value,Le),Rt!==null&&(O=p(Rt,O,Ut),Bt===null?ht=Rt:Bt.sibling=Rt,Bt=Rt);return tA&&Kn(V,Ut),ht}for(vt=u(V,vt);!Rt.done;Ut++,Rt=q.next())Rt=Ze(vt,V,Ut,Rt.value,Le),Rt!==null&&(t&&Rt.alternate!==null&&vt.delete(Rt.key===null?Ut:Rt.key),O=p(Rt,O,Ut),Bt===null?ht=Rt:Bt.sibling=Rt,Bt=Rt);return t&&vt.forEach(function(Yx){return s(V,Yx)}),tA&&Kn(V,Ut),ht}function aA(V,O,q,Le){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:e:{for(var ht=q.key,Bt=O;Bt!==null;){if(Bt.key===ht){if(ht=q.type,ht===P){if(Bt.tag===7){l(V,Bt.sibling),O=h(Bt,q.props.children),O.return=V,V=O;break e}}else if(Bt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Y&&oh(ht)===Bt.type){l(V,Bt.sibling),O=h(Bt,q.props),O.ref=ki(V,Bt,q),O.return=V,V=O;break e}l(V,Bt);break}else s(V,Bt);Bt=Bt.sibling}q.type===P?(O=Yn(q.props.children,V.mode,Le,q.key),O.return=V,V=O):(Le=wo(q.type,q.key,q.props,null,V.mode,Le),Le.ref=ki(V,O,q),Le.return=V,V=Le)}return B(V);case j:e:{for(Bt=q.key;O!==null;){if(O.key===Bt)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){l(V,O.sibling),O=h(O,q.children||[]),O.return=V,V=O;break e}else{l(V,O);break}else s(V,O);O=O.sibling}O=uu(q,V.mode,Le),O.return=V,V=O}return B(V);case Y:return Bt=q._init,aA(V,O,Bt(q._payload),Le)}if(ct(q))return at(V,O,q,Le);if(N(q))return lt(V,O,q,Le);Va(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,O!==null&&O.tag===6?(l(V,O.sibling),O=h(O,q),O.return=V,V=O):(l(V,O),O=cu(q,V.mode,Le),O.return=V,V=O),B(V)):l(V,O)}return aA}var Us=lh(!0),ch=lh(!1),za=dn(null),Ja=null,_s=null,Bc=null;function vc(){Bc=_s=Ja=null}function yc(t){var s=za.current;Zt(za),t._currentValue=s}function bc(t,s,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===l)break;t=t.return}}function Fs(t,s){Ja=t,Bc=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(MA=!0),t.firstContext=null)}function nr(t){var s=t._currentValue;if(Bc!==t)if(t={context:t,memoizedValue:s,next:null},_s===null){if(Ja===null)throw Error(A(308));_s=t,Ja.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return s}var Gn=null;function Cc(t){Gn===null?Gn=[t]:Gn.push(t)}function uh(t,s,l,u){var h=s.interleaved;return h===null?(l.next=l,Cc(s)):(l.next=h.next,h.next=l),s.interleaved=l,Mr(t,u)}function Mr(t,s){t.lanes|=s;var l=t.alternate;for(l!==null&&(l.lanes|=s),l=t,t=t.return;t!==null;)t.childLanes|=s,l=t.alternate,l!==null&&(l.childLanes|=s),l=t,t=t.return;return l.tag===3?l.stateNode:null}var mn=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function gn(t,s,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Dt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,Mr(t,l)}return h=u.interleaved,h===null?(s.next=s,Cc(u)):(s.next=h.next,h.next=s),u.interleaved=s,Mr(t,l)}function Xa(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var u=s.lanes;u&=t.pendingLanes,l|=u,s.lanes=l,Pl(t,l)}}function fh(t,s){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var B={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?h=p=B:p=p.next=B,l=l.next}while(l!==null);p===null?h=p=s:p=p.next=s}else h=p=s;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}function Ya(t,s,l,u){var h=t.updateQueue;mn=!1;var p=h.firstBaseUpdate,B=h.lastBaseUpdate,F=h.shared.pending;if(F!==null){h.shared.pending=null;var T=F,Z=T.next;T.next=null,B===null?p=Z:B.next=Z,B=T;var be=t.alternate;be!==null&&(be=be.updateQueue,F=be.lastBaseUpdate,F!==B&&(F===null?be.firstBaseUpdate=Z:F.next=Z,be.lastBaseUpdate=T))}if(p!==null){var _e=h.baseState;B=0,be=Z=T=null,F=p;do{var ve=F.lane,Ze=F.eventTime;if((u&ve)===ve){be!==null&&(be=be.next={eventTime:Ze,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var at=t,lt=F;switch(ve=s,Ze=l,lt.tag){case 1:if(at=lt.payload,typeof at=="function"){_e=at.call(Ze,_e,ve);break e}_e=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=lt.payload,ve=typeof at=="function"?at.call(Ze,_e,ve):at,ve==null)break e;_e=G({},_e,ve);break e;case 2:mn=!0}}F.callback!==null&&F.lane!==0&&(t.flags|=64,ve=h.effects,ve===null?h.effects=[F]:ve.push(F))}else Ze={eventTime:Ze,lane:ve,tag:F.tag,payload:F.payload,callback:F.callback,next:null},be===null?(Z=be=Ze,T=_e):be=be.next=Ze,B|=ve;if(F=F.next,F===null){if(F=h.shared.pending,F===null)break;ve=F,F=ve.next,ve.next=null,h.lastBaseUpdate=ve,h.shared.pending=null}}while(!0);if(be===null&&(T=_e),h.baseState=T,h.firstBaseUpdate=Z,h.lastBaseUpdate=be,s=h.shared.interleaved,s!==null){h=s;do B|=h.lane,h=h.next;while(h!==s)}else p===null&&(h.shared.lanes=0);Vn|=B,t.lanes=B,t.memoizedState=_e}}function hh(t,s,l){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var u=t[s],h=u.callback;if(h!==null){if(u.callback=null,u=l,typeof h!="function")throw Error(A(191,h));h.call(u)}}}var Ni={},Sr=dn(Ni),Ii=dn(Ni),ji=dn(Ni);function $n(t){if(t===Ni)throw Error(A(174));return t}function Qc(t,s){switch(zt(ji,s),zt(Ii,t),zt(Sr,Ni),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=wt(s,t)}Zt(Sr),zt(Sr,s)}function Ss(){Zt(Sr),Zt(Ii),Zt(ji)}function mh(t){$n(ji.current);var s=$n(Sr.current),l=wt(s,t.type);s!==l&&(zt(Ii,t),zt(Sr,l))}function Uc(t){Ii.current===t&&(Zt(Sr),Zt(Ii))}var nA=dn(0);function qa(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _c=[];function Fc(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var Za=R.ReactCurrentDispatcher,Sc=R.ReactCurrentBatchConfig,Wn=0,sA=null,hA=null,xA=null,eo=!1,Ti=!1,Li=0,xx=0;function kA(){throw Error(A(321))}function kc(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!gr(t[l],s[l]))return!1;return!0}function Nc(t,s,l,u,h,p){if(Wn=p,sA=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Za.current=t===null||t.memoizedState===null?bx:Cx,t=l(u,h),Ti){p=0;do{if(Ti=!1,Li=0,25<=p)throw Error(A(301));p+=1,xA=hA=null,s.updateQueue=null,Za.current=Ex,t=l(u,h)}while(Ti)}if(Za.current=ro,s=hA!==null&&hA.next!==null,Wn=0,xA=hA=sA=null,eo=!1,s)throw Error(A(300));return t}function Ic(){var t=Li!==0;return Li=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xA===null?sA.memoizedState=xA=t:xA=xA.next=t,xA}function sr(){if(hA===null){var t=sA.alternate;t=t!==null?t.memoizedState:null}else t=hA.next;var s=xA===null?sA.memoizedState:xA.next;if(s!==null)xA=s,hA=t;else{if(t===null)throw Error(A(310));hA=t,t={memoizedState:hA.memoizedState,baseState:hA.baseState,baseQueue:hA.baseQueue,queue:hA.queue,next:null},xA===null?sA.memoizedState=xA=t:xA=xA.next=t}return xA}function Hi(t,s){return typeof s=="function"?s(t):s}function jc(t){var s=sr(),l=s.queue;if(l===null)throw Error(A(311));l.lastRenderedReducer=t;var u=hA,h=u.baseQueue,p=l.pending;if(p!==null){if(h!==null){var B=h.next;h.next=p.next,p.next=B}u.baseQueue=h=p,l.pending=null}if(h!==null){p=h.next,u=u.baseState;var F=B=null,T=null,Z=p;do{var be=Z.lane;if((Wn&be)===be)T!==null&&(T=T.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),u=Z.hasEagerState?Z.eagerState:t(u,Z.action);else{var _e={lane:be,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};T===null?(F=T=_e,B=u):T=T.next=_e,sA.lanes|=be,Vn|=be}Z=Z.next}while(Z!==null&&Z!==p);T===null?B=u:T.next=F,gr(u,s.memoizedState)||(MA=!0),s.memoizedState=u,s.baseState=B,s.baseQueue=T,l.lastRenderedState=u}if(t=l.interleaved,t!==null){h=t;do p=h.lane,sA.lanes|=p,Vn|=p,h=h.next;while(h!==t)}else h===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Tc(t){var s=sr(),l=s.queue;if(l===null)throw Error(A(311));l.lastRenderedReducer=t;var u=l.dispatch,h=l.pending,p=s.memoizedState;if(h!==null){l.pending=null;var B=h=h.next;do p=t(p,B.action),B=B.next;while(B!==h);gr(p,s.memoizedState)||(MA=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,u]}function gh(){}function ph(t,s){var l=sA,u=sr(),h=s(),p=!gr(u.memoizedState,h);if(p&&(u.memoizedState=h,MA=!0),u=u.queue,Lc(Bh.bind(null,l,u,t),[t]),u.getSnapshot!==s||p||xA!==null&&xA.memoizedState.tag&1){if(l.flags|=2048,Di(9,xh.bind(null,l,u,h,s),void 0,null),BA===null)throw Error(A(349));(Wn&30)!==0||wh(l,s,h)}return h}function wh(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=sA.updateQueue,s===null?(s={lastEffect:null,stores:null},sA.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function xh(t,s,l,u){s.value=l,s.getSnapshot=u,vh(s)&&yh(t)}function Bh(t,s,l){return l(function(){vh(s)&&yh(t)})}function vh(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!gr(t,l)}catch{return!0}}function yh(t){var s=Mr(t,1);s!==null&&vr(s,t,1,-1)}function bh(t){var s=kr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},s.queue=t,t=t.dispatch=yx.bind(null,sA,t),[s.memoizedState,t]}function Di(t,s,l,u){return t={tag:t,create:s,destroy:l,deps:u,next:null},s=sA.updateQueue,s===null?(s={lastEffect:null,stores:null},sA.updateQueue=s,s.lastEffect=t.next=t):(l=s.lastEffect,l===null?s.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,s.lastEffect=t)),t}function Ch(){return sr().memoizedState}function to(t,s,l,u){var h=kr();sA.flags|=t,h.memoizedState=Di(1|s,l,void 0,u===void 0?null:u)}function Ao(t,s,l,u){var h=sr();u=u===void 0?null:u;var p=void 0;if(hA!==null){var B=hA.memoizedState;if(p=B.destroy,u!==null&&kc(u,B.deps)){h.memoizedState=Di(s,l,p,u);return}}sA.flags|=t,h.memoizedState=Di(1|s,l,p,u)}function Eh(t,s){return to(8390656,8,t,s)}function Lc(t,s){return Ao(2048,8,t,s)}function Qh(t,s){return Ao(4,2,t,s)}function Uh(t,s){return Ao(4,4,t,s)}function _h(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Fh(t,s,l){return l=l!=null?l.concat([t]):null,Ao(4,4,_h.bind(null,s,t),l)}function Hc(){}function Sh(t,s){var l=sr();s=s===void 0?null:s;var u=l.memoizedState;return u!==null&&s!==null&&kc(s,u[1])?u[0]:(l.memoizedState=[t,s],t)}function kh(t,s){var l=sr();s=s===void 0?null:s;var u=l.memoizedState;return u!==null&&s!==null&&kc(s,u[1])?u[0]:(t=t(),l.memoizedState=[t,s],t)}function Nh(t,s,l){return(Wn&21)===0?(t.baseState&&(t.baseState=!1,MA=!0),t.memoizedState=l):(gr(l,s)||(l=An(),sA.lanes|=l,Vn|=l,t.baseState=!0),s)}function Bx(t,s){var l=Mt;Mt=l!==0&&4>l?l:4,t(!0);var u=Sc.transition;Sc.transition={};try{t(!1),s()}finally{Mt=l,Sc.transition=u}}function Ih(){return sr().memoizedState}function vx(t,s,l){var u=Bn(t);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},jh(t))Th(s,l);else if(l=uh(t,s,l,u),l!==null){var h=HA();vr(l,t,u,h),Lh(l,s,u)}}function yx(t,s,l){var u=Bn(t),h={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(jh(t))Th(s,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var B=s.lastRenderedState,F=p(B,l);if(h.hasEagerState=!0,h.eagerState=F,gr(F,B)){var T=s.interleaved;T===null?(h.next=h,Cc(s)):(h.next=T.next,T.next=h),s.interleaved=h;return}}catch{}finally{}l=uh(t,s,h,u),l!==null&&(h=HA(),vr(l,t,u,h),Lh(l,s,u))}}function jh(t){var s=t.alternate;return t===sA||s!==null&&s===sA}function Th(t,s){Ti=eo=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function Lh(t,s,l){if((l&4194240)!==0){var u=s.lanes;u&=t.pendingLanes,l|=u,s.lanes=l,Pl(t,l)}}var ro={readContext:nr,useCallback:kA,useContext:kA,useEffect:kA,useImperativeHandle:kA,useInsertionEffect:kA,useLayoutEffect:kA,useMemo:kA,useReducer:kA,useRef:kA,useState:kA,useDebugValue:kA,useDeferredValue:kA,useTransition:kA,useMutableSource:kA,useSyncExternalStore:kA,useId:kA,unstable_isNewReconciler:!1},bx={readContext:nr,useCallback:function(t,s){return kr().memoizedState=[t,s===void 0?null:s],t},useContext:nr,useEffect:Eh,useImperativeHandle:function(t,s,l){return l=l!=null?l.concat([t]):null,to(4194308,4,_h.bind(null,s,t),l)},useLayoutEffect:function(t,s){return to(4194308,4,t,s)},useInsertionEffect:function(t,s){return to(4,2,t,s)},useMemo:function(t,s){var l=kr();return s=s===void 0?null:s,t=t(),l.memoizedState=[t,s],t},useReducer:function(t,s,l){var u=kr();return s=l!==void 0?l(s):s,u.memoizedState=u.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},u.queue=t,t=t.dispatch=vx.bind(null,sA,t),[u.memoizedState,t]},useRef:function(t){var s=kr();return t={current:t},s.memoizedState=t},useState:bh,useDebugValue:Hc,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=bh(!1),s=t[0];return t=Bx.bind(null,t[1]),kr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,l){var u=sA,h=kr();if(tA){if(l===void 0)throw Error(A(407));l=l()}else{if(l=s(),BA===null)throw Error(A(349));(Wn&30)!==0||wh(u,s,l)}h.memoizedState=l;var p={value:l,getSnapshot:s};return h.queue=p,Eh(Bh.bind(null,u,p,t),[t]),u.flags|=2048,Di(9,xh.bind(null,u,p,l,s),void 0,null),l},useId:function(){var t=kr(),s=BA.identifierPrefix;if(tA){var l=Or,u=Rr;l=(u&~(1<<32-Tt(u)-1)).toString(32)+l,s=":"+s+"R"+l,l=Li++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xx++,s=":"+s+"r"+l.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Cx={readContext:nr,useCallback:Sh,useContext:nr,useEffect:Lc,useImperativeHandle:Fh,useInsertionEffect:Qh,useLayoutEffect:Uh,useMemo:kh,useReducer:jc,useRef:Ch,useState:function(){return jc(Hi)},useDebugValue:Hc,useDeferredValue:function(t){var s=sr();return Nh(s,hA.memoizedState,t)},useTransition:function(){var t=jc(Hi)[0],s=sr().memoizedState;return[t,s]},useMutableSource:gh,useSyncExternalStore:ph,useId:Ih,unstable_isNewReconciler:!1},Ex={readContext:nr,useCallback:Sh,useContext:nr,useEffect:Lc,useImperativeHandle:Fh,useInsertionEffect:Qh,useLayoutEffect:Uh,useMemo:kh,useReducer:Tc,useRef:Ch,useState:function(){return Tc(Hi)},useDebugValue:Hc,useDeferredValue:function(t){var s=sr();return hA===null?s.memoizedState=t:Nh(s,hA.memoizedState,t)},useTransition:function(){var t=Tc(Hi)[0],s=sr().memoizedState;return[t,s]},useMutableSource:gh,useSyncExternalStore:ph,useId:Ih,unstable_isNewReconciler:!1};function wr(t,s){if(t&&t.defaultProps){s=G({},s),t=t.defaultProps;for(var l in t)s[l]===void 0&&(s[l]=t[l]);return s}return s}function Dc(t,s,l,u){s=t.memoizedState,l=l(u,s),l=l==null?s:G({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var no={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,s,l){t=t._reactInternals;var u=HA(),h=Bn(t),p=Kr(u,h);p.payload=s,l!=null&&(p.callback=l),s=gn(t,p,h),s!==null&&(vr(s,t,h,u),Xa(s,t,h))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var u=HA(),h=Bn(t),p=Kr(u,h);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=gn(t,p,h),s!==null&&(vr(s,t,h,u),Xa(s,t,h))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=HA(),u=Bn(t),h=Kr(l,u);h.tag=2,s!=null&&(h.callback=s),s=gn(t,h,u),s!==null&&(vr(s,t,u,l),Xa(s,t,u))}};function Hh(t,s,l,u,h,p,B){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,B):s.prototype&&s.prototype.isPureReactComponent?!Ci(l,u)||!Ci(h,p):!0}function Dh(t,s,l){var u=!1,h=fn,p=s.contextType;return typeof p=="object"&&p!==null?p=nr(p):(h=OA(s)?On:SA.current,u=s.contextTypes,p=(u=u!=null)?bs(t,h):fn),s=new s(l,p),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=no,t.stateNode=s,s._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),s}function Ph(t,s,l,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==t&&no.enqueueReplaceState(s,s.state,null)}function Pc(t,s,l,u){var h=t.stateNode;h.props=l,h.state=t.memoizedState,h.refs={},Ec(t);var p=s.contextType;typeof p=="object"&&p!==null?h.context=nr(p):(p=OA(s)?On:SA.current,h.context=bs(t,p)),h.state=t.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Dc(t,s,p,l),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&no.enqueueReplaceState(h,h.state,null),Ya(t,l,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,s){try{var l="",u=s;do l+=Ae(u),u=u.return;while(u);var h=l}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:s,stack:h,digest:null}}function Rc(t,s,l){return{value:t,source:null,stack:l??null,digest:s??null}}function Oc(t,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Qx=typeof WeakMap=="function"?WeakMap:Map;function Rh(t,s,l){l=Kr(-1,l),l.tag=3,l.payload={element:null};var u=s.value;return l.callback=function(){uo||(uo=!0,Au=u),Oc(t,s)},l}function Oh(t,s,l){l=Kr(-1,l),l.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;l.payload=function(){return u(h)},l.callback=function(){Oc(t,s)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){Oc(t,s),typeof u!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var B=s.stack;this.componentDidCatch(s.value,{componentStack:B!==null?B:""})}),l}function Mh(t,s,l){var u=t.pingCache;if(u===null){u=t.pingCache=new Qx;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(l)||(h.add(l),t=Rx.bind(null,t,s,l),s.then(t,t))}function Kh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Gh(t,s,l,u,h){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Kr(-1,1),s.tag=2,gn(l,s,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var Ux=R.ReactCurrentOwner,MA=!1;function LA(t,s,l,u){s.child=t===null?ch(s,null,l,u):Us(s,t.child,l,u)}function $h(t,s,l,u,h){l=l.render;var p=s.ref;return Fs(s,h),u=Nc(t,s,l,u,p,h),l=Ic(),t!==null&&!MA?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,Gr(t,s,h)):(tA&&l&&mc(s),s.flags|=1,LA(t,s,u,h),s.child)}function Wh(t,s,l,u,h){if(t===null){var p=l.type;return typeof p=="function"&&!lu(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=p,Vh(t,s,p,u,h)):(t=wo(l.type,null,u,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,(t.lanes&h)===0){var B=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ci,l(B,u)&&t.ref===s.ref)return Gr(t,s,h)}return s.flags|=1,t=yn(p,u),t.ref=s.ref,t.return=s,s.child=t}function Vh(t,s,l,u,h){if(t!==null){var p=t.memoizedProps;if(Ci(p,u)&&t.ref===s.ref)if(MA=!1,s.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(MA=!0);else return s.lanes=t.lanes,Gr(t,s,h)}return Mc(t,s,l,u,h)}function zh(t,s,l){var u=s.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Is,qA),qA|=l;else{if((l&1073741824)===0)return t=p!==null?p.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,zt(Is,qA),qA|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:l,zt(Is,qA),qA|=u}else p!==null?(u=p.baseLanes|l,s.memoizedState=null):u=l,zt(Is,qA),qA|=u;return LA(t,s,h,l),s.child}function Jh(t,s){var l=s.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Mc(t,s,l,u,h){var p=OA(l)?On:SA.current;return p=bs(s,p),Fs(s,h),l=Nc(t,s,l,u,p,h),u=Ic(),t!==null&&!MA?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,Gr(t,s,h)):(tA&&u&&mc(s),s.flags|=1,LA(t,s,l,h),s.child)}function Xh(t,s,l,u,h){if(OA(l)){var p=!0;Ma(s)}else p=!1;if(Fs(s,h),s.stateNode===null)io(t,s),Dh(s,l,u),Pc(s,l,u,h),u=!0;else if(t===null){var B=s.stateNode,F=s.memoizedProps;B.props=F;var T=B.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=nr(Z):(Z=OA(l)?On:SA.current,Z=bs(s,Z));var be=l.getDerivedStateFromProps,_e=typeof be=="function"||typeof B.getSnapshotBeforeUpdate=="function";_e||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(F!==u||T!==Z)&&Ph(s,B,u,Z),mn=!1;var ve=s.memoizedState;B.state=ve,Ya(s,u,B,h),T=s.memoizedState,F!==u||ve!==T||RA.current||mn?(typeof be=="function"&&(Dc(s,l,be,u),T=s.memoizedState),(F=mn||Hh(s,l,F,u,ve,T,Z))?(_e||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(s.flags|=4194308)):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=T),B.props=u,B.state=T,B.context=Z,u=F):(typeof B.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{B=s.stateNode,dh(t,s),F=s.memoizedProps,Z=s.type===s.elementType?F:wr(s.type,F),B.props=Z,_e=s.pendingProps,ve=B.context,T=l.contextType,typeof T=="object"&&T!==null?T=nr(T):(T=OA(l)?On:SA.current,T=bs(s,T));var Ze=l.getDerivedStateFromProps;(be=typeof Ze=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(F!==_e||ve!==T)&&Ph(s,B,u,T),mn=!1,ve=s.memoizedState,B.state=ve,Ya(s,u,B,h);var at=s.memoizedState;F!==_e||ve!==at||RA.current||mn?(typeof Ze=="function"&&(Dc(s,l,Ze,u),at=s.memoizedState),(Z=mn||Hh(s,l,Z,u,ve,at,T)||!1)?(be||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(u,at,T),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(u,at,T)),typeof B.componentDidUpdate=="function"&&(s.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof B.componentDidUpdate!="function"||F===t.memoizedProps&&ve===t.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&ve===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=at),B.props=u,B.state=at,B.context=T,u=Z):(typeof B.componentDidUpdate!="function"||F===t.memoizedProps&&ve===t.memoizedState||(s.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&ve===t.memoizedState||(s.flags|=1024),u=!1)}return Kc(t,s,l,u,p,h)}function Kc(t,s,l,u,h,p){Jh(t,s);var B=(s.flags&128)!==0;if(!u&&!B)return h&&th(s,l,!1),Gr(t,s,p);u=s.stateNode,Ux.current=s;var F=B&&typeof l.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,t!==null&&B?(s.child=Us(s,t.child,null,p),s.child=Us(s,null,F,p)):LA(t,s,F,p),s.memoizedState=u.state,h&&th(s,l,!0),s.child}function Yh(t){var s=t.stateNode;s.pendingContext?Zf(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Zf(t,s.context,!1),Qc(t,s.containerInfo)}function qh(t,s,l,u,h){return Qs(),xc(h),s.flags|=256,LA(t,s,l,u),s.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zh(t,s,l){var u=s.pendingProps,h=nA.current,p=!1,B=(s.flags&128)!==0,F;if((F=B)||(F=t!==null&&t.memoizedState===null?!1:(h&2)!==0),F?(p=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),zt(nA,h&1),t===null)return wc(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(B=u.children,t=u.fallback,p?(u=s.mode,p=s.child,B={mode:"hidden",children:B},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=B):p=xo(B,u,0,null),t=Yn(t,u,l,null),p.return=s,t.return=s,p.sibling=t,s.child=p,s.child.memoizedState=$c(l),s.memoizedState=Gc,t):Wc(s,B));if(h=t.memoizedState,h!==null&&(F=h.dehydrated,F!==null))return _x(t,s,B,u,F,h,l);if(p){p=u.fallback,B=s.mode,h=t.child,F=h.sibling;var T={mode:"hidden",children:u.children};return(B&1)===0&&s.child!==h?(u=s.child,u.childLanes=0,u.pendingProps=T,s.deletions=null):(u=yn(h,T),u.subtreeFlags=h.subtreeFlags&14680064),F!==null?p=yn(F,p):(p=Yn(p,B,l,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,B=t.child.memoizedState,B=B===null?$c(l):{baseLanes:B.baseLanes|l,cachePool:null,transitions:B.transitions},p.memoizedState=B,p.childLanes=t.childLanes&~l,s.memoizedState=Gc,u}return p=t.child,t=p.sibling,u=yn(p,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=l),u.return=s,u.sibling=null,t!==null&&(l=s.deletions,l===null?(s.deletions=[t],s.flags|=16):l.push(t)),s.child=u,s.memoizedState=null,u}function Wc(t,s){return s=xo({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function so(t,s,l,u){return u!==null&&xc(u),Us(s,t.child,null,l),t=Wc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function _x(t,s,l,u,h,p,B){if(l)return s.flags&256?(s.flags&=-257,u=Rc(Error(A(422))),so(t,s,B,u)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(p=u.fallback,h=s.mode,u=xo({mode:"visible",children:u.children},h,0,null),p=Yn(p,h,B,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,(s.mode&1)!==0&&Us(s,t.child,null,B),s.child.memoizedState=$c(B),s.memoizedState=Gc,p);if((s.mode&1)===0)return so(t,s,B,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var F=u.dgst;return u=F,p=Error(A(419)),u=Rc(p,u,void 0),so(t,s,B,u)}if(F=(B&t.childLanes)!==0,MA||F){if(u=BA,u!==null){switch(B&-B){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|B))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Mr(t,h),vr(u,t,h,-1))}return ou(),u=Rc(Error(A(421))),so(t,s,B,u)}return h.data==="$?"?(s.flags|=128,s.child=t.child,s=Ox.bind(null,t),h._reactRetry=s,null):(t=p.treeContext,YA=un(h.nextSibling),XA=s,tA=!0,pr=null,t!==null&&(Ar[rr++]=Rr,Ar[rr++]=Or,Ar[rr++]=Mn,Rr=t.id,Or=t.overflow,Mn=s),s=Wc(s,u.children),s.flags|=4096,s)}function em(t,s,l){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),bc(t.return,s,l)}function Vc(t,s,l,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=h)}function tm(t,s,l){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if(LA(t,s,u.children,l),u=nA.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&em(t,l,s);else if(t.tag===19)em(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(zt(nA,u),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(l=s.child,h=null;l!==null;)t=l.alternate,t!==null&&qa(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),Vc(s,!1,h,l,p);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&qa(t)===null){s.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}Vc(s,!0,l,null,p);break;case"together":Vc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function io(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Gr(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),Vn|=s.lanes,(l&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(A(153));if(s.child!==null){for(t=s.child,l=yn(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=yn(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function Fx(t,s,l){switch(s.tag){case 3:Yh(s),Qs();break;case 5:mh(s);break;case 1:OA(s.type)&&Ma(s);break;case 4:Qc(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,h=s.memoizedProps.value;zt(za,u._currentValue),u._currentValue=h;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(zt(nA,nA.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Zh(t,s,l):(zt(nA,nA.current&1),t=Gr(t,s,l),t!==null?t.sibling:null);zt(nA,nA.current&1);break;case 19:if(u=(l&s.childLanes)!==0,(t.flags&128)!==0){if(u)return tm(t,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),zt(nA,nA.current),u)break;return null;case 22:case 23:return s.lanes=0,zh(t,s,l)}return Gr(t,s,l)}var Am,zc,rm,nm;Am=function(t,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},zc=function(){},rm=function(t,s,l,u){var h=t.memoizedProps;if(h!==u){t=s.stateNode,$n(Sr.current);var p=null;switch(l){case"input":h=It(t,h),u=It(t,u),p=[];break;case"select":h=G({},h,{value:void 0}),u=G({},u,{value:void 0}),p=[];break;case"textarea":h=St(t,h),u=St(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Pa)}Ue(l,u);var B;l=null;for(Z in h)if(!u.hasOwnProperty(Z)&&h.hasOwnProperty(Z)&&h[Z]!=null)if(Z==="style"){var F=h[Z];for(B in F)F.hasOwnProperty(B)&&(l||(l={}),l[B]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?p||(p=[]):(p=p||[]).push(Z,null));for(Z in u){var T=u[Z];if(F=h?.[Z],u.hasOwnProperty(Z)&&T!==F&&(T!=null||F!=null))if(Z==="style")if(F){for(B in F)!F.hasOwnProperty(B)||T&&T.hasOwnProperty(B)||(l||(l={}),l[B]="");for(B in T)T.hasOwnProperty(B)&&F[B]!==T[B]&&(l||(l={}),l[B]=T[B])}else l||(p||(p=[]),p.push(Z,l)),l=T;else Z==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,F=F?F.__html:void 0,T!=null&&F!==T&&(p=p||[]).push(Z,T)):Z==="children"?typeof T!="string"&&typeof T!="number"||(p=p||[]).push(Z,""+T):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(T!=null&&Z==="onScroll"&&qt("scroll",t),p||F===T||(p=[])):(p=p||[]).push(Z,T))}l&&(p=p||[]).push("style",l);var Z=p;(s.updateQueue=Z)&&(s.flags|=4)}},nm=function(t,s,l,u){l!==u&&(s.flags|=4)};function Pi(t,s){if(!tA)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function NA(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(s)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=l,s}function Sx(t,s,l){var u=s.pendingProps;switch(gc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return NA(s),null;case 1:return OA(s.type)&&Oa(),NA(s),null;case 3:return u=s.stateNode,Ss(),Zt(RA),Zt(SA),Fc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Wa(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pr!==null&&(su(pr),pr=null))),zc(t,s),NA(s),null;case 5:Uc(s);var h=$n(ji.current);if(l=s.type,t!==null&&s.stateNode!=null)rm(t,s,l,u,h),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(A(166));return NA(s),null}if(t=$n(Sr.current),Wa(s)){u=s.stateNode,l=s.type;var p=s.memoizedProps;switch(u[Fr]=s,u[Fi]=p,t=(s.mode&1)!==0,l){case"dialog":qt("cancel",u),qt("close",u);break;case"iframe":case"object":case"embed":qt("load",u);break;case"video":case"audio":for(h=0;h<Qi.length;h++)qt(Qi[h],u);break;case"source":qt("error",u);break;case"img":case"image":case"link":qt("error",u),qt("load",u);break;case"details":qt("toggle",u);break;case"input":$t(u,p),qt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qt("invalid",u);break;case"textarea":dt(u,p),qt("invalid",u)}Ue(l,p),h=null;for(var B in p)if(p.hasOwnProperty(B)){var F=p[B];B==="children"?typeof F=="string"?u.textContent!==F&&(p.suppressHydrationWarning!==!0&&Da(u.textContent,F,t),h=["children",F]):typeof F=="number"&&u.textContent!==""+F&&(p.suppressHydrationWarning!==!0&&Da(u.textContent,F,t),h=["children",""+F]):i.hasOwnProperty(B)&&F!=null&&B==="onScroll"&&qt("scroll",u)}switch(l){case"input":ye(u),Oe(u,p,!0);break;case"textarea":ye(u),jt(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Pa)}u=h,s.updateQueue=u,u!==null&&(s.flags|=4)}else{B=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wt(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=B.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=B.createElement(l,{is:u.is}):(t=B.createElement(l),l==="select"&&(B=t,u.multiple?B.multiple=!0:u.size&&(B.size=u.size))):t=B.createElementNS(t,l),t[Fr]=s,t[Fi]=u,Am(t,s,!1,!1),s.stateNode=t;e:{switch(B=Ne(l,u),l){case"dialog":qt("cancel",t),qt("close",t),h=u;break;case"iframe":case"object":case"embed":qt("load",t),h=u;break;case"video":case"audio":for(h=0;h<Qi.length;h++)qt(Qi[h],t);h=u;break;case"source":qt("error",t),h=u;break;case"img":case"image":case"link":qt("error",t),qt("load",t),h=u;break;case"details":qt("toggle",t),h=u;break;case"input":$t(t,u),h=It(t,u),qt("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=G({},u,{value:void 0}),qt("invalid",t);break;case"textarea":dt(t,u),h=St(t,u),qt("invalid",t);break;default:h=u}Ue(l,h),F=h;for(p in F)if(F.hasOwnProperty(p)){var T=F[p];p==="style"?ke(t,T):p==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Pt(t,T)):p==="children"?typeof T=="string"?(l!=="textarea"||T!=="")&&Yt(t,T):typeof T=="number"&&Yt(t,""+T):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(i.hasOwnProperty(p)?T!=null&&p==="onScroll"&&qt("scroll",t):T!=null&&k(t,p,T,B))}switch(l){case"input":ye(t),Oe(t,u,!1);break;case"textarea":ye(t),jt(t);break;case"option":u.value!=null&&t.setAttribute("value",""+te(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?st(t,!!u.multiple,p,!1):u.defaultValue!=null&&st(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Pa)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return NA(s),null;case 6:if(t&&s.stateNode!=null)nm(t,s,t.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(A(166));if(l=$n(ji.current),$n(Sr.current),Wa(s)){if(u=s.stateNode,l=s.memoizedProps,u[Fr]=s,(p=u.nodeValue!==l)&&(t=XA,t!==null))switch(t.tag){case 3:Da(u.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Da(u.nodeValue,l,(t.mode&1)!==0)}p&&(s.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[Fr]=s,s.stateNode=u}return NA(s),null;case 13:if(Zt(nA),u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tA&&YA!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ah(),Qs(),s.flags|=98560,p=!1;else if(p=Wa(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(A(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(A(317));p[Fr]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;NA(s),p=!1}else pr!==null&&(su(pr),pr=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(nA.current&1)!==0?mA===0&&(mA=3):ou())),s.updateQueue!==null&&(s.flags|=4),NA(s),null);case 4:return Ss(),zc(t,s),t===null&&Ui(s.stateNode.containerInfo),NA(s),null;case 10:return yc(s.type._context),NA(s),null;case 17:return OA(s.type)&&Oa(),NA(s),null;case 19:if(Zt(nA),p=s.memoizedState,p===null)return NA(s),null;if(u=(s.flags&128)!==0,B=p.rendering,B===null)if(u)Pi(p,!1);else{if(mA!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(B=qa(t),B!==null){for(s.flags|=128,Pi(p,!1),u=B.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=l,l=s.child;l!==null;)p=l,t=u,p.flags&=14680066,B=p.alternate,B===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=B.childLanes,p.lanes=B.lanes,p.child=B.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=B.memoizedProps,p.memoizedState=B.memoizedState,p.updateQueue=B.updateQueue,p.type=B.type,t=B.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return zt(nA,nA.current&1|2),s.child}t=t.sibling}p.tail!==null&&Et()>js&&(s.flags|=128,u=!0,Pi(p,!1),s.lanes=4194304)}else{if(!u)if(t=qa(B),t!==null){if(s.flags|=128,u=!0,l=t.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Pi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!B.alternate&&!tA)return NA(s),null}else 2*Et()-p.renderingStartTime>js&&l!==1073741824&&(s.flags|=128,u=!0,Pi(p,!1),s.lanes=4194304);p.isBackwards?(B.sibling=s.child,s.child=B):(l=p.last,l!==null?l.sibling=B:s.child=B,p.last=B)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Et(),s.sibling=null,l=nA.current,zt(nA,u?l&1|2:l&1),s):(NA(s),null);case 22:case 23:return au(),u=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(qA&1073741824)!==0&&(NA(s),s.subtreeFlags&6&&(s.flags|=8192)):NA(s),null;case 24:return null;case 25:return null}throw Error(A(156,s.tag))}function kx(t,s){switch(gc(s),s.tag){case 1:return OA(s.type)&&Oa(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ss(),Zt(RA),Zt(SA),Fc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Uc(s),null;case 13:if(Zt(nA),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(A(340));Qs()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Zt(nA),null;case 4:return Ss(),null;case 10:return yc(s.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var ao=!1,IA=!1,Nx=typeof WeakSet=="function"?WeakSet:Set,At=null;function Ns(t,s){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){iA(t,s,u)}else l.current=null}function Jc(t,s,l){try{l()}catch(u){iA(t,s,u)}}var sm=!1;function Ix(t,s){if(ac=Ua,t=Hf(),Zl(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var B=0,F=-1,T=-1,Z=0,be=0,_e=t,ve=null;t:for(;;){for(var Ze;_e!==l||h!==0&&_e.nodeType!==3||(F=B+h),_e!==p||u!==0&&_e.nodeType!==3||(T=B+u),_e.nodeType===3&&(B+=_e.nodeValue.length),(Ze=_e.firstChild)!==null;)ve=_e,_e=Ze;for(;;){if(_e===t)break t;if(ve===l&&++Z===h&&(F=B),ve===p&&++be===u&&(T=B),(Ze=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Ze}l=F===-1||T===-1?null:{start:F,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(oc={focusedElem:t,selectionRange:l},Ua=!1,At=s;At!==null;)if(s=At,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,At=t;else for(;At!==null;){s=At;try{var at=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var lt=at.memoizedProps,aA=at.memoizedState,V=s.stateNode,O=V.getSnapshotBeforeUpdate(s.elementType===s.type?lt:wr(s.type,lt),aA);V.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(Le){iA(s,s.return,Le)}if(t=s.sibling,t!==null){t.return=s.return,At=t;break}At=s.return}return at=sm,sm=!1,at}function Ri(t,s,l){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Jc(s,l,p)}h=h.next}while(h!==u)}}function oo(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&t)===t){var u=l.create;l.destroy=u()}l=l.next}while(l!==s)}}function Xc(t){var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof s=="function"?s(t):s.current=t}}function im(t){var s=t.alternate;s!==null&&(t.alternate=null,im(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Fr],delete s[Fi],delete s[dc],delete s[mx],delete s[gx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function am(t){return t.tag===5||t.tag===3||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||am(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yc(t,s,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(t,s):l.insertBefore(t,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(t,l)):(s=l,s.appendChild(t)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Pa));else if(u!==4&&(t=t.child,t!==null))for(Yc(t,s,l),t=t.sibling;t!==null;)Yc(t,s,l),t=t.sibling}function qc(t,s,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(qc(t,s,l),t=t.sibling;t!==null;)qc(t,s,l),t=t.sibling}var EA=null,xr=!1;function pn(t,s,l){for(l=l.child;l!==null;)lm(t,s,l),l=l.sibling}function lm(t,s,l){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(ft,l)}catch{}switch(l.tag){case 5:IA||Ns(l,s);case 6:var u=EA,h=xr;EA=null,pn(t,s,l),EA=u,xr=h,EA!==null&&(xr?(t=EA,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):EA.removeChild(l.stateNode));break;case 18:EA!==null&&(xr?(t=EA,l=l.stateNode,t.nodeType===8?uc(t.parentNode,l):t.nodeType===1&&uc(t,l),wi(t)):uc(EA,l.stateNode));break;case 4:u=EA,h=xr,EA=l.stateNode.containerInfo,xr=!0,pn(t,s,l),EA=u,xr=h;break;case 0:case 11:case 14:case 15:if(!IA&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,B=p.destroy;p=p.tag,B!==void 0&&((p&2)!==0||(p&4)!==0)&&Jc(l,s,B),h=h.next}while(h!==u)}pn(t,s,l);break;case 1:if(!IA&&(Ns(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(F){iA(l,s,F)}pn(t,s,l);break;case 21:pn(t,s,l);break;case 22:l.mode&1?(IA=(u=IA)||l.memoizedState!==null,pn(t,s,l),IA=u):pn(t,s,l);break;default:pn(t,s,l)}}function cm(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Nx),s.forEach(function(u){var h=Mx.bind(null,t,u);l.has(u)||(l.add(u),u.then(h,h))})}}function Br(t,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];try{var p=t,B=s,F=B;e:for(;F!==null;){switch(F.tag){case 5:EA=F.stateNode,xr=!1;break e;case 3:EA=F.stateNode.containerInfo,xr=!0;break e;case 4:EA=F.stateNode.containerInfo,xr=!0;break e}F=F.return}if(EA===null)throw Error(A(160));lm(p,B,h),EA=null,xr=!1;var T=h.alternate;T!==null&&(T.return=null),h.return=null}catch(Z){iA(h,s,Z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)um(s,t),s=s.sibling}function um(t,s){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(s,t),Nr(t),u&4){try{Ri(3,t,t.return),oo(3,t)}catch(lt){iA(t,t.return,lt)}try{Ri(5,t,t.return)}catch(lt){iA(t,t.return,lt)}}break;case 1:Br(s,t),Nr(t),u&512&&l!==null&&Ns(l,l.return);break;case 5:if(Br(s,t),Nr(t),u&512&&l!==null&&Ns(l,l.return),t.flags&32){var h=t.stateNode;try{Yt(h,"")}catch(lt){iA(t,t.return,lt)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,B=l!==null?l.memoizedProps:p,F=t.type,T=t.updateQueue;if(t.updateQueue=null,T!==null)try{F==="input"&&p.type==="radio"&&p.name!=null&&de(h,p),Ne(F,B);var Z=Ne(F,p);for(B=0;B<T.length;B+=2){var be=T[B],_e=T[B+1];be==="style"?ke(h,_e):be==="dangerouslySetInnerHTML"?Pt(h,_e):be==="children"?Yt(h,_e):k(h,be,_e,Z)}switch(F){case"input":Ve(h,p);break;case"textarea":De(h,p);break;case"select":var ve=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Ze=p.value;Ze!=null?st(h,!!p.multiple,Ze,!1):ve!==!!p.multiple&&(p.defaultValue!=null?st(h,!!p.multiple,p.defaultValue,!0):st(h,!!p.multiple,p.multiple?[]:"",!1))}h[Fi]=p}catch(lt){iA(t,t.return,lt)}}break;case 6:if(Br(s,t),Nr(t),u&4){if(t.stateNode===null)throw Error(A(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(lt){iA(t,t.return,lt)}}break;case 3:if(Br(s,t),Nr(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{wi(s.containerInfo)}catch(lt){iA(t,t.return,lt)}break;case 4:Br(s,t),Nr(t);break;case 13:Br(s,t),Nr(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(tu=Et())),u&4&&cm(t);break;case 22:if(be=l!==null&&l.memoizedState!==null,t.mode&1?(IA=(Z=IA)||be,Br(s,t),IA=Z):Br(s,t),Nr(t),u&8192){if(Z=t.memoizedState!==null,(t.stateNode.isHidden=Z)&&!be&&(t.mode&1)!==0)for(At=t,be=t.child;be!==null;){for(_e=At=be;At!==null;){switch(ve=At,Ze=ve.child,ve.tag){case 0:case 11:case 14:case 15:Ri(4,ve,ve.return);break;case 1:Ns(ve,ve.return);var at=ve.stateNode;if(typeof at.componentWillUnmount=="function"){u=ve,l=ve.return;try{s=u,at.props=s.memoizedProps,at.state=s.memoizedState,at.componentWillUnmount()}catch(lt){iA(u,l,lt)}}break;case 5:Ns(ve,ve.return);break;case 22:if(ve.memoizedState!==null){hm(_e);continue}}Ze!==null?(Ze.return=ve,At=Ze):hm(_e)}be=be.sibling}e:for(be=null,_e=t;;){if(_e.tag===5){if(be===null){be=_e;try{h=_e.stateNode,Z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(F=_e.stateNode,T=_e.memoizedProps.style,B=T!=null&&T.hasOwnProperty("display")?T.display:null,F.style.display=ge("display",B))}catch(lt){iA(t,t.return,lt)}}}else if(_e.tag===6){if(be===null)try{_e.stateNode.nodeValue=Z?"":_e.memoizedProps}catch(lt){iA(t,t.return,lt)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===t)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===t)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===t)break e;be===_e&&(be=null),_e=_e.return}be===_e&&(be=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Br(s,t),Nr(t),u&4&&cm(t);break;case 21:break;default:Br(s,t),Nr(t)}}function Nr(t){var s=t.flags;if(s&2){try{e:{for(var l=t.return;l!==null;){if(am(l)){var u=l;break e}l=l.return}throw Error(A(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Yt(h,""),u.flags&=-33);var p=om(t);qc(t,p,h);break;case 3:case 4:var B=u.stateNode.containerInfo,F=om(t);Yc(t,F,B);break;default:throw Error(A(161))}}catch(T){iA(t,t.return,T)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function jx(t,s,l){At=t,dm(t)}function dm(t,s,l){for(var u=(t.mode&1)!==0;At!==null;){var h=At,p=h.child;if(h.tag===22&&u){var B=h.memoizedState!==null||ao;if(!B){var F=h.alternate,T=F!==null&&F.memoizedState!==null||IA;F=ao;var Z=IA;if(ao=B,(IA=T)&&!Z)for(At=h;At!==null;)B=At,T=B.child,B.tag===22&&B.memoizedState!==null?mm(h):T!==null?(T.return=B,At=T):mm(h);for(;p!==null;)At=p,dm(p),p=p.sibling;At=h,ao=F,IA=Z}fm(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,At=p):fm(t)}}function fm(t){for(;At!==null;){var s=At;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:IA||oo(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!IA)if(l===null)u.componentDidMount();else{var h=s.elementType===s.type?l.memoizedProps:wr(s.type,l.memoizedProps);u.componentDidUpdate(h,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&hh(s,p,u);break;case 3:var B=s.updateQueue;if(B!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}hh(s,B,l)}break;case 5:var F=s.stateNode;if(l===null&&s.flags&4){l=F;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&l.focus();break;case"img":T.src&&(l.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Z=s.alternate;if(Z!==null){var be=Z.memoizedState;if(be!==null){var _e=be.dehydrated;_e!==null&&wi(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}IA||s.flags&512&&Xc(s)}catch(ve){iA(s,s.return,ve)}}if(s===t){At=null;break}if(l=s.sibling,l!==null){l.return=s.return,At=l;break}At=s.return}}function hm(t){for(;At!==null;){var s=At;if(s===t){At=null;break}var l=s.sibling;if(l!==null){l.return=s.return,At=l;break}At=s.return}}function mm(t){for(;At!==null;){var s=At;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{oo(4,s)}catch(T){iA(s,l,T)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var h=s.return;try{u.componentDidMount()}catch(T){iA(s,h,T)}}var p=s.return;try{Xc(s)}catch(T){iA(s,p,T)}break;case 5:var B=s.return;try{Xc(s)}catch(T){iA(s,B,T)}}}catch(T){iA(s,s.return,T)}if(s===t){At=null;break}var F=s.sibling;if(F!==null){F.return=s.return,At=F;break}At=s.return}}var Tx=Math.ceil,lo=R.ReactCurrentDispatcher,Zc=R.ReactCurrentOwner,ir=R.ReactCurrentBatchConfig,Dt=0,BA=null,cA=null,QA=0,qA=0,Is=dn(0),mA=0,Oi=null,Vn=0,co=0,eu=0,Mi=null,KA=null,tu=0,js=1/0,$r=null,uo=!1,Au=null,wn=null,fo=!1,xn=null,ho=0,Ki=0,ru=null,mo=-1,go=0;function HA(){return(Dt&6)!==0?Et():mo!==-1?mo:mo=Et()}function Bn(t){return(t.mode&1)===0?1:(Dt&2)!==0&&QA!==0?QA&-QA:wx.transition!==null?(go===0&&(go=An()),go):(t=Mt,t!==0||(t=window.event,t=t===void 0?16:pf(t.type)),t)}function vr(t,s,l,u){if(50<Ki)throw Ki=0,ru=null,Error(A(185));rn(t,l,u),((Dt&2)===0||t!==BA)&&(t===BA&&((Dt&2)===0&&(co|=l),mA===4&&vn(t,QA)),GA(t,u),l===1&&Dt===0&&(s.mode&1)===0&&(js=Et()+500,Ka&&hn()))}function GA(t,s){var l=t.callbackNode;Pn(t,s);var u=mr(t,t===BA?QA:0);if(u===0)l!==null&&Re(l),t.callbackNode=null,t.callbackPriority=0;else if(s=u&-u,t.callbackPriority!==s){if(l!=null&&Re(l),s===1)t.tag===0?px(pm.bind(null,t)):Ah(pm.bind(null,t)),fx(function(){(Dt&6)===0&&hn()}),l=null;else{switch(lf(u)){case 1:l=Qe;break;case 4:l=me;break;case 16:l=xt;break;case 536870912:l=Ct;break;default:l=xt}l=Em(l,gm.bind(null,t))}t.callbackPriority=s,t.callbackNode=l}}function gm(t,s){if(mo=-1,go=0,(Dt&6)!==0)throw Error(A(327));var l=t.callbackNode;if(Ts()&&t.callbackNode!==l)return null;var u=mr(t,t===BA?QA:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||s)s=po(t,u);else{s=u;var h=Dt;Dt|=2;var p=xm();(BA!==t||QA!==s)&&($r=null,js=Et()+500,Jn(t,s));do try{Dx();break}catch(F){wm(t,F)}while(!0);vc(),lo.current=p,Dt=h,cA!==null?s=0:(BA=null,QA=0,s=mA)}if(s!==0){if(s===2&&(h=tn(t),h!==0&&(u=h,s=nu(t,h))),s===1)throw l=Oi,Jn(t,0),vn(t,u),GA(t,Et()),l;if(s===6)vn(t,u);else{if(h=t.current.alternate,(u&30)===0&&!Lx(h)&&(s=po(t,u),s===2&&(p=tn(t),p!==0&&(u=p,s=nu(t,p))),s===1))throw l=Oi,Jn(t,0),vn(t,u),GA(t,Et()),l;switch(t.finishedWork=h,t.finishedLanes=u,s){case 0:case 1:throw Error(A(345));case 2:Xn(t,KA,$r);break;case 3:if(vn(t,u),(u&130023424)===u&&(s=tu+500-Et(),10<s)){if(mr(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){HA(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=cc(Xn.bind(null,t,KA,$r),s);break}Xn(t,KA,$r);break;case 4:if(vn(t,u),(u&4194240)===u)break;for(s=t.eventTimes,h=-1;0<u;){var B=31-Tt(u);p=1<<B,B=s[B],B>h&&(h=B),u&=~p}if(u=h,u=Et()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Tx(u/1960))-u,10<u){t.timeoutHandle=cc(Xn.bind(null,t,KA,$r),u);break}Xn(t,KA,$r);break;case 5:Xn(t,KA,$r);break;default:throw Error(A(329))}}}return GA(t,Et()),t.callbackNode===l?gm.bind(null,t):null}function nu(t,s){var l=Mi;return t.current.memoizedState.isDehydrated&&(Jn(t,s).flags|=256),t=po(t,s),t!==2&&(s=KA,KA=l,s!==null&&su(s)),t}function su(t){KA===null?KA=t:KA.push.apply(KA,t)}function Lx(t){for(var s=t;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var h=l[u],p=h.getSnapshot;h=h.value;try{if(!gr(p(),h))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vn(t,s){for(s&=~eu,s&=~co,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var l=31-Tt(s),u=1<<l;t[l]=-1,s&=~u}}function pm(t){if((Dt&6)!==0)throw Error(A(327));Ts();var s=mr(t,0);if((s&1)===0)return GA(t,Et()),null;var l=po(t,s);if(t.tag!==0&&l===2){var u=tn(t);u!==0&&(s=u,l=nu(t,u))}if(l===1)throw l=Oi,Jn(t,0),vn(t,s),GA(t,Et()),l;if(l===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Xn(t,KA,$r),GA(t,Et()),null}function iu(t,s){var l=Dt;Dt|=1;try{return t(s)}finally{Dt=l,Dt===0&&(js=Et()+500,Ka&&hn())}}function zn(t){xn!==null&&xn.tag===0&&(Dt&6)===0&&Ts();var s=Dt;Dt|=1;var l=ir.transition,u=Mt;try{if(ir.transition=null,Mt=1,t)return t()}finally{Mt=u,ir.transition=l,Dt=s,(Dt&6)===0&&hn()}}function au(){qA=Is.current,Zt(Is)}function Jn(t,s){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,dx(l)),cA!==null)for(l=cA.return;l!==null;){var u=l;switch(gc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Oa();break;case 3:Ss(),Zt(RA),Zt(SA),Fc();break;case 5:Uc(u);break;case 4:Ss();break;case 13:Zt(nA);break;case 19:Zt(nA);break;case 10:yc(u.type._context);break;case 22:case 23:au()}l=l.return}if(BA=t,cA=t=yn(t.current,null),QA=qA=s,mA=0,Oi=null,eu=co=Vn=0,KA=Mi=null,Gn!==null){for(s=0;s<Gn.length;s++)if(l=Gn[s],u=l.interleaved,u!==null){l.interleaved=null;var h=u.next,p=l.pending;if(p!==null){var B=p.next;p.next=h,u.next=B}l.pending=u}Gn=null}return t}function wm(t,s){do{var l=cA;try{if(vc(),Za.current=ro,eo){for(var u=sA.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}eo=!1}if(Wn=0,xA=hA=sA=null,Ti=!1,Li=0,Zc.current=null,l===null||l.return===null){mA=1,Oi=s,cA=null;break}e:{var p=t,B=l.return,F=l,T=s;if(s=QA,F.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var Z=T,be=F,_e=be.tag;if((be.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=be.alternate;ve?(be.updateQueue=ve.updateQueue,be.memoizedState=ve.memoizedState,be.lanes=ve.lanes):(be.updateQueue=null,be.memoizedState=null)}var Ze=Kh(B);if(Ze!==null){Ze.flags&=-257,Gh(Ze,B,F,p,s),Ze.mode&1&&Mh(p,Z,s),s=Ze,T=Z;var at=s.updateQueue;if(at===null){var lt=new Set;lt.add(T),s.updateQueue=lt}else at.add(T);break e}else{if((s&1)===0){Mh(p,Z,s),ou();break e}T=Error(A(426))}}else if(tA&&F.mode&1){var aA=Kh(B);if(aA!==null){(aA.flags&65536)===0&&(aA.flags|=256),Gh(aA,B,F,p,s),xc(ks(T,F));break e}}p=T=ks(T,F),mA!==4&&(mA=2),Mi===null?Mi=[p]:Mi.push(p),p=B;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var V=Rh(p,T,s);fh(p,V);break e;case 1:F=T;var O=p.type,q=p.stateNode;if((p.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(wn===null||!wn.has(q)))){p.flags|=65536,s&=-s,p.lanes|=s;var Le=Oh(p,F,s);fh(p,Le);break e}}p=p.return}while(p!==null)}vm(l)}catch(ht){s=ht,cA===l&&l!==null&&(cA=l=l.return);continue}break}while(!0)}function xm(){var t=lo.current;return lo.current=ro,t===null?ro:t}function ou(){(mA===0||mA===3||mA===2)&&(mA=4),BA===null||(Vn&268435455)===0&&(co&268435455)===0||vn(BA,QA)}function po(t,s){var l=Dt;Dt|=2;var u=xm();(BA!==t||QA!==s)&&($r=null,Jn(t,s));do try{Hx();break}catch(h){wm(t,h)}while(!0);if(vc(),Dt=l,lo.current=u,cA!==null)throw Error(A(261));return BA=null,QA=0,mA}function Hx(){for(;cA!==null;)Bm(cA)}function Dx(){for(;cA!==null&&!Qt();)Bm(cA)}function Bm(t){var s=Cm(t.alternate,t,qA);t.memoizedProps=t.pendingProps,s===null?vm(t):cA=s,Zc.current=null}function vm(t){var s=t;do{var l=s.alternate;if(t=s.return,(s.flags&32768)===0){if(l=Sx(l,s,qA),l!==null){cA=l;return}}else{if(l=kx(l,s),l!==null){l.flags&=32767,cA=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mA=6,cA=null;return}}if(s=s.sibling,s!==null){cA=s;return}cA=s=t}while(s!==null);mA===0&&(mA=5)}function Xn(t,s,l){var u=Mt,h=ir.transition;try{ir.transition=null,Mt=1,Px(t,s,l,u)}finally{ir.transition=h,Mt=u}return null}function Px(t,s,l,u){do Ts();while(xn!==null);if((Dt&6)!==0)throw Error(A(327));l=t.finishedWork;var h=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var p=l.lanes|l.childLanes;if(xw(t,p),t===BA&&(cA=BA=null,QA=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||fo||(fo=!0,Em(xt,function(){return Ts(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=ir.transition,ir.transition=null;var B=Mt;Mt=1;var F=Dt;Dt|=4,Zc.current=null,Ix(t,l),um(l,t),sx(oc),Ua=!!ac,oc=ac=null,t.current=l,jx(l),kt(),Dt=F,Mt=B,ir.transition=p}else t.current=l;if(fo&&(fo=!1,xn=t,ho=h),p=t.pendingLanes,p===0&&(wn=null),Vt(l.stateNode),GA(t,Et()),s!==null)for(u=t.onRecoverableError,l=0;l<s.length;l++)h=s[l],u(h.value,{componentStack:h.stack,digest:h.digest});if(uo)throw uo=!1,t=Au,Au=null,t;return(ho&1)!==0&&t.tag!==0&&Ts(),p=t.pendingLanes,(p&1)!==0?t===ru?Ki++:(Ki=0,ru=t):Ki=0,hn(),null}function Ts(){if(xn!==null){var t=lf(ho),s=ir.transition,l=Mt;try{if(ir.transition=null,Mt=16>t?16:t,xn===null)var u=!1;else{if(t=xn,xn=null,ho=0,(Dt&6)!==0)throw Error(A(331));var h=Dt;for(Dt|=4,At=t.current;At!==null;){var p=At,B=p.child;if((At.flags&16)!==0){var F=p.deletions;if(F!==null){for(var T=0;T<F.length;T++){var Z=F[T];for(At=Z;At!==null;){var be=At;switch(be.tag){case 0:case 11:case 15:Ri(8,be,p)}var _e=be.child;if(_e!==null)_e.return=be,At=_e;else for(;At!==null;){be=At;var ve=be.sibling,Ze=be.return;if(im(be),be===Z){At=null;break}if(ve!==null){ve.return=Ze,At=ve;break}At=Ze}}}var at=p.alternate;if(at!==null){var lt=at.child;if(lt!==null){at.child=null;do{var aA=lt.sibling;lt.sibling=null,lt=aA}while(lt!==null)}}At=p}}if((p.subtreeFlags&2064)!==0&&B!==null)B.return=p,At=B;else e:for(;At!==null;){if(p=At,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ri(9,p,p.return)}var V=p.sibling;if(V!==null){V.return=p.return,At=V;break e}At=p.return}}var O=t.current;for(At=O;At!==null;){B=At;var q=B.child;if((B.subtreeFlags&2064)!==0&&q!==null)q.return=B,At=q;else e:for(B=O;At!==null;){if(F=At,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:oo(9,F)}}catch(ht){iA(F,F.return,ht)}if(F===B){At=null;break e}var Le=F.sibling;if(Le!==null){Le.return=F.return,At=Le;break e}At=F.return}}if(Dt=h,hn(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(ft,t)}catch{}u=!0}return u}finally{Mt=l,ir.transition=s}}return!1}function ym(t,s,l){s=ks(l,s),s=Rh(t,s,1),t=gn(t,s,1),s=HA(),t!==null&&(rn(t,1,s),GA(t,s))}function iA(t,s,l){if(t.tag===3)ym(t,t,l);else for(;s!==null;){if(s.tag===3){ym(s,t,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wn===null||!wn.has(u))){t=ks(l,t),t=Oh(s,t,1),s=gn(s,t,1),t=HA(),s!==null&&(rn(s,1,t),GA(s,t));break}}s=s.return}}function Rx(t,s,l){var u=t.pingCache;u!==null&&u.delete(s),s=HA(),t.pingedLanes|=t.suspendedLanes&l,BA===t&&(QA&l)===l&&(mA===4||mA===3&&(QA&130023424)===QA&&500>Et()-tu?Jn(t,0):eu|=l),GA(t,s)}function bm(t,s){s===0&&((t.mode&1)===0?s=1:(s=hr,hr<<=1,(hr&130023424)===0&&(hr=4194304)));var l=HA();t=Mr(t,s),t!==null&&(rn(t,s,l),GA(t,l))}function Ox(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),bm(t,l)}function Mx(t,s){var l=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(A(314))}u!==null&&u.delete(s),bm(t,l)}var Cm;Cm=function(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps||RA.current)MA=!0;else{if((t.lanes&l)===0&&(s.flags&128)===0)return MA=!1,Fx(t,s,l);MA=(t.flags&131072)!==0}else MA=!1,tA&&(s.flags&1048576)!==0&&rh(s,$a,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;io(t,s),t=s.pendingProps;var h=bs(s,SA.current);Fs(s,l),h=Nc(null,s,u,t,h,l);var p=Ic();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,OA(u)?(p=!0,Ma(s)):p=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ec(s),h.updater=no,s.stateNode=h,h._reactInternals=s,Pc(s,u,t,l),s=Kc(null,s,u,!0,p,l)):(s.tag=0,tA&&p&&mc(s),LA(null,s,h,l),s=s.child),s;case 16:u=s.elementType;e:{switch(io(t,s),t=s.pendingProps,h=u._init,u=h(u._payload),s.type=u,h=s.tag=Gx(u),t=wr(u,t),h){case 0:s=Mc(null,s,u,t,l);break e;case 1:s=Xh(null,s,u,t,l);break e;case 11:s=$h(null,s,u,t,l);break e;case 14:s=Wh(null,s,u,wr(u.type,t),l);break e}throw Error(A(306,u,""))}return s;case 0:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:wr(u,h),Mc(t,s,u,h,l);case 1:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:wr(u,h),Xh(t,s,u,h,l);case 3:e:{if(Yh(s),t===null)throw Error(A(387));u=s.pendingProps,p=s.memoizedState,h=p.element,dh(t,s),Ya(s,u,null,l);var B=s.memoizedState;if(u=B.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){h=ks(Error(A(423)),s),s=qh(t,s,u,l,h);break e}else if(u!==h){h=ks(Error(A(424)),s),s=qh(t,s,u,l,h);break e}else for(YA=un(s.stateNode.containerInfo.firstChild),XA=s,tA=!0,pr=null,l=ch(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qs(),u===h){s=Gr(t,s,l);break e}LA(t,s,u,l)}s=s.child}return s;case 5:return mh(s),t===null&&wc(s),u=s.type,h=s.pendingProps,p=t!==null?t.memoizedProps:null,B=h.children,lc(u,h)?B=null:p!==null&&lc(u,p)&&(s.flags|=32),Jh(t,s),LA(t,s,B,l),s.child;case 6:return t===null&&wc(s),null;case 13:return Zh(t,s,l);case 4:return Qc(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Us(s,null,u,l):LA(t,s,u,l),s.child;case 11:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:wr(u,h),$h(t,s,u,h,l);case 7:return LA(t,s,s.pendingProps,l),s.child;case 8:return LA(t,s,s.pendingProps.children,l),s.child;case 12:return LA(t,s,s.pendingProps.children,l),s.child;case 10:e:{if(u=s.type._context,h=s.pendingProps,p=s.memoizedProps,B=h.value,zt(za,u._currentValue),u._currentValue=B,p!==null)if(gr(p.value,B)){if(p.children===h.children&&!RA.current){s=Gr(t,s,l);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var F=p.dependencies;if(F!==null){B=p.child;for(var T=F.firstContext;T!==null;){if(T.context===u){if(p.tag===1){T=Kr(-1,l&-l),T.tag=2;var Z=p.updateQueue;if(Z!==null){Z=Z.shared;var be=Z.pending;be===null?T.next=T:(T.next=be.next,be.next=T),Z.pending=T}}p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),bc(p.return,l,s),F.lanes|=l;break}T=T.next}}else if(p.tag===10)B=p.type===s.type?null:p.child;else if(p.tag===18){if(B=p.return,B===null)throw Error(A(341));B.lanes|=l,F=B.alternate,F!==null&&(F.lanes|=l),bc(B,l,s),B=p.sibling}else B=p.child;if(B!==null)B.return=p;else for(B=p;B!==null;){if(B===s){B=null;break}if(p=B.sibling,p!==null){p.return=B.return,B=p;break}B=B.return}p=B}LA(t,s,h.children,l),s=s.child}return s;case 9:return h=s.type,u=s.pendingProps.children,Fs(s,l),h=nr(h),u=u(h),s.flags|=1,LA(t,s,u,l),s.child;case 14:return u=s.type,h=wr(u,s.pendingProps),h=wr(u.type,h),Wh(t,s,u,h,l);case 15:return Vh(t,s,s.type,s.pendingProps,l);case 17:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:wr(u,h),io(t,s),s.tag=1,OA(u)?(t=!0,Ma(s)):t=!1,Fs(s,l),Dh(s,u,h),Pc(s,u,h,l),Kc(null,s,u,!0,t,l);case 19:return tm(t,s,l);case 22:return zh(t,s,l)}throw Error(A(156,s.tag))};function Em(t,s){return Xe(t,s)}function Kx(t,s,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,s,l,u){return new Kx(t,s,l,u)}function lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gx(t){if(typeof t=="function")return lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===re)return 11;if(t===oe)return 14}return 2}function yn(t,s){var l=t.alternate;return l===null?(l=ar(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function wo(t,s,l,u,h,p){var B=2;if(u=t,typeof t=="function")lu(t)&&(B=1);else if(typeof t=="string")B=5;else e:switch(t){case P:return Yn(l.children,h,p,s);case K:B=8,h|=8;break;case L:return t=ar(12,l,s,h|2),t.elementType=L,t.lanes=p,t;case le:return t=ar(13,l,s,h),t.elementType=le,t.lanes=p,t;case H:return t=ar(19,l,s,h),t.elementType=H,t.lanes=p,t;case D:return xo(l,h,p,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case we:B=10;break e;case X:B=9;break e;case re:B=11;break e;case oe:B=14;break e;case Y:B=16,u=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return s=ar(B,l,s,h),s.elementType=t,s.type=u,s.lanes=p,s}function Yn(t,s,l,u){return t=ar(7,t,u,s),t.lanes=l,t}function xo(t,s,l,u){return t=ar(22,t,u,s),t.elementType=D,t.lanes=l,t.stateNode={isHidden:!1},t}function cu(t,s,l){return t=ar(6,t,null,s),t.lanes=l,t}function uu(t,s,l){return s=ar(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function $x(t,s,l,u,h){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function du(t,s,l,u,h,p,B,F,T){return t=new $x(t,s,l,F,T),s===1?(s=1,p===!0&&(s|=8)):s=0,p=ar(3,null,null,s),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(p),t}function Wx(t,s,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:u==null?null:""+u,children:t,containerInfo:s,implementation:l}}function Qm(t){if(!t)return fn;t=t._reactInternals;e:{if(pe(t)!==t||t.tag!==1)throw Error(A(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(OA(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(A(171))}if(t.tag===1){var l=t.type;if(OA(l))return eh(t,l,s)}return s}function Um(t,s,l,u,h,p,B,F,T){return t=du(l,u,!0,t,h,p,B,F,T),t.context=Qm(null),l=t.current,u=HA(),h=Bn(l),p=Kr(u,h),p.callback=s??null,gn(l,p,h),t.current.lanes=h,rn(t,h,u),GA(t,u),t}function Bo(t,s,l,u){var h=s.current,p=HA(),B=Bn(h);return l=Qm(l),s.context===null?s.context=l:s.pendingContext=l,s=Kr(p,B),s.payload={element:t},u=u===void 0?null:u,u!==null&&(s.callback=u),t=gn(h,s,B),t!==null&&(vr(t,h,B,p),Xa(t,h,B)),B}function vo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _m(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function fu(t,s){_m(t,s),(t=t.alternate)&&_m(t,s)}function Vx(){return null}var Fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function hu(t){this._internalRoot=t}yo.prototype.render=hu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(A(409));Bo(t,s,null,null)},yo.prototype.unmount=hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;zn(function(){Bo(null,t,null,null)}),s[Dr]=null}};function yo(t){this._internalRoot=t}yo.prototype.unstable_scheduleHydration=function(t){if(t){var s=df();t={blockedOn:null,target:t,priority:s};for(var l=0;l<on.length&&s!==0&&s<on[l].priority;l++);on.splice(l,0,t),l===0&&mf(t)}};function mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function zx(t,s,l,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var Z=vo(B);p.call(Z)}}var B=Um(s,u,t,0,null,!1,!1,"",Sm);return t._reactRootContainer=B,t[Dr]=B.current,Ui(t.nodeType===8?t.parentNode:t),zn(),B}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var F=u;u=function(){var Z=vo(T);F.call(Z)}}var T=du(t,0,!1,null,null,!1,!1,"",Sm);return t._reactRootContainer=T,t[Dr]=T.current,Ui(t.nodeType===8?t.parentNode:t),zn(function(){Bo(s,T,l,u)}),T}function Co(t,s,l,u,h){var p=l._reactRootContainer;if(p){var B=p;if(typeof h=="function"){var F=h;h=function(){var T=vo(B);F.call(T)}}Bo(s,B,t,h)}else B=zx(l,s,t,h,u);return vo(B)}cf=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var l=wA(s.pendingLanes);l!==0&&(Pl(s,l|1),GA(s,Et()),(Dt&6)===0&&(js=Et()+500,hn()))}break;case 13:zn(function(){var u=Mr(t,1);if(u!==null){var h=HA();vr(u,t,1,h)}}),fu(t,1)}},Rl=function(t){if(t.tag===13){var s=Mr(t,134217728);if(s!==null){var l=HA();vr(s,t,134217728,l)}fu(t,134217728)}},uf=function(t){if(t.tag===13){var s=Bn(t),l=Mr(t,s);if(l!==null){var u=HA();vr(l,t,s,u)}fu(t,s)}},df=function(){return Mt},ff=function(t,s){var l=Mt;try{return Mt=t,s()}finally{Mt=l}},pt=function(t,s,l){switch(s){case"input":if(Ve(t,l),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==t&&u.form===t.form){var h=Ra(u);if(!h)throw Error(A(90));We(u),Ve(u,h)}}}break;case"textarea":De(t,l);break;case"select":s=l.value,s!=null&&st(t,!!l.multiple,s,!1)}},Fe=iu,nt=zn;var Jx={usingClientEntryPoint:!1,Events:[Si,vs,Ra,it,Ge,iu]},Gi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xx={bundleType:Gi.bundleType,version:Gi.version,rendererPackageName:Gi.rendererPackageName,rendererConfig:Gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qe(t),t===null?null:t.stateNode},findFiberByHostInstance:Gi.findFiberByHostInstance||Vx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{ft=Eo.inject(Xx),ut=Eo}catch{}}return $A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx,$A.createPortal=function(t,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(s))throw Error(A(200));return Wx(t,s,null,l)},$A.createRoot=function(t,s){if(!mu(t))throw Error(A(299));var l=!1,u="",h=Fm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=du(t,1,!1,null,null,l,!1,u,h),t[Dr]=s.current,Ui(t.nodeType===8?t.parentNode:t),new hu(s)},$A.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=qe(s),t=t===null?null:t.stateNode,t},$A.flushSync=function(t){return zn(t)},$A.hydrate=function(t,s,l){if(!bo(s))throw Error(A(200));return Co(null,t,s,!0,l)},$A.hydrateRoot=function(t,s,l){if(!mu(t))throw Error(A(405));var u=l!=null&&l.hydratedSources||null,h=!1,p="",B=Fm;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(B=l.onRecoverableError)),s=Um(s,null,t,1,l??null,h,!1,p,B),t[Dr]=s.current,Ui(t),u)for(t=0;t<u.length;t++)l=u[t],h=l._getVersion,h=h(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,h]:s.mutableSourceEagerHydrationData.push(l,h);return new yo(s)},$A.render=function(t,s,l){if(!bo(s))throw Error(A(200));return Co(null,t,s,!1,l)},$A.unmountComponentAtNode=function(t){if(!bo(t))throw Error(A(40));return t._reactRootContainer?(zn(function(){Co(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1},$A.unstable_batchedUpdates=iu,$A.unstable_renderSubtreeIntoContainer=function(t,s,l,u){if(!bo(l))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Co(t,s,l,!1,u)},$A.version="18.3.1-next-f1338f8080-20240426",$A}var Dm;function Up(){if(Dm)return wu.exports;Dm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wu.exports=nB(),wu.exports}var Pm;function sB(){if(Pm)return Qo;Pm=1;var r=Up();return Qo.createRoot=r.createRoot,Qo.hydrateRoot=r.hydrateRoot,Qo}var iB=sB();const aB=Od(iB);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rm="popstate";function oB(r={}){function e(n,i){let{pathname:o,search:c,hash:d}=n.location;return rd("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function A(n,i){return typeof i=="string"?i:fa(i)}return cB(e,A,null,r)}function rA(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lB(){return Math.random().toString(36).substring(2,10)}function Om(r,e){return{usr:r.state,key:r.key,idx:e}}function rd(r,e,A=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?li(e):e,state:A,key:e&&e.key||n||lB()}}function fa({pathname:r="/",search:e="",hash:A=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),A&&A!=="#"&&(r+=A.charAt(0)==="#"?A:"#"+A),r}function li(r){let e={};if(r){let A=r.indexOf("#");A>=0&&(e.hash=r.substring(A),r=r.substring(0,A));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function cB(r,e,A,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,d="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function w(){d="POP";let E=g(),_=E==null?null:E-m;m=E,f&&f({action:d,location:b.location,delta:_})}function v(E,_){d="PUSH";let S=rd(b.location,E,_);m=g()+1;let k=Om(S,m),R=b.createHref(S);try{c.pushState(k,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(R)}o&&f&&f({action:d,location:b.location,delta:1})}function y(E,_){d="REPLACE";let S=rd(b.location,E,_);m=g();let k=Om(S,m),R=b.createHref(S);c.replaceState(k,"",R),o&&f&&f({action:d,location:b.location,delta:0})}function C(E){return uB(E)}let b={get action(){return d},get location(){return r(i,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Rm,w),f=E,()=>{i.removeEventListener(Rm,w),f=null}},createHref(E){return e(i,E)},createURL:C,encodeLocation(E){let _=C(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(E){return c.go(E)}};return b}function uB(r,e=!1){let A="http://localhost";typeof window<"u"&&(A=window.location.origin!=="null"?window.location.origin:window.location.href),rA(A,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:fa(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=A+n),new URL(n,A)}function _p(r,e,A="/"){return dB(r,e,A,!1)}function dB(r,e,A,n){let i=typeof e=="string"?li(e):e,o=qr(i.pathname||"/",A);if(o==null)return null;let c=Fp(r);fB(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=CB(o);d=yB(c[f],m,n)}return d}function Fp(r,e=[],A=[],n="",i=!1){let o=(c,d,f=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&f)return;rA(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let w=Jr([n,g.relativePath]),v=A.concat(g);c.children&&c.children.length>0&&(rA(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Fp(c.children,e,v,w,f)),!(c.path==null&&!c.index)&&e.push({path:w,score:BB(w,c.index),routesMeta:v})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let f of Sp(c.path))o(c,d,!0,f)}),e}function Sp(r){let e=r.split("/");if(e.length===0)return[];let[A,...n]=e,i=A.endsWith("?"),o=A.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=Sp(n.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...c),d.map(f=>r.startsWith("/")&&f===""?"/":f)}function fB(r){r.sort((e,A)=>e.score!==A.score?A.score-e.score:vB(e.routesMeta.map(n=>n.childrenIndex),A.routesMeta.map(n=>n.childrenIndex)))}var hB=/^:[\w-]+$/,mB=3,gB=2,pB=1,wB=10,xB=-2,Mm=r=>r==="*";function BB(r,e){let A=r.split("/"),n=A.length;return A.some(Mm)&&(n+=xB),e&&(n+=gB),A.filter(i=>!Mm(i)).reduce((i,o)=>i+(hB.test(o)?mB:o===""?pB:wB),n)}function vB(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function yB(r,e,A=!1){let{routesMeta:n}=r,i={},o="/",c=[];for(let d=0;d<n.length;++d){let f=n[d],m=d===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=ul({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),v=f.route;if(!w&&m&&A&&!n[n.length-1].route.index&&(w=ul({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:Jr([o,w.pathname]),pathnameBase:_B(Jr([o,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(o=Jr([o,w.pathnameBase]))}return c}function ul(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[A,n]=bB(r.path,r.caseSensitive,r.end),i=e.match(A);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:w},v)=>{if(g==="*"){let C=d[v]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const y=d[v];return w&&!y?m[g]=void 0:m[g]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:r}}function bB(r,e=!1,A=!0){fr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):A?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function CB(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let A=e.endsWith("/")?e.length-1:e.length,n=r.charAt(A);return n&&n!=="/"?null:r.slice(A)||"/"}function EB(r,e="/"){let{pathname:A,search:n="",hash:i=""}=typeof r=="string"?li(r):r;return{pathname:A?A.startsWith("/")?A:QB(A,e):e,search:FB(n),hash:SB(i)}}function QB(r,e){let A=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?A.length>1&&A.pop():i!=="."&&A.push(i)}),A.length>1?A.join("/"):"/"}function vu(r,e,A,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${A}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UB(r){return r.filter((e,A)=>A===0||e.route.path&&e.route.path.length>0)}function Kd(r){let e=UB(r);return e.map((A,n)=>n===e.length-1?A.pathname:A.pathnameBase)}function Gd(r,e,A,n=!1){let i;typeof r=="string"?i=li(r):(i={...r},rA(!i.pathname||!i.pathname.includes("?"),vu("?","pathname","search",i)),rA(!i.pathname||!i.pathname.includes("#"),vu("#","pathname","hash",i)),rA(!i.search||!i.search.includes("#"),vu("#","search","hash",i)));let o=r===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=A;else{let w=e.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),w-=1;i.pathname=v.join("/")}d=w>=0?e[w]:"/"}let f=EB(i,d),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&A.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Jr=r=>r.join("/").replace(/\/\/+/g,"/"),_B=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FB=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,SB=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kB(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var kp=["POST","PUT","PATCH","DELETE"];new Set(kp);var NB=["GET",...kp];new Set(NB);var ci=x.createContext(null);ci.displayName="DataRouter";var Ql=x.createContext(null);Ql.displayName="DataRouterState";x.createContext(!1);var Np=x.createContext({isTransitioning:!1});Np.displayName="ViewTransition";var IB=x.createContext(new Map);IB.displayName="Fetchers";var jB=x.createContext(null);jB.displayName="Await";var Er=x.createContext(null);Er.displayName="Navigation";var Ba=x.createContext(null);Ba.displayName="Location";var Qr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var $d=x.createContext(null);$d.displayName="RouteError";function TB(r,{relative:e}={}){rA(ui(),"useHref() may be used only in the context of a <Router> component.");let{basename:A,navigator:n}=x.useContext(Er),{hash:i,pathname:o,search:c}=va(r,{relative:e}),d=o;return A!=="/"&&(d=o==="/"?A:Jr([A,o])),n.createHref({pathname:d,search:c,hash:i})}function ui(){return x.useContext(Ba)!=null}function Ur(){return rA(ui(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ba).location}var Ip="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jp(r){x.useContext(Er).static||x.useLayoutEffect(r)}function us(){let{isDataRoute:r}=x.useContext(Qr);return r?JB():LB()}function LB(){rA(ui(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(ci),{basename:e,navigator:A}=x.useContext(Er),{matches:n}=x.useContext(Qr),{pathname:i}=Ur(),o=JSON.stringify(Kd(n)),c=x.useRef(!1);return jp(()=>{c.current=!0}),x.useCallback((f,m={})=>{if(fr(c.current,Ip),!c.current)return;if(typeof f=="number"){A.go(f);return}let g=Gd(f,JSON.parse(o),i,m.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jr([e,g.pathname])),(m.replace?A.replace:A.push)(g,m.state,m)},[e,A,o,i,r])}x.createContext(null);function HB(){let{matches:r}=x.useContext(Qr),e=r[r.length-1];return e?e.params:{}}function va(r,{relative:e}={}){let{matches:A}=x.useContext(Qr),{pathname:n}=Ur(),i=JSON.stringify(Kd(A));return x.useMemo(()=>Gd(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function DB(r,e){return Tp(r,e)}function Tp(r,e,A,n,i){rA(ui(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(Er),{matches:c}=x.useContext(Qr),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let S=w&&w.path||"";Lp(m,!w||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=Ur(),y;if(e){let S=typeof e=="string"?li(e):e;rA(g==="/"||S.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=v;let C=y.pathname||"/",b=C;if(g!=="/"){let S=g.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=_p(r,{pathname:b});fr(w||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),fr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=KB(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Jr([g,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:Jr([g,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,A,n,i);return e&&_?x.createElement(Ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function PB(){let r=zB(),e=kB(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),A=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),A?x.createElement("pre",{style:i},A):null,c)}var RB=x.createElement(PB,null),OB=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?x.createElement(Qr.Provider,{value:this.props.routeContext},x.createElement($d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MB({routeContext:r,match:e,children:A}){let n=x.useContext(ci);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Qr.Provider,{value:r},A)}function KB(r,e=[],A=null,n=null,i=null){if(r==null){if(!A)return null;if(A.errors)r=A.matches;else if(e.length===0&&!A.initialized&&A.matches.length>0)r=A.matches;else return null}let o=r,c=A?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);rA(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(A)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:w,errors:v}=A,y=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||y){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,w)=>{let v,y=!1,C=null,b=null;A&&(v=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||RB,d&&(f<0&&w===0?(Lp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):f===w&&(y=!0,b=g.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,w+1)),_=()=>{let S;return v?S=C:y?S=b:g.route.Component?S=x.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=m,x.createElement(MB,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:A!=null},children:S})};return A&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?x.createElement(OB,{location:A.location,revalidation:A.revalidation,component:C,error:v,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):_()},null)}function Wd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GB(r){let e=x.useContext(ci);return rA(e,Wd(r)),e}function $B(r){let e=x.useContext(Ql);return rA(e,Wd(r)),e}function WB(r){let e=x.useContext(Qr);return rA(e,Wd(r)),e}function Vd(r){let e=WB(r),A=e.matches[e.matches.length-1];return rA(A.route.id,`${r} can only be used on routes that contain a unique "id"`),A.route.id}function VB(){return Vd("useRouteId")}function zB(){let r=x.useContext($d),e=$B("useRouteError"),A=Vd("useRouteError");return r!==void 0?r:e.errors?.[A]}function JB(){let{router:r}=GB("useNavigate"),e=Vd("useNavigate"),A=x.useRef(!1);return jp(()=>{A.current=!0}),x.useCallback(async(i,o={})=>{fr(A.current,Ip),A.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var Km={};function Lp(r,e,A){!e&&!Km[r]&&(Km[r]=!0,fr(!1,A))}x.memo(XB);function XB({routes:r,future:e,state:A,unstable_onError:n}){return Tp(r,void 0,A,n,e)}function Hp({to:r,replace:e,state:A,relative:n}){rA(ui(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Er);fr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Qr),{pathname:c}=Ur(),d=us(),f=Gd(r,Kd(o),c,n==="path"),m=JSON.stringify(f);return x.useEffect(()=>{d(JSON.parse(m),{replace:e,state:A,relative:n})},[d,m,n,e,A]),null}function DA(r){rA(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YB({basename:r="/",children:e=null,location:A,navigationType:n="POP",navigator:i,static:o=!1}){rA(!ui(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof A=="string"&&(A=li(A));let{pathname:f="/",search:m="",hash:g="",state:w=null,key:v="default"}=A,y=x.useMemo(()=>{let C=qr(f,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:w,key:v},navigationType:n}},[c,f,m,g,w,v,n]);return fr(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(Er.Provider,{value:d},x.createElement(Ba.Provider,{children:e,value:y}))}function qB({children:r,location:e}){return DB(nd(r),e)}function nd(r,e=[]){let A=[];return x.Children.forEach(r,(n,i)=>{if(!x.isValidElement(n))return;let o=[...e,i];if(n.type===x.Fragment){A.push.apply(A,nd(n.props.children,o));return}rA(n.type===DA,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rA(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=nd(n.props.children,o)),A.push(c)}),A}var nl="get",sl="application/x-www-form-urlencoded";function Ul(r){return r!=null&&typeof r.tagName=="string"}function ZB(r){return Ul(r)&&r.tagName.toLowerCase()==="button"}function ev(r){return Ul(r)&&r.tagName.toLowerCase()==="form"}function tv(r){return Ul(r)&&r.tagName.toLowerCase()==="input"}function Av(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rv(r,e){return r.button===0&&(!e||e==="_self")&&!Av(r)}function sd(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,A)=>{let n=r[A];return e.concat(Array.isArray(n)?n.map(i=>[A,i]):[[A,n]])},[]))}function nv(r,e){let A=sd(r);return e&&e.forEach((n,i)=>{A.has(i)||e.getAll(i).forEach(o=>{A.append(i,o)})}),A}var Uo=null;function sv(){if(Uo===null)try{new FormData(document.createElement("form"),0),Uo=!1}catch{Uo=!0}return Uo}var iv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yu(r){return r!=null&&!iv.has(r)?(fr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):r}function av(r,e){let A,n,i,o,c;if(ev(r)){let d=r.getAttribute("action");n=d?qr(d,e):null,A=r.getAttribute("method")||nl,i=yu(r.getAttribute("enctype"))||sl,o=new FormData(r)}else if(ZB(r)||tv(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||d.getAttribute("action");if(n=f?qr(f,e):null,A=r.getAttribute("formmethod")||d.getAttribute("method")||nl,i=yu(r.getAttribute("formenctype"))||yu(d.getAttribute("enctype"))||sl,o=new FormData(d,r),!sv()){let{name:m,type:g,value:w}=r;if(g==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,w)}}else{if(Ul(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');A=nl,n=null,i=sl,c=r}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:A.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ov(r,e,A){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${A}`:e&&qr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${A}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${A}`,n}async function lv(r,e){if(r.id in e)return e[r.id];try{let A=await import(r.module);return e[r.id]=A,A}catch(A){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(A),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cv(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function uv(r,e,A){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await lv(o,A);return c.links?c.links():[]}return[]}));return mv(n.flat(1).filter(cv).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gm(r,e,A,n,i,o){let c=(f,m)=>A[m]?f.route.id!==A[m].route.id:!0,d=(f,m)=>A[m].pathname!==f.pathname||A[m].route.path?.endsWith("*")&&A[m].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{let g=n.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:A[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function dv(r,e,{includeHydrateFallback:A}={}){return fv(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),A&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function fv(r){return[...new Set(r)]}function hv(r){let e={},A=Object.keys(r).sort();for(let n of A)e[n]=r[n];return e}function mv(r,e){let A=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(hv(i));return A.has(o)||(A.add(o),n.push({key:o,link:i})),n},[])}function Dp(){let r=x.useContext(ci);return zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function gv(){let r=x.useContext(Ql);return zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jd=x.createContext(void 0);Jd.displayName="FrameworkContext";function Pp(){let r=x.useContext(Jd);return zd(r,"You must render this element inside a <HydratedRouter> element"),r}function pv(r,e){let A=x.useContext(Jd),[n,i]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:w}=e,v=x.useRef(null);x.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let b=_=>{_.forEach(S=>{c(S.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[r]),x.useEffect(()=>{if(n){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[n]);let y=()=>{i(!0)},C=()=>{i(!1),c(!1)};return A?r!=="intent"?[o,v,{}]:[o,v,{onFocus:Wi(d,y),onBlur:Wi(f,C),onMouseEnter:Wi(m,y),onMouseLeave:Wi(g,C),onTouchStart:Wi(w,y)}]:[!1,v,{}]}function Wi(r,e){return A=>{r&&r(A),A.defaultPrevented||e(A)}}function wv({page:r,...e}){let{router:A}=Dp(),n=x.useMemo(()=>_p(A.routes,r,A.basename),[A.routes,r,A.basename]);return n?x.createElement(Bv,{page:r,matches:n,...e}):null}function xv(r){let{manifest:e,routeModules:A}=Pp(),[n,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return uv(r,e,A).then(c=>{o||i(c)}),()=>{o=!0}},[r,e,A]),n}function Bv({page:r,matches:e,...A}){let n=Ur(),{manifest:i,routeModules:o}=Pp(),{basename:c}=Dp(),{loaderData:d,matches:f}=gv(),m=x.useMemo(()=>Gm(r,e,f,i,n,"data"),[r,e,f,i,n]),g=x.useMemo(()=>Gm(r,e,f,i,n,"assets"),[r,e,f,i,n]),w=x.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let C=new Set,b=!1;if(e.forEach(_=>{let S=i.routes[_.route.id];!S||!S.hasLoader||(!m.some(k=>k.route.id===_.route.id)&&_.route.id in d&&o[_.route.id]?.shouldRevalidate||S.hasClientLoader?b=!0:C.add(_.route.id))}),C.size===0)return[];let E=ov(r,c,"data");return b&&C.size>0&&E.searchParams.set("_routes",e.filter(_=>C.has(_.route.id)).map(_=>_.route.id).join(",")),[E.pathname+E.search]},[c,d,n,i,m,e,r,o]),v=x.useMemo(()=>dv(g,i),[g,i]),y=xv(g);return x.createElement(x.Fragment,null,w.map(C=>x.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...A})),v.map(C=>x.createElement("link",{key:C,rel:"modulepreload",href:C,...A})),y.map(({key:C,link:b})=>x.createElement("link",{key:C,nonce:A.nonce,...b})))}function vv(...r){return e=>{r.forEach(A=>{typeof A=="function"?A(e):A!=null&&(A.current=e)})}}var Rp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rp&&(window.__reactRouterVersion="7.9.4")}catch{}function yv({basename:r,children:e,window:A}){let n=x.useRef();n.current==null&&(n.current=oB({window:A,v5Compat:!0}));let i=n.current,[o,c]=x.useState({action:i.action,location:i.location}),d=x.useCallback(f=>{x.startTransition(()=>c(f))},[c]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.createElement(YB,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var Op=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_A=x.forwardRef(function({onClick:e,discover:A="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:w,...v},y){let{basename:C}=x.useContext(Er),b=typeof m=="string"&&Op.test(m),E,_=!1;if(typeof m=="string"&&b&&(E=m,Rp))try{let L=new URL(window.location.href),we=m.startsWith("//")?new URL(L.protocol+m):new URL(m),X=qr(we.pathname,C);we.origin===L.origin&&X!=null?m=X+we.search+we.hash:_=!0}catch{fr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=TB(m,{relative:i}),[k,R,I]=pv(n,v),j=Qv(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:w});function P(L){e&&e(L),L.defaultPrevented||j(L)}let K=x.createElement("a",{...v,...I,href:E||S,onClick:_||o?e:P,ref:vv(y,R),target:f,"data-discover":!b&&A==="render"?"true":void 0});return k&&!b?x.createElement(x.Fragment,null,K,x.createElement(wv,{page:S})):K});_A.displayName="Link";var bv=x.forwardRef(function({"aria-current":e="page",caseSensitive:A=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:d,children:f,...m},g){let w=va(c,{relative:m.relative}),v=Ur(),y=x.useContext(Ql),{navigator:C,basename:b}=x.useContext(Er),E=y!=null&&Nv(w)&&d===!0,_=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,S=v.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;A||(S=S.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&b&&(k=qr(k,b)||k);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let I=S===_||!i&&S.startsWith(_)&&S.charAt(R)==="/",j=k!=null&&(k===_||!i&&k.startsWith(_)&&k.charAt(_.length)==="/"),P={isActive:I,isPending:j,isTransitioning:E},K=I?e:void 0,L;typeof n=="function"?L=n(P):L=[n,I?"active":null,j?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let we=typeof o=="function"?o(P):o;return x.createElement(_A,{...m,"aria-current":K,className:L,ref:g,style:we,to:c,viewTransition:d},typeof f=="function"?f(P):f)});bv.displayName="NavLink";var Cv=x.forwardRef(({discover:r="render",fetcherKey:e,navigate:A,reloadDocument:n,replace:i,state:o,method:c=nl,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:w,...v},y)=>{let C=Sv(),b=kv(d,{relative:m}),E=c.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&Op.test(d),S=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,I=R?.getAttribute("formmethod")||c;C(R||k.currentTarget,{fetcherKey:e,method:I,navigate:A,replace:i,state:o,relative:m,preventScrollReset:g,viewTransition:w})};return x.createElement("form",{ref:y,method:E,action:b,onSubmit:n?f:S,...v,"data-discover":!_&&r==="render"?"true":void 0})});Cv.displayName="Form";function Ev(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mp(r){let e=x.useContext(ci);return rA(e,Ev(r)),e}function Qv(r,{target:e,replace:A,state:n,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=us(),f=Ur(),m=va(r,{relative:o});return x.useCallback(g=>{if(rv(g,e)){g.preventDefault();let w=A!==void 0?A:fa(f)===fa(m);d(r,{replace:w,state:n,preventScrollReset:i,relative:o,viewTransition:c})}},[f,d,m,A,n,e,r,i,o,c])}function Uv(r){fr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(sd(r)),A=x.useRef(!1),n=Ur(),i=x.useMemo(()=>nv(n.search,A.current?null:e.current),[n.search]),o=us(),c=x.useCallback((d,f)=>{const m=sd(typeof d=="function"?d(new URLSearchParams(i)):d);A.current=!0,o("?"+m,f)},[o,i]);return[i,c]}var _v=0,Fv=()=>`__${String(++_v)}__`;function Sv(){let{router:r}=Mp("useSubmit"),{basename:e}=x.useContext(Er),A=VB();return x.useCallback(async(n,i={})=>{let{action:o,method:c,encType:d,formData:f,body:m}=av(n,e);if(i.navigate===!1){let g=i.fetcherKey||Fv();await r.fetch(g,A,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:A,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,A])}function kv(r,{relative:e}={}){let{basename:A}=x.useContext(Er),n=x.useContext(Qr);rA(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...va(r||".",{relative:e})},c=Ur();if(r==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),A!=="/"&&(o.pathname=o.pathname==="/"?A:Jr([A,o.pathname])),fa(o)}function Nv(r,{relative:e}={}){let A=x.useContext(Np);rA(A!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Mp("useViewTransitionState"),i=va(r,{relative:e});if(!A.isTransitioning)return!1;let o=qr(A.currentLocation.pathname,n)||A.currentLocation.pathname,c=qr(A.nextLocation.pathname,n)||A.nextLocation.pathname;return ul(i.pathname,c)!=null||ul(i.pathname,o)!=null}var Iv=Up();const $m=["soccer-ball-motion.jpg","trophy.jpg","embrace.jpg","baseball-throw.jpg","smiling-faces.jpg","infinity.jpg","abstract-leaf.jpg","soccer-ball.jpg"];function Xd(r){let e=0;for(let A=0;A<r.length;A++){const n=r.charCodeAt(A);e=(e<<5)-e+n,e=e&e}return Math.abs(e)}function il(r){const A=Xd(r)%$m.length;return $m[A]}function Kp(r,e=128){const A=Xd(r),n=["9046579","9046578","9046577","9046576"];return`https://source.unsplash.com/collection/${n[A%n.length]}/${e}x${e}/?sig=${A}`}function Gp(r,e=128){return`https://picsum.photos/seed/${Xd(r)}/${e}/${e}`}const jv="modulepreload",Tv=function(r){return"/"+r},Wm={},Xr=function(e,A,n){let i=Promise.resolve();if(A&&A.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(A.map(m=>{if(m=Tv(m),m in Wm)return;Wm[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":jv,g||(v.as="script"),v.crossOrigin="",v.href=m,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((y,C)=>{v.addEventListener("load",y),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},Lv=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...A)=>Xr(async()=>{const{default:n}=await Promise.resolve().then(()=>di);return{default:n}},[]).then(({default:n})=>n(...A)):e=fetch,(...A)=>e(...A)};class Yd extends Error{constructor(e,A="FunctionsError",n){super(e),this.name=A,this.context=n}}class Vm extends Yd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zm extends Yd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jm extends Yd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var id;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(id||(id={}));var Hv=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};class Dv{constructor(e,{headers:A={},customFetch:n,region:i=id.Any}={}){this.url=e,this.headers=A,this.region=i,this.fetch=Lv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Hv(this,arguments,void 0,function*(A,n={}){var i;try{const{headers:o,method:c,body:d,signal:f}=n;let m={},{region:g}=n;g||(g=this.region);const w=new URL(`${this.url}/${A}`);g&&g!=="any"&&(m["x-region"]=g,w.searchParams.set("forceFunctionRegion",g));let v;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(m["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(m["Content-Type"]="application/json",v=JSON.stringify(d)));const y=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:v,signal:f}).catch(_=>{throw _.name==="AbortError"?_:new Vm(_)}),C=y.headers.get("x-relay-error");if(C&&C==="true")throw new zm(y);if(!y.ok)throw new Jm(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield y.json():b==="application/octet-stream"?E=yield y.blob():b==="text/event-stream"?E=y:b==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Vm(o)}:{data:null,error:o,response:o instanceof Jm||o instanceof zm?o.context:void 0}}})}}var yA={},Ls={},Hs={},Ds={},Ps={},Rs={},Pv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ai=Pv();const Rv=ai.fetch,$p=ai.fetch.bind(ai),Wp=ai.Headers,Ov=ai.Request,Mv=ai.Response,di=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wp,Request:Ov,Response:Mv,default:$p,fetch:Rv},Symbol.toStringTag,{value:"Module"})),Kv=qx(di);var _o={},Xm;function Vp(){if(Xm)return _o;Xm=1,Object.defineProperty(_o,"__esModule",{value:!0});class r extends Error{constructor(A){super(A.message),this.name="PostgrestError",this.details=A.details,this.hint=A.hint,this.code=A.code}}return _o.default=r,_o}var Ym;function zp(){if(Ym)return Rs;Ym=1;var r=Rs&&Rs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Rs,"__esModule",{value:!0});const e=r(Kv),A=r(Vp());class n{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,w,v,y;let C=null,b=null,E=null,_=m.status,S=m.statusText;if(m.ok){if(this.method!=="HEAD"){const j=await m.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?b=j:b=JSON.parse(j))}const R=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),I=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&I&&I.length>1&&(E=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(C={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,E=null,_=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const R=await m.text();try{C=JSON.parse(R),Array.isArray(C)&&m.status===404&&(b=[],C=null,_=200,S="OK")}catch{m.status===404&&R===""?(_=204,S="No Content"):C={message:R}}if(C&&this.isMaybeSingle&&(!((y=C?.details)===null||y===void 0)&&y.includes("0 rows"))&&(C=null,_=200,S="OK"),C&&this.shouldThrowOnError)throw new A.default(C)}return{error:C,data:b,count:E,status:_,statusText:S}});return this.shouldThrowOnError||(f=f.catch(m=>{var g,w,v;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(w=m?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,c)}returns(){return this}overrideTypes(){return this}}return Rs.default=n,Rs}var qm;function Jp(){if(qm)return Ps;qm=1;var r=Ps&&Ps.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ps,"__esModule",{value:!0});const e=r(zp());class A extends e.default{select(i){let o=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,o,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var g;const w=[i?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ps.default=A,Ps}var Zm;function qd(){if(Zm)return Ds;Zm=1;var r=Ds&&Ds.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ds,"__esModule",{value:!0});const e=r(Jp());class A extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${f}fts${m}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return Ds.default=A,Ds}var eg;function Xp(){if(eg)return Hs;eg=1;var r=Hs&&Hs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hs,"__esModule",{value:!0});const e=r(qd());class A{constructor(i,{headers:o={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(i,o){const{head:c=!1,count:d}=o??{},f=c?"HEAD":"GET";let m=!1;const g=(i??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:c=!0}={}){var d;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(m.length>0){const g=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const w=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(w.length>0){const v=[...new Set(w)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var o;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Hs.default=A,Hs}var tg;function Gv(){if(tg)return Ls;tg=1;var r=Ls&&Ls.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=r(Xp()),A=r(qd());class n{constructor(o,{headers:c={},schema:d,fetch:f}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:f=!1,count:m}={}){var g;let w;const v=new URL(`${this.url}/rpc/${o}`);let y;d||f?(w=d?"HEAD":"GET",Object.entries(c).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{v.searchParams.append(b,E)})):(w="POST",y=c);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new A.default({method:w,url:v,headers:C,schema:this.schemaName,body:y,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Ls.default=n,Ls}var Ag;function $v(){if(Ag)return yA;Ag=1;var r=yA&&yA.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(yA,"__esModule",{value:!0}),yA.PostgrestError=yA.PostgrestBuilder=yA.PostgrestTransformBuilder=yA.PostgrestFilterBuilder=yA.PostgrestQueryBuilder=yA.PostgrestClient=void 0;const e=r(Gv());yA.PostgrestClient=e.default;const A=r(Xp());yA.PostgrestQueryBuilder=A.default;const n=r(qd());yA.PostgrestFilterBuilder=n.default;const i=r(Jp());yA.PostgrestTransformBuilder=i.default;const o=r(zp());yA.PostgrestBuilder=o.default;const c=r(Vp());return yA.PostgrestError=c.default,yA.default={PostgrestClient:e.default,PostgrestQueryBuilder:A.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:c.default},yA}var Wv=$v();const Vv=Od(Wv),{PostgrestClient:zv,PostgrestQueryBuilder:mF,PostgrestFilterBuilder:gF,PostgrestTransformBuilder:pF,PostgrestBuilder:wF,PostgrestError:xF}=Vv;class Jv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const A=process.versions;if(A&&A.node){const n=A.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let A=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(A+=`

Suggested solution: ${e.workaround}`),new Error(A)}static createWebSocket(e,A){const n=this.getWebSocketConstructor();return new n(e,A)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Xv="2.75.0",Yv=`realtime-js/${Xv}`,qv="1.0.0",ad=1e4,Zv=1e3,ey=100;var sa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(sa||(sa={}));var gA;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(gA||(gA={}));var Cr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Cr||(Cr={}));var od;(function(r){r.websocket="websocket"})(od||(od={}));var ns;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ns||(ns={}));class ty{constructor(){this.HEADER_LENGTH=1}decode(e,A){return e.constructor===ArrayBuffer?A(this._binaryDecode(e)):A(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const A=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,A,n)}_decodeBroadcast(e,A,n){const i=A.getUint8(1),o=A.getUint8(2);let c=this.HEADER_LENGTH+2;const d=n.decode(e.slice(c,c+i));c=c+i;const f=n.decode(e.slice(c,c+o));c=c+o;const m=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:f,payload:m}}}class Yp{constructor(e,A){this.callback=e,this.timerCalc=A,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=A}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Jt||(Jt={}));const rg=(r,e,A={})=>{var n;const i=(n=A.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=Ay(c,r,e,i),o),{}):{}},Ay=(r,e,A,n)=>{const i=e.find(d=>d.name===r),o=i?.type,c=A[r];return o&&!n.includes(o)?qp(o,c):ld(c)},qp=(r,e)=>{if(r.charAt(0)==="_"){const A=r.slice(1,r.length);return iy(e,A)}switch(r){case Jt.bool:return ry(e);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return ny(e);case Jt.json:case Jt.jsonb:return sy(e);case Jt.timestamp:return ay(e);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return ld(e);default:return ld(e)}},ld=r=>r,ry=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ny=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},sy=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},iy=(r,e)=>{if(typeof r!="string")return r;const A=r.length-1,n=r[A];if(r[0]==="{"&&n==="}"){let o;const c=r.slice(1,A);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>qp(e,d))}return r},ay=r=>typeof r=="string"?r.replace(" ","T"):r,Zp=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class bu{constructor(e,A,n={},i=ad){this.channel=e,this.event=A,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,A){var n;return this._hasReceived(e)&&A((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:A}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=A=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=A,this._matchReceive(A)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,A){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:A})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:A}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(A))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ng;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ng||(ng={}));class ia{constructor(e,A){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=A?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ia.syncState(this.state,i,o,c),this.pendingDiffs.forEach(f=>{this.state=ia.syncDiff(this.state,f,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ia.syncDiff(this.state,i,o,c),d())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,A,n,i){const o=this.cloneDeep(e),c=this.transformState(A),d={},f={};return this.map(o,(m,g)=>{c[m]||(f[m]=g)}),this.map(c,(m,g)=>{const w=o[m];if(w){const v=g.map(E=>E.presence_ref),y=w.map(E=>E.presence_ref),C=g.filter(E=>y.indexOf(E.presence_ref)<0),b=w.filter(E=>v.indexOf(E.presence_ref)<0);C.length>0&&(d[m]=C),b.length>0&&(f[m]=b)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:f},n,i)}static syncDiff(e,A,n,i){const{joins:o,leaves:c}={joins:this.transformState(A.joins),leaves:this.transformState(A.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(d,f)=>{var m;const g=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(f),g.length>0){const w=e[d].map(y=>y.presence_ref),v=g.filter(y=>w.indexOf(y.presence_ref)<0);e[d].unshift(...v)}n(d,g,f)}),this.map(c,(d,f)=>{let m=e[d];if(!m)return;const g=f.map(w=>w.presence_ref);m=m.filter(w=>g.indexOf(w.presence_ref)<0),e[d]=m,i(d,m,f),m.length===0&&delete e[d]}),e}static map(e,A){return Object.getOwnPropertyNames(e).map(n=>A(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((A,n)=>{const i=e[n];return"metas"in i?A[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):A[n]=i,A},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(sg||(sg={}));var aa;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(aa||(aa={}));var zr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(zr||(zr={}));class Zd{constructor(e,A={config:{}},n){var i,o;if(this.topic=e,this.params=A,this.socket=n,this.bindings={},this.state=gA.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},A.config),this.timeout=this.socket.timeout,this.joinPush=new bu(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new Yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gA.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gA.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=gA.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gA.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=gA.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new ia(this),this.broadcastEndpointURL=Zp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,A=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gA.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[aa.PRESENCE]&&this.bindings[aa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,w={},v={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(zr.CHANNEL_ERROR,y)),this._onClose(()=>e?.(zr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},w)),this.joinedOnce=!0,this._rejoin(A),this.joinPush.receive("ok",async({postgres_changes:y})=>{var C;if(this.socket.setAuth(),y===void 0){e?.(zr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(C=b?.length)!==null&&C!==void 0?C:0,_=[];for(let S=0;S<E;S++){const k=b[S],{filter:{event:R,schema:I,table:j,filter:P}}=k,K=y&&y[S];if(K&&K.event===R&&K.schema===I&&K.table===j&&K.filter===P)_.push(Object.assign(Object.assign({},k),{id:K.id}));else{this.unsubscribe(),this.state=gA.errored,e?.(zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(zr.SUBSCRIBED);return}}).receive("error",y=>{this.state=gA.errored,e?.(zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,A={}){return await this.send({type:"presence",event:"track",payload:e},A.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,A,n){return this.state===gA.joined&&e===aa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,A,n)}async send(e,A={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=A.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,f;const m=this._push(e.type,e,A.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gA.leaving;const A=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bu(this,Cr.leave,{},e),n.receive("ok",()=>{A(),i("ok")}).receive("timeout",()=>{A(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gA.closed,this.bindings={}}async _fetchWithTimeout(e,A,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},A),{signal:i.signal}));return clearTimeout(o),c}_push(e,A,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bu(this,e,A,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ey){const A=this.pushBuffer.shift();A&&(A.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${A.event}`,A.payload))}}_onMessage(e,A,n){return A}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,A,n){var i,o;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:m,join:g}=Cr;if(n&&[d,f,m,g].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,A,n);if(A&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var C,b,E;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((E=(b=y.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(y=>y.callback(v,n)):(o=this.bindings[c])===null||o===void 0||o.filter(y=>{var C,b,E,_,S,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const R=y.id,I=(C=y.filter)===null||C===void 0?void 0:C.event;return R&&((b=A.ids)===null||b===void 0?void 0:b.includes(R))&&(I==="*"||I?.toLocaleLowerCase()===((E=A.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const R=(S=(_=y?.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return R==="*"||R===((k=A?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof v=="object"&&"ids"in v){const C=v.data,{schema:b,table:E,commit_timestamp:_,type:S,errors:k}=C;v=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:_,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(C))}y.callback(v,n)})}_isClosed(){return this.state===gA.closed}_isJoined(){return this.state===gA.joined}_isJoining(){return this.state===gA.joining}_isLeaving(){return this.state===gA.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,A,n){const i=e.toLocaleLowerCase(),o={type:i,filter:A,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,A){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Zd.isEqual(i.filter,A))})),this}static isEqual(e,A){if(Object.keys(e).length!==Object.keys(A).length)return!1;for(const n in e)if(e[n]!==A[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cr.close,{},e)}_onError(e){this._on(Cr.error,{},A=>e(A))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gA.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const A={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(A.new=rg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(A.old=rg(e.columns,e.old_record)),A}}const Cu=()=>{},Fo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oy=[1e3,2e3,5e3,1e4],ly=1e4,cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uy{constructor(e,A){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ad,this.transport=null,this.heartbeatIntervalMs=Fo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cu,this.ref=0,this.reconnectTimer=null,this.logger=Cu,this.conn=null,this.sendBuffer=[],this.serializer=new ty,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>Xr(async()=>{const{default:d}=await Promise.resolve().then(()=>di);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((n=A?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=A.params.apikey,this.endPoint=`${e}/${od.websocket}`,this.httpEndpoint=Zp(e),this._initializeOptions(A),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(A?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const A=e.message;throw A.includes("Node.js")?new Error(`${A}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${A}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qv}))}disconnect(e,A){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,A??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const A=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),A}async removeAllChannels(){const e=await Promise.all(this.channels.map(A=>A.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,A,n){this.logger(e,A,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return ns.Connecting;case sa.open:return ns.Open;case sa.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,A={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Zd(`realtime:${e}`,A,this);return this.channels.push(o),o}}push(e){const{topic:A,event:n,payload:i,ref:o}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${A} ${n} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(A){this.log("error","error in heartbeat callback",A)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(A){this.log("error","error in heartbeat callback",A)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zv,"heartbeat timeout"),setTimeout(()=>{var A;this.isConnected()||(A=this.reconnectTimer)===null||A===void 0||A.scheduleTimeout()},Fo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(A){this.log("error","error in heartbeat callback",A)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let A=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));A&&(this.log("transport",`leaving duplicate topic "${e}"`),A.unsubscribe())}_remove(e){this.channels=this.channels.filter(A=>A.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,A=>{if(A.topic==="phoenix"&&A.event==="phx_reply")try{this.heartbeatCallback(A.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}A.ref&&A.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:c}=A,d=c?`(${c})`:"",f=o.status||"";this.log("receive",`${f} ${n} ${i} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,o,c)),this._triggerStateCallbacks("message",A)})}_clearTimer(e){var A;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((A=this.reconnectTimer)===null||A===void 0||A.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=A=>{this.log("worker","worker error",A.message),this.workerRef.terminate()},this.workerRef.onmessage=A=>{A.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var A;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(A=this.reconnectTimer)===null||A===void 0||A.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cr.error))}_appendParams(e,A){if(Object.keys(A).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(A);return`${e}${n}${i}`}_workerObjectUrl(e){let A;if(e)A=e;else{const n=new Blob([cy],{type:"application/javascript"});A=URL.createObjectURL(n)}return A}_setConnectionState(e,A=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=A)}async _performAuth(e=null){let A;e?A=e:this.accessToken?A=await this.accessToken():A=this.accessTokenValue,this.accessTokenValue!=A&&(this.accessTokenValue=A,this.channels.forEach(n=>{const i={access_token:A,version:Yv};A&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Cr.access_token,{access_token:A})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(A=>{this.log("error",`error setting auth in ${e}`,A)})}_triggerStateCallbacks(e,A){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(A)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Yp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var A,n,i,o,c,d,f,m,g;if(this.transport=(A=e?.transport)!==null&&A!==void 0?A:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:ad,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Fo.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Cu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>oy[w-1]||ly),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((w,v)=>v(JSON.stringify(w))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ef extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dA(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class dy extends ef{constructor(e,A,n){super(e),this.name="StorageApiError",this.status=A,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cd extends ef{constructor(e,A){super(e),this.name="StorageUnknownError",this.originalError=A}}var fy=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};const e0=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...A)=>Xr(async()=>{const{default:n}=await Promise.resolve().then(()=>di);return{default:n}},void 0).then(({default:n})=>n(...A)):e=fetch,(...A)=>e(...A)},hy=()=>fy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xr(()=>Promise.resolve().then(()=>di),void 0)).Response:Response}),ud=r=>{if(Array.isArray(r))return r.map(A=>ud(A));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([A,n])=>{const i=A.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=ud(n)}),e},my=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var ds=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};const Eu=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),gy=(r,e,A)=>ds(void 0,void 0,void 0,function*(){const n=yield hy();r instanceof n&&!A?.noResolveJson?r.json().then(i=>{const o=r.status||500,c=i?.statusCode||o+"";e(new dy(Eu(i),o,c))}).catch(i=>{e(new cd(Eu(i),i))}):e(new cd(Eu(r),r))}),py=(r,e,A,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"||!n?i:(my(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),A))};function ya(r,e,A,n,i,o){return ds(this,void 0,void 0,function*(){return new Promise((c,d)=>{r(A,py(e,n,i,o)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>gy(f,d,n))})})}function dl(r,e,A,n){return ds(this,void 0,void 0,function*(){return ya(r,"GET",e,A,n)})}function jr(r,e,A,n,i){return ds(this,void 0,void 0,function*(){return ya(r,"POST",e,n,i,A)})}function dd(r,e,A,n,i){return ds(this,void 0,void 0,function*(){return ya(r,"PUT",e,n,i,A)})}function wy(r,e,A,n){return ds(this,void 0,void 0,function*(){return ya(r,"HEAD",e,Object.assign(Object.assign({},A),{noResolveJson:!0}),n)})}function t0(r,e,A,n,i){return ds(this,void 0,void 0,function*(){return ya(r,"DELETE",e,n,i,A)})}var xy=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};class By{constructor(e,A){this.downloadFn=e,this.shouldThrowOnError=A}then(e,A){return this.execute().then(e,A)}execute(){return xy(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dA(e))return{data:null,error:e};throw e}})}}var vy=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};class yy{constructor(e,A){this.downloadFn=e,this.shouldThrowOnError=A}asStream(){return new By(this.downloadFn,this.shouldThrowOnError)}then(e,A){return this.execute().then(e,A)}execute(){return vy(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dA(e))return{data:null,error:e};throw e}})}}var WA=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};const by={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cy{constructor(e,A={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=A,this.bucketId=n,this.fetch=e0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,A,n,i){return WA(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},ig),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(A),g=this._getFinalPath(m),w=yield(e=="PUT"?dd:jr)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dA(o))return{data:null,error:o};throw o}})}upload(e,A,n){return WA(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,A,n)})}uploadToSignedUrl(e,A,n,i){return WA(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",A);try{let f;const m=Object.assign({upsert:ig.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const w=yield dd(this.fetch,d.toString(),f,{headers:g});return{data:{path:o,fullPath:w.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(dA(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,A){return WA(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);A?.upsert&&(i["x-upsert"]="true");const o=yield jr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new ef("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dA(n))return{data:null,error:n};throw n}})}update(e,A,n){return WA(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,A,n)})}move(e,A,n){return WA(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:A,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dA(i))return{data:null,error:i};throw i}})}copy(e,A,n){return WA(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:A,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dA(i))return{data:null,error:i};throw i}})}createSignedUrl(e,A,n){return WA(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield jr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:A},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dA(i))return{data:null,error:i};throw i}})}createSignedUrls(e,A,n){return WA(this,void 0,void 0,function*(){try{const i=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:A,paths:e},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dA(i))return{data:null,error:i};throw i}})}download(e,A){const i=typeof A?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(A?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(e),f=()=>dl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new yy(f,this.shouldThrowOnError)}info(e){return WA(this,void 0,void 0,function*(){const A=this._getFinalPath(e);try{const n=yield dl(this.fetch,`${this.url}/object/info/${A}`,{headers:this.headers});return{data:ud(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dA(n))return{data:null,error:n};throw n}})}exists(e){return WA(this,void 0,void 0,function*(){const A=this._getFinalPath(e);try{return yield wy(this.fetch,`${this.url}/object/${A}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dA(n)&&n instanceof cd){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,A){const n=this._getFinalPath(e),i=[],o=A?.download?`download=${A.download===!0?"":A.download}`:"";o!==""&&i.push(o);const d=typeof A?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(A?.transform||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(e){return WA(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(dA(A))return{data:null,error:A};throw A}})}list(e,A,n){return WA(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},by),A),{prefix:e||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dA(i))return{data:null,error:i};throw i}})}listV2(e,A){return WA(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},A),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dA(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const A=[];return e.width&&A.push(`width=${e.width}`),e.height&&A.push(`height=${e.height}`),e.resize&&A.push(`resize=${e.resize}`),e.format&&A.push(`format=${e.format}`),e.quality&&A.push(`quality=${e.quality}`),A.join("&")}}const Ey="2.75.0",Qy={"X-Client-Info":`storage-js/${Ey}`};var Os=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};class Uy{constructor(e,A={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qy),A),this.fetch=e0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Os(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dA(e))return{data:null,error:e};throw e}})}getBucket(e){return Os(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(dA(A))return{data:null,error:A};throw A}})}createBucket(e){return Os(this,arguments,void 0,function*(A,n={public:!1}){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:A,name:A,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dA(i))return{data:null,error:i};throw i}})}updateBucket(e,A){return Os(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:A.public,file_size_limit:A.fileSizeLimit,allowed_mime_types:A.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dA(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Os(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(dA(A))return{data:null,error:A};throw A}})}deleteBucket(e){return Os(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(dA(A))return{data:null,error:A};throw A}})}}class _y extends Uy{constructor(e,A={},n,i){super(e,A,n,i)}from(e){return new Cy(this.url,this.headers,e,this.fetch)}}const Fy="2.75.0";let Yi="";typeof Deno<"u"?Yi="deno":typeof document<"u"?Yi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yi="react-native":Yi="node";const Sy={"X-Client-Info":`supabase-js-${Yi}/${Fy}`},ky={headers:Sy},Ny={schema:"public"},Iy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jy={};var Ty=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};const Ly=r=>{let e;return r?e=r:typeof fetch>"u"?e=$p:e=fetch,(...A)=>e(...A)},Hy=()=>typeof Headers>"u"?Wp:Headers,Dy=(r,e,A)=>{const n=Ly(A),i=Hy();return(o,c)=>Ty(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:r;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),n(o,Object.assign(Object.assign({},c),{headers:m}))})};var Py=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};function Ry(r){return r.endsWith("/")?r:r+"/"}function Oy(r,e){var A,n;const{db:i,auth:o,realtime:c,global:d}=r,{db:f,auth:m,realtime:g,global:w}=e,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),d),{headers:Object.assign(Object.assign({},(A=w?.headers)!==null&&A!==void 0?A:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Py(this,void 0,void 0,function*(){return""})};return r.accessToken?v.accessToken=r.accessToken:delete v.accessToken,v}function My(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ry(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const A0="2.75.0",ei=30*1e3,fd=3,Qu=fd*ei,Ky="http://localhost:9999",Gy="supabase.auth.token",$y={"X-Client-Info":`gotrue-js/${A0}`},hd="X-Supabase-Api-Version",r0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vy=600*1e3;class ha extends Error{constructor(e,A,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=A,this.code=n}}function yt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class zy extends ha{constructor(e,A,n){super(e,A,n),this.name="AuthApiError",this.status=A,this.code=n}}function Jy(r){return yt(r)&&r.name==="AuthApiError"}class ss extends ha{constructor(e,A){super(e),this.name="AuthUnknownError",this.originalError=A}}class Hn extends ha{constructor(e,A,n,i){super(e,n,i),this.name=A,this.status=n}}class En extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xy(r){return yt(r)&&r.name==="AuthSessionMissingError"}class Ms extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class So extends Hn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ko extends Hn{constructor(e,A=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=A}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yy(r){return yt(r)&&r.name==="AuthImplicitGrantRedirectError"}class ag extends Hn{constructor(e,A=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=A}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class md extends Hn{constructor(e,A){super(e,"AuthRetryableFetchError",A,void 0)}}function Uu(r){return yt(r)&&r.name==="AuthRetryableFetchError"}class og extends Hn{constructor(e,A,n){super(e,"AuthWeakPasswordError",A,"weak_password"),this.reasons=n}}class gd extends Hn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lg=` 	
\r=`.split(""),qy=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<lg.length;e+=1)r[lg[e].charCodeAt(0)]=-2;for(let e=0;e<fl.length;e+=1)r[fl[e].charCodeAt(0)]=e;return r})();function cg(r,e,A){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;A(fl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;A(fl[n]),e.queuedBits-=6}}function n0(r,e,A){const n=qy[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)A(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ug(r){const e=[],A=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{tb(c,n,A)};for(let c=0;c<r.length;c+=1)n0(r.charCodeAt(c),i,o);return e.join("")}function Zy(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function eb(r,e){for(let A=0;A<r.length;A+=1){let n=r.charCodeAt(A);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(A+1)-56320&65535|i)+65536,A+=1}Zy(n,e)}}function tb(r,e,A){if(e.utf8seq===0){if(r<=127){A(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&A(e.codepoint)}}function si(r){const e=[],A={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)n0(r.charCodeAt(i),A,n);return new Uint8Array(e)}function Ab(r){const e=[];return eb(r,A=>e.push(A)),new Uint8Array(e)}function as(r){const e=[],A={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>cg(i,A,n)),cg(null,A,n),e.join("")}function rb(r){return Math.round(Date.now()/1e3)+r}function nb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},s0=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function sb(r){const e={},A=new URL(r);if(A.hash&&A.hash[0]==="#")try{new URLSearchParams(A.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return A.searchParams.forEach((n,i)=>{e[i]=n}),e}const i0=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...A)=>Xr(async()=>{const{default:n}=await Promise.resolve().then(()=>di);return{default:n}},void 0).then(({default:n})=>n(...A)):e=fetch,(...A)=>e(...A)},ib=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ti=async(r,e,A)=>{await r.setItem(e,JSON.stringify(A))},Zn=async(r,e)=>{const A=await r.getItem(e);if(!A)return null;try{return JSON.parse(A)}catch{return A}},Cn=async(r,e)=>{await r.removeItem(e)};class _l{constructor(){this.promise=new _l.promiseConstructor((e,A)=>{this.resolve=e,this.reject=A})}}_l.promiseConstructor=Promise;function _u(r){const e=r.split(".");if(e.length!==3)throw new gd("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Wy.test(e[n]))throw new gd("JWT not in base64url format");return{header:JSON.parse(ug(e[0])),payload:JSON.parse(ug(e[1])),signature:si(e[2]),raw:{header:e[0],payload:e[1]}}}async function ab(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function ob(r,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await r(o);if(!e(o,null,c)){n(c);return}}catch(c){if(!e(o,c)){i(c);return}}})()})}function lb(r){return("0"+r.toString(16)).substr(-2)}function cb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=A.length;let i="";for(let o=0;o<56;o++)i+=A.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,lb).join("")}async function ub(r){const A=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",A),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function db(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const A=await ub(r);return btoa(A).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(r,e,A=!1){const n=cb();let i=n;A&&(i+="/PASSWORD_RECOVERY"),await ti(r,`${e}-code-verifier`,i);const o=await db(n);return[o,n===o?"plain":"s256"]}const fb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hb(r){const e=r.headers.get(hd);if(!e||!e.match(fb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mb(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function gb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gs(r){if(!pb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fu(){const r={};return new Proxy(r,{get:(e,A)=>{if(A==="__isUserNotAvailableProxy")return!0;if(typeof A=="symbol"){const n=A.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${A}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,A)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${A}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,A)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${A}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dg(r){return JSON.parse(JSON.stringify(r))}var wb=function(r,e){var A={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(A[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(A[n[i]]=r[n[i]]);return A};const As=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),xb=[502,503,504];async function fg(r){var e;if(!ib(r))throw new md(As(r),0);if(xb.includes(r.status))throw new md(As(r),r.status);let A;try{A=await r.json()}catch(o){throw new ss(As(o),o)}let n;const i=hb(r);if(i&&i.getTime()>=r0["2024-01-01"].timestamp&&typeof A=="object"&&A&&typeof A.code=="string"?n=A.code:typeof A=="object"&&A&&typeof A.error_code=="string"&&(n=A.error_code),n){if(n==="weak_password")throw new og(As(A),r.status,((e=A.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new En}else if(typeof A=="object"&&A&&typeof A.weak_password=="object"&&A.weak_password&&Array.isArray(A.weak_password.reasons)&&A.weak_password.reasons.length&&A.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new og(As(A),r.status,A.weak_password.reasons);throw new zy(As(A),r.status||500,n)}const Bb=(r,e,A,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),A))};async function Ft(r,e,A,n){var i;const o=Object.assign({},n?.headers);o[hd]||(o[hd]=r0["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await vb(r,e,A+d,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function vb(r,e,A,n,i,o){const c=Bb(e,n,i,o);let d;try{d=await r(A,Object.assign({},c))}catch(f){throw console.error(f),new md(As(f),0)}if(d.ok||await fg(d),n?.noResolveJson)return d;try{return await d.json()}catch(f){await fg(f)}}function yr(r){var e;let A=null;Cb(r)&&(A=Object.assign({},r),r.expires_at||(A.expires_at=rb(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:A,user:n},error:null}}function hg(r){const e=yr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((A,n)=>A&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Fn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function yb(r){return{data:r,error:null}}function bb(r){const{action_link:e,email_otp:A,hashed_token:n,redirect_to:i,verification_type:o}=r,c=wb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:A,hashed_token:n,redirect_to:i,verification_type:o},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function mg(r){return r}function Cb(r){return r.access_token&&r.refresh_token&&r.expires_in}const Su=["global","local","others"];var Eb=function(r,e){var A={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(A[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(A[n[i]]=r[n[i]]);return A};class Qb{constructor({url:e="",headers:A={},fetch:n}){this.url=e,this.headers=A,this.fetch=i0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,A=Su[0]){if(Su.indexOf(A)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Su.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${A}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,A={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:A.data},headers:this.headers,redirectTo:A.redirectTo,xform:Fn})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:A}=e,n=Eb(e,["options"]),i=Object.assign(Object.assign({},n),A);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bb,redirectTo:A?.redirectTo})}catch(A){if(yt(A))return{data:{properties:null,user:null},error:A};throw A}}async createUser(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fn})}catch(A){if(yt(A))return{data:{user:null},error:A};throw A}}async listUsers(e){var A,n,i,o,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(A=e?.page)===null||A===void 0?void 0:A.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:mg});if(g.error)throw g.error;const w=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(C=>{const b=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(C.split(";")[1].split("=")[1]);m[`${E}Page`]=b}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(yt(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Gs(e);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fn})}catch(A){if(yt(A))return{data:{user:null},error:A};throw A}}async updateUserById(e,A){Gs(e);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:A,headers:this.headers,xform:Fn})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,A=!1){Gs(e);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:A},xform:Fn})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Gs(e.userId);try{const{data:A,error:n}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:A,error:n}}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _deleteFactor(e){Gs(e.userId),Gs(e.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _listOAuthClients(e){var A,n,i,o,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Ft(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(A=e?.page)===null||A===void 0?void 0:A.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:mg});if(g.error)throw g.error;const w=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(C=>{const b=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(C.split(";")[1].split("=")[1]);m[`${E}Page`]=b}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(yt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:A=>({data:A,error:null})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _getOAuthClient(e){try{return await Ft(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:A=>({data:A,error:null})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _deleteOAuthClient(e){try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:A=>({data:A,error:null})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _regenerateOAuthClientSecret(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:A=>({data:A,error:null})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}}function gg(r={}){return{getItem:e=>r[e]||null,setItem:(e,A)=>{r[e]=A},removeItem:e=>{delete r[e]}}}const $s={debug:!!(globalThis&&s0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ub extends a0{}async function _b(r,e,A){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await A()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ub(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if($s.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await A()}}))}function Fb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function o0(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Sb(r){return parseInt(r,16)}function kb(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Nb(r){var e;const{chainId:A,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:f,resources:m,scheme:g,uri:w,version:v}=r;{if(!Number.isInteger(A))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${A}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=o0(r.address),C=g?`${g}://${n}`:n,b=r.statement?`${r.statement}
`:"",E=`${C} wants you to sign in with your Ethereum account:
${y}

${b}`;let _=`URI: ${w}
Version: ${v}
Chain ID: ${A}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),d&&(_+=`
Not Before: ${d.toISOString()}`),f&&(_+=`
Request ID: ${f}`),m){let S=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}_+=S}return`${E}
${_}`}class uA extends Error{constructor({message:e,code:A,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=A}}class hl extends uA{constructor(e,A){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:A,message:e}),this.name="WebAuthnUnknownError",this.originalError=A}}function Ib({error:r,options:e}){var A,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new uA({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((A=o.authenticatorSelection)===null||A===void 0?void 0:A.requireResidentKey)===!0)return new uA({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new uA({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new uA({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new uA({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new uA({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new uA({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new uA({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(c0(c)){if(o.rp.id!==c)return new uA({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new uA({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new uA({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new uA({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new uA({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function jb({error:r,options:e}){const{publicKey:A}=e;if(!A)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new uA({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new uA({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(c0(n)){if(A.rpId!==n)return new uA({message:`The RP ID "${A.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new uA({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new uA({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new uA({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var l0=function(r,e){var A={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(A[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(A[n[i]]=r[n[i]]);return A};class Tb{createNewAbortSignal(){if(this.controller){const A=new Error("Cancelling existing WebAuthn API call for new one");A.name="AbortError",this.controller.abort(A)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Lb=new Tb;function Hb(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:A,excludeCredentials:n}=r,i=l0(r,["challenge","user","excludeCredentials"]),o=si(e).buffer,c=Object.assign(Object.assign({},A),{id:si(A.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:o,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const m=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:si(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Db(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:A}=r,n=l0(r,["challenge","allowCredentials"]),i=si(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(A&&A.length>0){o.allowCredentials=new Array(A.length);for(let c=0;c<A.length;c++){const d=A[c];o.allowCredentials[c]=Object.assign(Object.assign({},d),{id:si(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function Pb(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const A=r;return{id:r.id,rawId:r.id,response:{attestationObject:as(new Uint8Array(r.response.attestationObject)),clientDataJSON:as(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=A.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Rb(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const A=r,n=r.getClientExtensionResults(),i=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:as(new Uint8Array(i.authenticatorData)),clientDataJSON:as(new Uint8Array(i.clientDataJSON)),signature:as(new Uint8Array(i.signature)),userHandle:i.userHandle?as(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=A.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c0(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function pg(){var r,e;return!!(er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ob(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:Ib({error:e,options:r})}}}async function Mb(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",e)}:{data:null,error:new hl("Empty credential response",e)}}catch(e){return{data:null,error:jb({error:e,options:r})}}}const Kb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Gb={userVerification:"preferred",hints:["security-key"]};function ml(...r){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),A=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of r)if(i)for(const o in i){const c=i[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(A(c))n[o]=c;else if(e(c)){const d=n[o];e(d)?n[o]=ml(d,c):n[o]=ml(c)}else n[o]=c}return n}function $b(r,e){return ml(Kb,r,e||{})}function Wb(r,e){return ml(Gb,r,e||{})}class Vb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:A,friendlyName:n,signal:i},o){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:A});if(!c)return{data:null,error:d};const f=i??Lb.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=$b(c.webauthn.credential_options.publicKey,o?.create),{data:g,error:w}=await Ob({publicKey:m,signal:f});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}case"request":{const m=Wb(c.webauthn.credential_options.publicKey,o?.request),{data:g,error:w}=await Mb(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}}}catch(c){return yt(c)?{data:null,error:c}:{data:null,error:new ss("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:A,webauthn:n}){return this.client.mfa.verify({factorId:A,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:A=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!A)return{data:null,error:new ha("rpId is required for WebAuthn authentication")};try{if(!pg())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:A,rpOrigins:n},signal:i},{request:o});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:A,rpOrigins:n,credential_response:f.credential_response}})}catch(c){return yt(c)?{data:null,error:c}:{data:null,error:new ss("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:A=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!A)return{data:null,error:new ha("rpId is required for WebAuthn registration")};try{if(!pg())return{data:null,error:new ss("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var w;return(w=g.data)===null||w===void 0?void 0:w.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:A,rpOrigins:n},signal:i},{create:o});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:A,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return yt(c)?{data:null,error:c}:{data:null,error:new ss("Unexpected error in register",c)}}}}Fb();const zb={url:Ky,storageKey:Gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wg(r,e,A){return await A()}const Ws={};class ma{get jwks(){var e,A;return(A=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&A!==void 0?A:{keys:[]}}set jwks(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,A;return(A=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&A!==void 0?A:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:e})}constructor(e){var A,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ma.nextInstanceID,ma.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},zb),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=i0(i.fetch),this.lock=i.lock||wg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:er()&&(!((A=globalThis?.navigator)===null||A===void 0)&&A.locks)?this.lock=_b:this.lock=wg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vb(this)},this.persistSession?(i.storage?this.storage=i.storage:s0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gg(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const A=sb(window.location.href);let n="none";if(this._isImplicitGrantCallback(A)?n="implicit":await this._isPKCECallback(A)&&(n="pkce"),er()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(A,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Yy(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(A){return yt(A)?{error:A}:{error:new ss("Unexpected error during initialization",A)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var A,n,i;try{const o=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(A=e?.options)===null||A===void 0?void 0:A.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:yr}),{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(yt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var A,n,i;try{let o;if("email"in e){const{email:g,password:w,options:v}=e;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await Ks(this.storage,this.storageKey)),o=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:w,data:(A=v?.data)!==null&&A!==void 0?A:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:C},xform:yr})}else if("phone"in e){const{phone:g,password:w,options:v}=e;o=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:yr})}else throw new So("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(o){if(yt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let A;if("email"in e){const{email:o,password:c,options:d}=e;A=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:hg})}else if("phone"in e){const{phone:o,password:c,options:d}=e;A=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:hg})}else throw new So("You must provide either an email or phone number and a password");const{data:n,error:i}=A;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ms}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(A){if(yt(A))return{data:{user:null,session:null},error:A};throw A}}async signInWithOAuth(e){var A,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(A=e.options)===null||A===void 0?void 0:A.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:A}=e;switch(A){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${A}"`)}}async signInWithEthereum(e){var A,n,i,o,c,d,f,m,g,w,v;let y,C;if("message"in e)y=e.message,C=e.signature;else{const{chain:b,wallet:E,statement:_,options:S}=e;let k;if(er())if(typeof E=="object")k=E;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")k=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const R=new URL((A=S?.url)!==null&&A!==void 0?A:window.location.href),I=await k.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=o0(I[0]);let P=(n=S?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const L=await k.request({method:"eth_chainId"});P=Sb(L)}const K={domain:R.host,address:j,statement:_,uri:R.href,version:"1",chainId:P,nonce:(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=S?.signInWithEthereum)===null||g===void 0?void 0:g.resources};y=Nb(K),C=await k.request({method:"personal_sign",params:[kb(y),j]})}try{const{data:b,error:E}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:C},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:yr});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ms}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(yt(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var A,n,i,o,c,d,f,m,g,w,v,y;let C,b;if("message"in e)C=e.message,b=e.signature;else{const{chain:E,wallet:_,statement:S,options:k}=e;let R;if(er())if(typeof _=="object")R=_;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))R=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const I=new URL((A=k?.url)!==null&&A!==void 0?A:window.location.href);if("signIn"in R&&R.signIn){const j=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),S?{statement:S}:null));let P;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")P=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)P=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)C=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),b=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${I.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(n=k?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=k?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((w=(g=k?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...k.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const j=await R.signMessage(new TextEncoder().encode(C),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=j}}try{const{data:E,error:_}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:as(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:yr});if(_)throw _;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Ms}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:_})}catch(E){if(yt(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const A=await Zn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(A??"").split("/");try{const{data:o,error:c}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yr});if(await Cn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(yt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:A,provider:n,token:i,access_token:o,nonce:c}=e,d=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:yr}),{data:f,error:m}=d;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ms}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(A){if(yt(A))return{data:{user:null,session:null},error:A};throw A}}async signInWithOtp(e){var A,n,i,o,c;try{if("email"in e){const{email:d,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ks(this.storage,this.storageKey));const{error:w}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(A=f?.data)!==null&&A!==void 0?A:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:d,options:f}=e,{data:m,error:g}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new So("You must provide either an email or phone number.")}catch(d){if(yt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var A,n;try{let i,o;"options"in e&&(i=(A=e.options)===null||A===void 0?void 0:A.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:yr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(i){if(yt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var A,n,i;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Ks(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(A=e.options)===null||A===void 0?void 0:A.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:yb})}catch(o){if(yt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:A},error:n}=e;if(n)throw n;if(!A)throw new En;const{error:i}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:A.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(yt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const A=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:c}=await Ft(this.fetch,"POST",A,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:c,error:d}=await Ft(this.fetch,"POST",A,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new So("You must provide either an email or phone number and a type")}catch(A){if(yt(A))return{data:{user:null,session:null},error:A};throw A}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async A=>A))}async _acquireLock(e,A){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await A()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=A();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const A=await this.__loadSession();return await e(A)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const A=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",A),A!==null&&(this._isValidSession(A)?e=A:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Qu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await Zn(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Fu()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,m,g)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,g))})}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fn}):await this._useSession(async A=>{var n,i,o;const{data:c,error:d}=A;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Fn})})}catch(A){if(yt(A))return Xy(A)&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:A};throw A}}async updateUser(e,A={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,A))}async _updateUser(e,A={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new En;const c=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Ks(this.storage,this.storageKey));const{data:m,error:g}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Fn});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(yt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new En;const A=Date.now()/1e3;let n=A,i=!0,o=null;const{payload:c}=_u(e.access_token);if(c.exp&&(n=c.exp,i=n<=A),i){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:n-A,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(A){if(yt(A))return{data:{session:null,user:null},error:A};throw A}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async A=>{var n;if(!e){const{data:c,error:d}=A;if(d)throw d;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new En;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(A){if(yt(A))return{data:{user:null,session:null},error:A};throw A}}async _getSessionFromURL(e,A){try{if(!er())throw new ko("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ko(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(A){case"implicit":if(this.flowType==="pkce")throw new ag("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ko("Not a valid implicit grant flow url.");break;default:}if(A==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ag("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:d,expires_at:f,token_type:m}=e;if(!o||!d||!c||!m)throw new ko("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(d);let v=g+w;f&&(v=parseInt(f));const y=v-g;y*1e3<=ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${w}s`);const C=v-w;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,v,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,v,g);const{data:b,error:E}=await this._getUser(o);if(E)throw E;const _={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:w,expires_at:v,refresh_token:c,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(yt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const A=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&A)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async A=>{var n;const{data:i,error:o}=A;if(o)return{error:o};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(Jy(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const A=nb(),n={id:A,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",A),this.stateChangeEmitters.delete(A)}};return this._debug("#onAuthStateChange()","registered callback with id",A),this.stateChangeEmitters.set(A,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(A)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async A=>{var n,i;try{const{data:{session:o},error:c}=A;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,A={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ks(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:A.captchaToken}},headers:this.headers,redirectTo:A.redirectTo})}catch(o){if(yt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:A,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=A.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(A){if(yt(A))return{data:null,error:A};throw A}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var A;try{const{data:n,error:i}=await this._useSession(async o=>{var c,d,f,m,g;const{data:w,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",y,{headers:this.headers,jwt:(g=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return er()&&!(!((A=e.options)===null||A===void 0)&&A.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(yt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async A=>{var n;try{const{error:i,data:{session:o}}=A;if(i)throw i;const{options:c,provider:d,token:f,access_token:m,nonce:g}=e,w=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:yr}),{data:v,error:y}=w;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ms}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(i){if(yt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async A=>{var n,i;const{data:o,error:c}=A;if(c)throw c;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _refreshAccessToken(e){const A=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(A,"begin");try{const n=Date.now();return await ob(async i=>(i>0&&await ab(200*Math.pow(2,i-1)),this._debug(A,"refreshing attempt",i),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yr})),(i,o)=>{const c=200*Math.pow(2,i);return o&&Uu(o)&&Date.now()+c-n<ei})}catch(n){if(this._debug(A,"error",n),yt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(A,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,A){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:A.redirectTo,scopes:A.scopes,queryParams:A.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",A,"url",n),er()&&!A.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,A;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zn(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await ti(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Fu()}else if(i&&!i.user&&!i.user){const c=await Zn(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Cn(this.storage,this.storageKey+"-user"),await ti(this.storage,this.storageKey,i)):i.user=Fu()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((A=i.expires_at)!==null&&A!==void 0?A:1/0)*1e3-Date.now()<Qu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Qu}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Uu(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var A,n;if(!e)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _l;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new En;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),yt(o)){const c={data:null,error:o};return Uu(o)||await this._removeSession(),(A=this.refreshingDeferred)===null||A===void 0||A.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,A,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",A,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:A});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,A)}catch(f){o.push(f)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const A=Object.assign({},e),n=A.user&&A.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&A.user&&await ti(this.userStorage,this.storageKey+"-user",{user:A.user});const i=Object.assign({},A);delete i.user;const o=dg(i);await ti(this.storage,this.storageKey,o)}else{const i=dg(A);await ti(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Cn(this.storage,this.storageKey),await Cn(this.storage,this.storageKey+"-code-verifier"),await Cn(this.storage,this.storageKey+"-user"),this.userStorage&&await Cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(A){console.error("removing visibilitychange callback failed",A)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ei);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async A=>{const{data:{session:n}}=A;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ei}ms, refresh threshold is ${fd} ticks`),i<=fd&&await this._callRefreshToken(n.refresh_token)})}catch(A){console.error("Auto refresh tick failed with error. This is likely a transient error.",A)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof a0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const A=`#_onVisibilityChanged(${e})`;this._debug(A,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(A,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,A,n){const i=[`provider=${encodeURIComponent(A)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await Ks(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async A=>{var n;const{data:i,error:o}=A;return o?{data:null,error:o}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _enroll(e){try{return await this._useSession(async A=>{var n,i;const{data:o,error:c}=A;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(A){if(yt(A))return{data:null,error:A};throw A}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async A=>{var n;const{data:i,error:o}=A;if(o)return{data:null,error:o};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Pb(e.webauthn.credential_response):Rb(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(A){if(yt(A))return{data:null,error:A};throw A}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async A=>{var n;const{data:i,error:o}=A;if(o)return{data:null,error:o};const c=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Hb(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Db(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(A){if(yt(A))return{data:null,error:A};throw A}})}async _challengeAndVerify(e){const{data:A,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:A.id,code:e.code})}async _listFactors(){var e;const{data:{user:A},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=A?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var A,n;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_u(i.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((n=(A=i.user.factors)===null||A===void 0?void 0:A.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,A={keys:[]}){let n=A.keys.find(d=>d.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===e),n&&this.jwks_cached_at+Vy>i)return n;const{data:o,error:c}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(d=>d.kid===e),!n)?null:n}async getClaims(e,A={}){try{let n=e;if(!n){const{data:y,error:C}=await this.getSession();if(C||!y.session)return{data:null,error:C};n=y.session.access_token}const{header:i,payload:o,signature:c,raw:{header:d,payload:f}}=_u(n);A?.allowExpired||mb(o.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,A?.keys?{keys:A.keys}:A?.jwks);if(!m){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:i,signature:c},error:null}}const g=gb(i.alg),w=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,c,Ab(`${d}.${f}`)))throw new gd("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}}}ma.nextInstanceID=0;const Jb=ma;class Xb extends Jb{constructor(e){super(e)}}var Yb=function(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,e||[])).next())})};class qb{constructor(e,A,n){var i,o,c;this.supabaseUrl=e,this.supabaseKey=A;const d=My(e);if(!A)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Ny,realtime:jy,auth:Object.assign(Object.assign({},Iy),{storageKey:f}),global:ky},g=Oy(n??{},m);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(w,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=Dy(A,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new zv(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new _y(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,A={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,A,n)}channel(e,A={config:{}}){return this.realtime.channel(e,A)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Yb(this,void 0,void 0,function*(){var e,A;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(A=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&A!==void 0?A:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:A,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:c,flowType:d,lock:f,debug:m},g,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xb({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:c,autoRefreshToken:e,persistSession:A,detectSessionInUrl:n,storage:i,userStorage:o,flowType:d,lock:f,debug:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new uy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((A,n)=>{this._handleTokenChanged(A,"CLIENT",n?.access_token)})}_handleTokenChanged(e,A,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),A=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zb=(r,e,A)=>new qb(r,e,A);function eC(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tC="https://gyjagrtwrhctmgkootjj.supabase.co",AC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd5amFncnR3cmhjdG1na29vdGpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3MzM2OTIsImV4cCI6MjA3NDMwOTY5Mn0.S6TrCrZWkISC7g14QmVriEQSBawLwxpcGYQKcNqpazA",J=Zb(tC,AC,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});async function u0(r){let e=null;try{e=(await Xr(()=>import("./index-7D4M2kxi.js").then(o=>o.i),[])).default}catch{e=globalThis?.despia||(typeof window<"u"?window?.despia:null)}const A=globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null);if(!(!!e||!!A))return console.warn("[Push] Despia not available - not in native app?"),{ok:!1,reason:"api-not-available"};try{if(e&&typeof e=="function")try{const f=e("checkNativePushPermissions://",["nativePushEnabled"]);f&&typeof f=="object"&&"nativePushEnabled"in f&&(f.nativePushEnabled||console.warn("[Push] Push notifications not enabled in OS settings"))}catch{console.log("[Push] Could not check permission status, continuing...")}console.log("[Push] Waiting for OneSignal Player ID...");let i=null;const o=10,c=500;for(let f=0;f<o;f++){const m=globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null);if(m&&typeof m=="string"&&m.trim().length>0){i=m.trim();break}if(e){if(e.onesignalplayerid&&typeof e.onesignalplayerid=="string"&&e.onesignalplayerid.trim().length>0){i=e.onesignalplayerid.trim();break}else if(e.oneSignalPlayerId&&typeof e.oneSignalPlayerId=="string"&&e.oneSignalPlayerId.trim().length>0){i=e.oneSignalPlayerId.trim();break}}f<o-1&&await new Promise(g=>setTimeout(g,c))}if(!i||i.length===0)return console.warn("[Push] Player ID not available after polling",o,"times"),{ok:!1,reason:"no-player-id"};if(console.log(`[Push]  Got Player ID: ${i.slice(0,8)}`),!r?.access_token)return console.warn("[Push] No session token available"),{ok:!1,reason:"no-session"};const d=await fetch("/.netlify/functions/registerPlayer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({playerId:i,platform:"ios"})});if(!d.ok){const f=await d.json().catch(()=>({}));return console.error("[Push] Failed to register device:",f),{ok:!1,reason:"unknown"}}return console.log("[Push] Successfully registered device"),{ok:!0,playerId:i}}catch(i){return console.error("[Push] Error in ensurePushSubscribed:",i),{ok:!1,reason:"unknown"}}}const rC=Object.freeze(Object.defineProperty({__proto__:null,ensurePushSubscribed:u0},Symbol.toStringTag,{value:"Module"})),d0=x.createContext({user:null,session:null,loading:!0,signOut:async()=>{},showWelcome:!1,dismissWelcome:()=>{}});function nC({children:r}){const[e,A]=x.useState(null),[n,i]=x.useState(null),[o,c]=x.useState(!0),[d,f]=x.useState(!1),[m,g]=x.useState(!1);x.useEffect(()=>{let y=!0;J.auth.getSession().then(({data:b})=>{y&&(A(b.session??null),i(b.session?.user??null),c(!1))});const{data:C}=J.auth.onAuthStateChange((b,E)=>{if(A(E),i(E?.user??null),c(!1),b==="SIGNED_IN"&&E?.user&&!m){const _=new URLSearchParams(window.location.search),S=new URLSearchParams(window.location.hash.substring(1));(_.get("type")==="signup"||_.get("confirmation_token")||S.get("type")==="signup"||S.get("access_token")||window.location.search.includes("confirmation")||window.location.hash.includes("confirmation"))&&E.user.email_confirmed_at&&(f(!0),g(!0),window.history.replaceState({},document.title,window.location.pathname))}});return()=>{y=!1,C.subscription.unsubscribe()}},[]),x.useEffect(()=>{if(!n||!e)return;const y=n,C=e;let b=!1,E=null;async function _(R=0){if(b)return console.log("[Push] Registration cancelled"),!1;try{console.log(`[Push] Attempting auto-registration (attempt ${R+1}/15) for user ${y.id}`);const I=await u0(C);if(I.ok&&I.playerId){const j=`totl:last_pid:${y.id}`,P=localStorage.getItem(j);return localStorage.setItem(j,I.playerId),P!==I.playerId?console.log("[Push]  Auto-registered Player ID:",I.playerId.slice(0,8)+""):console.log("[Push]  Player ID already registered:",I.playerId.slice(0,8)+""),!0}I.reason==="no-player-id"?(console.log(`[Push] Player ID not ready yet, will retry in 2s (attempt ${R+1}/15)`),R<14&&!b?setTimeout(()=>_(R+1),2e3):console.warn("[Push] Failed to get Player ID after 15 attempts. OneSignal may not be initialized.")):I.reason==="permission-denied"?(console.warn("[Push] Permission denied - user needs to enable notifications in OS settings"),R<4&&!b&&setTimeout(()=>_(R+1),5e3)):I.reason==="api-not-available"?console.log("[Push] Despia API not available - not in native app, skipping"):(console.warn(`[Push] Registration failed: ${I.reason}`),R<4&&!b&&setTimeout(()=>_(R+1),3e3))}catch(I){console.error("[Push] Registration error:",I),R<4&&!b&&setTimeout(()=>_(R+1),3e3)}return!1}const S=setTimeout(()=>{_()},500),k=()=>{!document.hidden&&n&&e&&!b&&(console.log("[Push] App became visible, re-checking push subscription..."),setTimeout(()=>_(0),1e3))};return E=setInterval(()=>{!b&&n&&e&&(console.log("[Push] Periodic re-registration check..."),_(0))},300*1e3),document.addEventListener("visibilitychange",k),()=>{b=!0,clearTimeout(S),E&&clearInterval(E),document.removeEventListener("visibilitychange",k)}},[n?.id,e?.access_token]);async function w(){await J.auth.signOut()}function v(){f(!1),g(!0)}return a.jsx(d0.Provider,{value:{user:n,session:e,loading:o,signOut:w,showWelcome:d,dismissWelcome:v},children:r})}const tr=()=>x.useContext(d0);function sC(r){const e=["th","st","nd","rd"],A=r%100;return r+(e[(A-20)%10]||e[A]||e[0])}function xg(r){const e=(r||"?").trim().split(/\s+/);return e.length?e.length===1?e[0].slice(0,1).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase():"?"}function iC(r){return r.result==="H"||r.result==="D"||r.result==="A"?r.result:typeof r.home_goals=="number"&&typeof r.away_goals=="number"?r.home_goals>r.away_goals?"H":r.home_goals<r.away_goals?"A":"D":null}const aC=120*1e3;let VA=null;function oC(){const{user:r}=tr(),[e,A]=x.useState([]),[n,i]=x.useState(!0),[o,c]=x.useState(!0),[d,f]=x.useState(!1),[m,g]=x.useState(""),[w,v]=x.useState(""),[y,C]=x.useState(""),[b,E]=x.useState({}),[_,S]=x.useState({}),[k,R]=x.useState({});async function I(){i(!0),C("");try{if(!r?.id){A([]),i(!1);return}const{data:K,error:L}=await J.from("league_members").select("league_id").eq("user_id",r.id);if(L)throw L;const we=(K??[]).map(Ae=>Ae.league_id);if(!we.length){A([]),i(!1);return}let X=[];const{data:re,error:le}=await J.from("leagues").select("id,name,code,created_at,avatar,start_gw").in("id",we).order("created_at",{ascending:!0});if(le){console.error("Error fetching leagues with avatar:",le);const{data:Ae,error:Ee}=await J.from("leagues").select("id,name,code,created_at").in("id",we).order("created_at",{ascending:!0});if(Ee)throw Ee;X=Ae??[]}else X=re??[];const H=X.filter(Ae=>!Ae.avatar||Ae.avatar===null||Ae.avatar==="");if(H.length>0&&(H.forEach(Ae=>{Ae.avatar=il(Ae.id)}),Promise.all(H.map(Ae=>{const Ee=il(Ae.id);return Promise.resolve(J.from("leagues").update({avatar:Ee}).eq("id",Ae.id).then(()=>console.log(`Assigned avatar ${Ee} to league ${Ae.name}`))).catch($e=>console.warn(`Failed to assign avatar to league ${Ae.id}:`,$e))})).catch(()=>{})),!X.length){A([]),i(!1);return}const{data:oe,error:Y}=await J.from("league_members").select("league_id,user_id").in("league_id",X.map(Ae=>Ae.id));if(Y)throw Y;const D=new Map;(oe??[]).forEach(Ae=>{const Ee=D.get(Ae.league_id)??[];Ee.push(Ae.user_id),D.set(Ae.league_id,Ee)});const{data:Q}=await J.from("fixtures").select("gw").order("gw",{ascending:!1}),N=Q??[],G=N.length?Math.max(...N.map(Ae=>Ae.gw)):1,U={},M=Array.from(new Set(Array.from(D.values()).flat()));if(M.length>0){const{data:Ae}=await J.from("gw_submissions").select("user_id").eq("gw",G).in("user_id",M),Ee=new Set((Ae??[]).map($e=>$e.user_id));for(const $e of X){const te=D.get($e.id)??[],ce=te.length,Se=te.filter(ye=>Ee.has(ye)).length;U[$e.id]={allSubmitted:Se===ce&&ce>0,submittedCount:Se,totalCount:ce}}}else for(const Ae of X)U[Ae.id]={allSubmitted:!1,submittedCount:0,totalCount:0};E(U);const W={};try{const{data:Ae}=await J.from("league_message_reads").select("league_id,last_read_at").eq("user_id",r.id),Ee=new Map;(Ae??[]).forEach(te=>Ee.set(te.league_id,te.last_read_at));const $e=X.map(te=>te.id);if($e.length>0){const te=new Map;$e.forEach(We=>{te.set(We,Ee.get(We)??"1970-01-01T00:00:00Z")});const ce=Math.min(...Array.from(te.values()).map(We=>new Date(We).getTime())),Se=new Date(ce).toISOString(),{data:ye}=await J.from("league_messages").select("id,league_id,created_at").in("league_id",$e).gte("created_at",Se);$e.forEach(We=>{const mt=te.get(We),It=(ye??[]).filter($t=>$t.league_id===We&&new Date($t.created_at)>new Date(mt)).length;W[We]=It})}}catch(Ae){console.warn("Failed to fetch unread counts:",Ae)}R(W);const ne=X.map(Ae=>{const Ee=D.get(Ae.id)??[];return{id:Ae.id,name:Ae.name,code:Ae.code,memberCount:Ee.length,avatar:Ae.avatar,created_at:Ae.created_at,start_gw:Ae.start_gw}});ne.sort((Ae,Ee)=>{const $e=W[Ae.id]??0,te=W[Ee.id]??0;return $e>0&&te===0?-1:$e===0&&te>0?1:0}),A(ne),r?.id&&(VA={rows:ne,leagueSubmissions:U,leagueData:{},unreadByLeague:W,lastFetched:Date.now(),userId:r.id})}catch(K){C(K?.message??"Failed to load leagues.")}finally{i(!1)}}x.useEffect(()=>{if(!r?.id){i(!1);return}if(VA&&VA.userId===r.id&&VA.rows.length>0){const K=Date.now()-VA.lastFetched;if(K<aC){if(A(VA.rows),E(VA.leagueSubmissions),S(VA.leagueData),R(VA.unreadByLeague),i(!1),c(!1),K<30*1e3)return;I();return}}I()},[r?.id]),x.useEffect(()=>{if(!e.length||!r?.id){c(!1);return}c(!0);let K=!0;return(async()=>{const[L,we]=await Promise.all([J.from("meta").select("current_gw").eq("id",1).maybeSingle(),J.from("gw_results").select("gw,fixture_index,result")]),X=L.data?.current_gw??1,{data:re}=we,le=re??[],H=new Map;le.forEach(ce=>{const Se=iC(ce);Se&&H.set(`${ce.gw}:${ce.fixture_index}`,Se)});const oe={},Y=e.map(ce=>ce.id),{data:D}=await J.from("league_members").select("league_id,user_id, users(id, name)").in("league_id",Y),Q=new Map;(D??[]).forEach(ce=>{if(!ce.users?.name)return;const Se=Q.get(ce.league_id)??[];Se.push({id:ce.user_id,name:ce.users.name}),Q.set(ce.league_id,Se)});const N=[...new Set(Array.from(H.keys()).map(ce=>parseInt(ce.split(":")[0],10)))].sort((ce,Se)=>ce-Se),{data:G}=await J.from("leagues").select("id,name,created_at,start_gw").in("id",Y),U=new Map;(G??[]).forEach(ce=>{U.set(ce.id,ce)});const{data:M}=await J.from("fixtures").select("gw,kickoff_time").in("gw",N).order("gw",{ascending:!0}).order("kickoff_time",{ascending:!0}),W=new Map;(M??[]).forEach(ce=>{const Se=W.get(ce.gw)??[];Se.push(ce.kickoff_time),W.set(ce.gw,Se)});const ne=new Set,Ae=new Map;for(const ce of e){const Se=U.get(ce.id),ye={id:ce.id,name:Se?.name??ce.name,created_at:(Se?.created_at??ce.created_at)||null,start_gw:Se?.start_gw??ce.start_gw};let We=X;const mt={"Prem Predictions":0,"FC Football":0,"Easy League":0,"API Test":999,"The Bird league":7,gregVjofVcarl:8,"Let Down":8},It=ye.name?mt[ye.name]:void 0;if(typeof It=="number")We=It;else if(ye.start_gw!==null&&ye.start_gw!==void 0)We=ye.start_gw;else if(ye.created_at&&N.length>0){const de=new Date(ye.created_at),Ve=75;for(const Oe of N){const xe=W.get(Oe);if(xe&&xe.length>0){const ct=new Date(xe[0]),st=new Date(ct.getTime()-Ve*60*1e3);if(de<=st){We=Oe;break}}}We===X&&N.length>0&&(We=Math.max(...N)+1)}Ae.set(ce.id,We),N.filter(de=>de>=We).forEach(de=>ne.add(de))}const Ee=Array.from(new Set(Array.from(Q.values()).flat().map(ce=>ce.id))),{data:$e}=Ee.length>0?await J.from("gw_submissions").select("user_id").eq("gw",X).in("user_id",Ee):{data:[]},te=new Set(($e??[]).map(ce=>ce.user_id));await Promise.all(e.map(async ce=>{try{const Se=(Q.get(ce.id)??[]).filter(ze=>ze.name!=="Unknown");if(U.get(ce.id)?.name==="API Test"){const ze=Se.sort((ot,ge)=>ot.name.localeCompare(ge.name)).map(ot=>ot.id);oe[ce.id]={id:ce.id,members:Se.sort((ot,ge)=>ot.name.localeCompare(ge.name)),userPosition:ze.indexOf(r.id)+1||null,positionChange:null,sortedMemberIds:ze,latestGwWinners:new Set};return}if(Se.length===0){oe[ce.id]={id:ce.id,members:[],userPosition:null,positionChange:null,sortedMemberIds:[],latestGwWinners:new Set};return}if(H.size===0){const ze=Se.sort((ot,ge)=>ot.name.localeCompare(ge.name)).map(ot=>ot.id);oe[ce.id]={id:ce.id,members:Se.sort((ot,ge)=>ot.name.localeCompare(ge.name)),userPosition:null,positionChange:null,sortedMemberIds:ze,latestGwWinners:new Set};return}const We=Ae.get(ce.id)??X,mt=N.filter(ze=>ze>=We);if(mt.length===0){const ze=Se.sort((ot,ge)=>ot.name.localeCompare(ge.name)).map(ot=>ot.id);oe[ce.id]={id:ce.id,members:Se.sort((ot,ge)=>ot.name.localeCompare(ge.name)),userPosition:null,positionChange:null,sortedMemberIds:ze,latestGwWinners:new Set};return}const It=Se.map(ze=>ze.id),{data:$t}=await J.from("picks").select("user_id,gw,fixture_index,pick").in("user_id",It).in("gw",mt),de=$t??[],Ve=new Map,Oe=new Map;mt.forEach(ze=>{const ot=new Map;Se.forEach(ge=>ot.set(ge.id,{user_id:ge.id,score:0,unicorns:0})),Ve.set(ze,ot)}),mt.forEach(ze=>{Array.from(H.entries()).filter(([ge])=>parseInt(ge.split(":")[0],10)===ze).map(([ge,ke])=>({idx:parseInt(ge.split(":")[1],10),out:ke})).forEach(({idx:ge,out:ke})=>{const he=de.filter(ie=>ie.gw===ze&&ie.fixture_index===ge),Ue=he.filter(ie=>ie.pick===ke).map(ie=>ie.user_id),Ne=Ve.get(ze);if(he.forEach(ie=>{if(ie.pick===ke){const ue=Ne.get(ie.user_id);ue.score+=1}}),Ue.length===1&&Se.length>=3){const ie=Ue[0],ue=Ne.get(ie);ue.unicorns+=1}})});const xe=new Map,ct=new Map,st=new Map;Se.forEach(ze=>{xe.set(ze.id,0),ct.set(ze.id,0),st.set(ze.id,0)}),mt.forEach(ze=>{const ot=Array.from(Ve.get(ze).values());if(ot.forEach(he=>{ct.set(he.user_id,(ct.get(he.user_id)??0)+he.score),st.set(he.user_id,(st.get(he.user_id)??0)+he.unicorns)}),ot.sort((he,Ue)=>Ue.score-he.score||Ue.unicorns-he.unicorns),!ot.length)return;const ge=ot[0],ke=ot.filter(he=>he.score===ge.score&&he.unicorns===ge.unicorns);Oe.set(ze,new Set(ke.map(he=>he.user_id))),ke.length===1?xe.set(ge.user_id,(xe.get(ge.user_id)??0)+3):ke.forEach(he=>{xe.set(he.user_id,(xe.get(he.user_id)??0)+1)})});const dt=[...Se.map(ze=>({user_id:ze.id,name:ze.name,mltPts:xe.get(ze.id)??0,unicorns:st.get(ze.id)??0,ocp:ct.get(ze.id)??0}))].sort((ze,ot)=>ot.mltPts-ze.mltPts||ot.unicorns-ze.unicorns||ot.ocp-ze.ocp||ze.name.localeCompare(ot.name));let De=dt.findIndex(ze=>ze.user_id===r.id);if(De===-1){const ze=Se.findIndex(ot=>ot.id===r.id);ze!==-1&&(dt.push({user_id:r.id,name:Se[ze].name,mltPts:0,unicorns:0,ocp:0}),dt.sort((ot,ge)=>ge.mltPts-ot.mltPts||ge.unicorns-ot.unicorns||ge.ocp-ot.ocp||ot.name.localeCompare(ge.name)),De=dt.findIndex(ot=>ot.user_id===r.id))}const jt=dt.map(ze=>ze.user_id);console.log(`[${ce.name}] Position calculation:`,{userId:r.id,userIndex:De,userPosition:De!==-1?De+1:null,rowsCount:dt.length,rows:dt.map((ze,ot)=>({index:ot+1,name:ze.name,userId:ze.user_id,mltPts:ze.mltPts,unicorns:ze.unicorns,ocp:ze.ocp})),sortedMemberIds:jt,memberIds:Se.map(ze=>ze.id),userInMembers:Se.some(ze=>ze.id===r.id),userInRows:dt.some(ze=>ze.user_id===r.id),leagueStartGw:We,relevantGws:mt,picksCount:de.length,currentGw:X});const Wt=De!==-1?De+1:null,wt=mt.length?Math.max(...mt):null,Kt=wt!==null?Oe.get(wt)??new Set:new Set,Pt=new Set;It.forEach(ze=>{te.has(ze)&&Pt.add(ze)});const Yt={id:ce.id,members:Se.sort((ze,ot)=>ze.name.localeCompare(ot.name)),userPosition:Wt,positionChange:null,submittedMembers:Pt,sortedMemberIds:[...jt],latestGwWinners:new Set(Kt)};oe[ce.id]=Yt}catch(Se){console.error(`Error loading data for league ${ce.id} (${ce.name}):`,Se),console.error("Error details:",Se instanceof Error?Se.message:Se),oe[ce.id]={id:ce.id,members:[],userPosition:null,positionChange:null,sortedMemberIds:[],latestGwWinners:new Set}}})),K&&(S(oe),c(!1),r?.id&&(VA&&VA.userId===r.id?(VA.leagueData=oe,VA.lastFetched=Date.now()):VA={rows:e,leagueSubmissions:{},leagueData:oe,unreadByLeague:{},lastFetched:Date.now(),userId:r.id}))})(),()=>{K=!1}},[e,r?.id]);async function j(){if(!(!w.trim()||!r?.id)){f(!0),C("");try{const K=w.trim(),L=await lC(),{data:we,error:X}=await J.from("leagues").insert({name:K,code:L}).select("id,code").single();if(X)throw X;const re=il(we.id);await J.from("leagues").update({avatar:re}).eq("id",we.id),await J.from("league_members").insert({league_id:we.id,user_id:r.id}),v(""),await I()}catch(K){C(K?.message??"Failed to create league.")}finally{f(!1)}}}async function P(){const K=m.trim().toUpperCase();if(!(!K||!r?.id)){C("");try{const{data:L,error:we}=await J.from("leagues").select("id").eq("code",K).maybeSingle();if(we)throw we;if(!L){C("League code not found.");return}const{data:X,error:re}=await J.from("league_members").select("user_id").eq("league_id",L.id);if(re)throw re;if(X&&X.length>=8){C("League is full (max 8 members).");return}await J.from("league_members").upsert({league_id:L.id,user_id:r.id},{onConflict:"league_id,user_id"}),g(""),await I()}catch(L){C(L?.message??"Failed to join league.")}}}return a.jsx("div",{className:"min-h-screen bg-slate-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 pb-16",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900",children:"Mini Leagues"}),e.length>4&&a.jsxs("button",{onClick:()=>{const K=document.getElementById("create-join-section");K&&K.scrollIntoView({behavior:"smooth",block:"start"})},className:"text-[#1C8376] font-semibold text-sm hover:text-[#1C8376] no-underline flex items-center gap-1",children:["Create League",a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),a.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600 w-full",children:"Create or join a private league and battle it out with your friends."}),y&&a.jsx("div",{className:"mt-4 rounded border border-rose-200 bg-rose-50 text-rose-700 px-3 py-2 text-sm",children:y}),a.jsx("div",{className:"mt-6",children:n||o?a.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(K=>a.jsx("div",{className:"rounded-xl border bg-white overflow-hidden shadow-sm w-full animate-pulse",style:{borderRadius:"12px"},children:a.jsx("div",{className:"p-6 bg-white relative",children:a.jsxs("div",{className:"flex items-start gap-3 relative",children:[a.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-full bg-slate-200"}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[a.jsx("div",{className:"h-5 w-32 bg-slate-200 rounded"}),a.jsx("div",{className:"h-3 w-20 bg-slate-200 rounded"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-4 w-6 bg-slate-200 rounded"}),a.jsx("div",{className:"h-4 w-4 bg-slate-200 rounded"}),a.jsx("div",{className:"h-4 w-8 bg-slate-200 rounded"})]})]}),a.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-1",children:a.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200"})})]})})},K))}):e.length===0?a.jsx("div",{className:"px-4 py-4 text-sm",children:"No leagues yet."}):a.jsx("div",{className:"space-y-3",children:e.map(K=>{const L=_[K.id],we=L?.members||[],X=L?.userPosition,re=k?.[K.id]??0,le=re>0?Math.min(re,99):0;return a.jsx("div",{className:"rounded-xl border bg-white overflow-hidden shadow-sm w-full",style:{borderRadius:"12px"},children:a.jsxs(_A,{to:`/league/${K.code}`,className:"block p-6 !bg-white no-underline hover:text-inherit relative z-20",children:[a.jsxs("div",{className:"flex items-start gap-3 relative",children:[a.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-full flex items-center justify-center overflow-hidden bg-slate-100",children:a.jsx("img",{src:Kp(K.id,96),alt:`${K.name} avatar`,className:"w-full h-full object-cover",onError:H=>{const oe=H.target,Y=Gp(K.id,96);if(oe.src!==Y)oe.src=Y;else{oe.style.display="none";const D=oe.parentElement;D&&!D.querySelector("svg")&&(D.innerHTML=`
                                  <svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                  </svg>
                                `)}}})}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[a.jsx("div",{className:"text-base font-semibold text-slate-900 truncate",children:K.name}),b[K.id]&&b[K.id].allSubmitted&&a.jsx("span",{className:"text-xs font-normal text-[#1C8376] whitespace-nowrap",children:"All Submitted"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("svg",{className:"w-4 h-4 text-slate-500",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("g",{clipPath:"url(#clip0_4045_135263)",children:[a.jsx("path",{d:"M14.0001 14V13.7C14.0001 13.0489 14.0001 12.7234 13.925 12.4571C13.7361 11.7874 13.2127 11.264 12.543 11.0751C12.2767 11 11.9512 11 11.3001 11H8.36675C7.71566 11 7.39011 11 7.12387 11.0751C6.45414 11.264 5.93072 11.7874 5.74184 12.4571C5.66675 12.7234 5.66675 13.0489 5.66675 13.7V14",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M2 11.6667V10.6C2 10.0422 2 9.76328 2.05526 9.53311C2.23083 8.80181 2.80181 8.23083 3.53311 8.05526C3.76328 8 4.04219 8 4.6 8H4.66667",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12.3334 6.33333C12.3334 7.622 11.2887 8.66667 10.0001 8.66667C8.71142 8.66667 7.66675 7.622 7.66675 6.33333C7.66675 5.04467 8.71142 4 10.0001 4C11.2887 4 12.3334 5.04467 12.3334 6.33333Z",stroke:"currentColor",strokeWidth:"1.33333"}),a.jsx("path",{d:"M7.33325 2.92025C6.94237 2.36557 6.27397 2 5.51507 2C4.31009 2 3.33325 2.92165 3.33325 4.05857C3.33325 4.95488 3.94038 5.7174 4.7878 6",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round"})]}),a.jsx("defs",{children:a.jsx("clipPath",{id:"clip0_4045_135263",children:a.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:we.length})]}),X!=null?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-4 h-4 text-[#1C8376]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:sC(X)}),L?.positionChange==="up"&&a.jsx("span",{className:"text-green-600 text-xs",children:""}),L?.positionChange==="down"&&a.jsx("span",{className:"text-red-600 text-xs",children:""}),L?.positionChange==="same"&&a.jsx("span",{className:"text-slate-400 text-xs",children:""})]}):a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-4 h-4 text-[#1C8376]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),a.jsx("span",{className:"text-sm font-semibold text-slate-400",children:""})]})]}),a.jsxs("div",{className:"flex items-center overflow-x-hidden overflow-y-visible mt-1 py-0.5",children:[(()=>{if(o)return null;const H=_[K.id];if(!H)return null;const oe=H.members||[];if(oe.length===0)return null;const Y=H?.sortedMemberIds;if(!Y||Y.length===0){const G=[...oe].sort((W,ne)=>W.name.localeCompare(ne.name)),U=H?.submittedMembers instanceof Set?H.submittedMembers:new Set(H?.submittedMembers??[]),M=H?.latestGwWinners instanceof Set?H.latestGwWinners:new Set(H?.latestGwWinners??[]);return G.slice(0,8).map((W,ne)=>{const Ae=U.has(W.id),Ee=M.has(W.id);let $e="chip-container rounded-full flex items-center justify-center text-[10px] font-medium flex-shrink-0 w-6 h-6";return Ee?$e+=" bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white shadow-xl shadow-yellow-400/40 font-semibold relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]":Ae?$e+=" chip-green":$e+=" chip-grey",ne>0&&($e+=" chip-overlap"),a.jsx("div",{className:$e,title:W.name,children:xg(W.name)},W.id)})}const D=Y.map(G=>oe.find(U=>U.id===G)).filter(G=>G!==void 0),Q=H?.submittedMembers instanceof Set?H.submittedMembers:new Set(H?.submittedMembers??[]),N=H?.latestGwWinners instanceof Set?H.latestGwWinners:new Set(H?.latestGwWinners??[]);return D.slice(0,8).map((G,U)=>{const M=Q.has(G.id),W=N.has(G.id);let ne="chip-container rounded-full flex items-center justify-center text-[10px] font-medium flex-shrink-0 w-6 h-6";return W?ne+=" bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white shadow-xl shadow-yellow-400/40 font-semibold relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]":M?ne+=" chip-green":ne+=" chip-grey",U>0&&(ne+=" chip-overlap"),a.jsx("div",{className:ne,title:G.name,children:xg(G.name)},G.id)})})(),(()=>{const H=_[K.id];if(!H)return null;const Y=(H?.sortedMemberIds||H?.members?.map(D=>D.id)||[]).length;return Y>8&&a.jsxs("div",{className:`chip-container chip-grey rounded-full flex items-center justify-center text-[10px] font-medium flex-shrink-0 ${Y>1?"chip-overlap":""}`,style:{width:"24px",height:"24px"},children:["+",Y-8]})})()]})]})]}),a.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 z-30",children:[le>0&&a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-[#1C8376] text-white text-xs font-bold",children:le}),a.jsx("svg",{className:"w-5 h-5 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},K.id)})})}),a.jsx("div",{id:"create-join-section",className:"mt-10 mb-3 text-xl font-extrabold text-slate-900",children:"Create or Join"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border rounded-2xl p-4 bg-white",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Create a league"}),a.jsx("input",{className:"border rounded px-3 py-2 w-full bg-white",placeholder:"League name",value:w,onChange:K=>v(K.target.value)}),a.jsx("button",{className:"mt-3 px-3 py-2 rounded bg-slate-900 text-white disabled:opacity-50",onClick:j,disabled:d||!w.trim(),children:d?"Creating":"Create"})]}),a.jsxs("div",{className:"border rounded-2xl p-4 bg-white",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Join with code"}),a.jsx("input",{className:"border rounded px-3 py-2 w-full uppercase tracking-widest bg-white",placeholder:"ABCDE",value:m,onChange:K=>g(K.target.value)}),a.jsx("button",{className:"mt-3 px-3 py-2 rounded border",onClick:P,children:"Join"})]})]})]})})}async function lC(){const r="ABCDEFGHJKLMPQRSTVWXYZ23456789";for(let e=0;e<6;e++){let A="";for(let i=0;i<5;i++)A+=r[Math.floor(Math.random()*r.length)];const{data:n}=await J.from("leagues").select("id").eq("code",A).maybeSingle();if(!n)return A}return Math.random().toString(36).slice(2,7).toUpperCase()}const cC=75,f0={"Prem Predictions":0,"FC Football":0,"Easy League":0,"API Test":999,"The Bird league":7,gregVjofVcarl:8,"Let Down":8};function h0(r){if(r)return f0[r]}async function uC(r){const e=typeof r.name!="string",A=typeof r.created_at!="string",n=typeof r.start_gw>"u";if(!e&&!A&&!n)return r;const{data:i,error:o}=await J.from("leagues").select("name, start_gw, created_at").eq("id",r.id).maybeSingle();if(o&&o?.code==="42703"){const{data:c,error:d}=await J.from("leagues").select("name, created_at").eq("id",r.id).maybeSingle();if(!d&&c)return{...r,name:e?c.name:r.name,start_gw:r.start_gw,created_at:A?c.created_at:r.created_at}}return o||!i?r:{...r,name:e?i.name:r.name,start_gw:n?i.start_gw:r.start_gw,created_at:A?i.created_at:r.created_at}}async function dC(r,e){if(!r?.id)return e;const A=await uC(r),n=h0(A.name??void 0);if(typeof n=="number")return n;if(A.start_gw!==null&&A.start_gw!==void 0)return A.start_gw;if(A.created_at&&e){const i=new Date(A.created_at),{data:o}=await J.from("gw_results").select("gw").order("gw",{ascending:!0}),c=o?[...new Set(o.map(d=>d.gw))]:[];for(const d of c){const{data:f}=await J.from("fixtures").select("kickoff_time").eq("gw",d).order("kickoff_time",{ascending:!0}).limit(1).maybeSingle();if(f?.kickoff_time){const m=new Date(f.kickoff_time),g=new Date(m.getTime()-cC*60*1e3);if(i<=g)return d}}return c.length>0?Math.max(...c)+1:e}return e}function Bg(r,e,A){if(r?.name==="API Test"&&e===1)return!0;const n=h0(r?.name);if(typeof n=="number")return n===999?!1:e>=n;if(r?.start_gw!==null&&r?.start_gw!==void 0)return e>=r.start_gw;if(r?.created_at&&A.has(e)){const i=new Date(r.created_at),o=A.get(e);return i<=o}return!0}const No=8;function vg(r){const e=(r||"?").trim().split(/\s+/);return e.length?e.length===1?e[0].slice(0,1).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase():"?"}function ku(r){return r.result==="H"||r.result==="D"||r.result==="A"?r.result:typeof r.home_goals=="number"&&typeof r.away_goals=="number"?r.home_goals>r.away_goals?"H":r.home_goals<r.away_goals?"A":"D":null}function Io({letter:r,correct:e,unicorn:A}){const n=e===null?"bg-slate-100 text-slate-600 border-slate-200":e?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white shadow-xl shadow-yellow-400/40 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s] ring-2 ring-yellow-300/60":"bg-slate-50 text-slate-400 border-slate-200";return a.jsxs("span",{className:["inline-flex items-center justify-center h-5 min-w-[18px] px-1.5","rounded-full border text-[11px] font-semibold mb-0.5","align-middle",n].join(" "),title:A?"Unicorn!":void 0,children:[r,A?a.jsx("span",{className:"ml-1",children:""}):null]})}function fC({chat:r,userId:e,nameById:A,isMember:n,newMsg:i,setNewMsg:o,onSend:c,leagueCode:d,memberCount:f,maxMembers:m,notificationStatus:g}){const w=x.useRef(null),v=x.useRef(null),y=x.useRef(null),C=x.useRef(null),[b,E]=x.useState(0),_=()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)};x.useEffect(()=>{r.length>0&&setTimeout(()=>_(),100)},[r.length]),x.useEffect(()=>{!i&&y.current&&(y.current.style.height="auto",y.current.style.height="42px")},[i]),x.useEffect(()=>{const R=window.visualViewport;if(!R)return;let I=null,j=0;const P=()=>{I&&(clearTimeout(I),I=null),I=setTimeout(()=>{const we=window.innerHeight,X=R.height,re=R.offsetTop+X,le=we-re;Math.abs(le-j)<10&&le>0||(j=le,le>100?(E(le),setTimeout(()=>{const H=C.current?.offsetHeight||100,oe=le+H+20;w.current&&(w.current.style.paddingBottom=`${oe}px`,w.current.offsetHeight,requestAnimationFrame(()=>{_(),setTimeout(()=>_(),100),setTimeout(()=>_(),300),setTimeout(()=>_(),500),setTimeout(()=>_(),700)}))},100)):(E(0),w.current&&(w.current.style.paddingBottom="",w.current.offsetHeight,requestAnimationFrame(()=>{_(),setTimeout(()=>_(),50),setTimeout(()=>_(),150),setTimeout(()=>_(),300)}))))},50)};R.addEventListener("resize",P),R.addEventListener("scroll",P);const K=()=>{setTimeout(P,100),setTimeout(P,300)},L=setTimeout(()=>{y.current&&y.current.addEventListener("focus",K)},100);return P(),()=>{I&&clearTimeout(I),clearTimeout(L),R.removeEventListener("resize",P),R.removeEventListener("scroll",P),y.current&&y.current.removeEventListener("focus",K)}},[]);const S=()=>{const R=window.visualViewport;R&&setTimeout(()=>{const I=window.innerHeight,j=R.height,P=R.offsetTop+j,K=I-P;K>100&&(E(K),setTimeout(()=>{const L=C.current?.offsetHeight||100,we=K+L+20;w.current&&(w.current.style.paddingBottom=`${we}px`,w.current.offsetHeight,requestAnimationFrame(()=>{_(),setTimeout(()=>_(),200),setTimeout(()=>_(),400),setTimeout(()=>_(),600),setTimeout(()=>_(),800)}))},100))},100),setTimeout(()=>_(),200),setTimeout(()=>_(),400),setTimeout(()=>_(),600)},k=R=>{const I=R.target;!(I.tagName==="A"||I.tagName==="BUTTON"||I.closest("a, button"))&&y.current&&document.activeElement===y.current&&y.current.blur()};return a.jsxs("div",{className:"flex flex-col chat-container",style:{height:"100%"},children:[a.jsxs("div",{ref:w,className:"flex-1 overflow-y-auto px-3 pt-3 pb-4 min-h-0 messages-container",onClick:k,style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",marginBottom:b>0?"0":"auto",cursor:"pointer"},children:[r.map(R=>{const I=R.user_id===e,j=A.get(R.user_id)??"Unknown",P=new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return a.jsx("div",{className:`mb-2 flex ${I?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[75%] rounded-lg px-3 py-2 text-sm ${I?"bg-[#1C8376] text-white":"bg-slate-100 text-slate-900"}`,children:[!I&&a.jsx("div",{className:"font-semibold text-xs text-slate-600 mb-1",children:j}),a.jsx("div",{className:"whitespace-pre-wrap break-words",children:R.content}),a.jsx("div",{className:`mt-1 text-[10px] ${I?"text-emerald-100":"text-slate-500"}`,children:P})]})},R.id)}),a.jsx("div",{ref:v,style:{height:"1px",width:"100%"}})]}),a.jsxs("div",{ref:C,className:"flex-shrink-0 bg-white border-t border-slate-200 px-4 py-3",style:{paddingBottom:"calc(0.75rem + env(safe-area-inset-bottom, 0px))",position:b>0?"fixed":"relative",bottom:b>0?`${b}px`:"auto",left:b>0?"0":"auto",right:b>0?"0":"auto",width:b>0?"100%":"auto",zIndex:b>0?1e3:"auto"},children:[n?a.jsxs("form",{onSubmit:R=>{R.preventDefault(),c()},className:"flex items-center gap-2",children:[a.jsx("textarea",{ref:y,value:i,onChange:R=>{o(R.target.value),y.current&&(y.current.style.height="auto",y.current.style.height=`${Math.min(y.current.scrollHeight,120)}px`)},onFocus:S,onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),i.trim()&&c())},placeholder:"Start typing...",maxLength:2e3,rows:1,className:"flex-1 rounded-full border border-slate-300 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#1C8376] focus:border-transparent resize-none overflow-hidden",style:{minHeight:"42px",maxHeight:"120px",lineHeight:"1.5"}}),a.jsx("button",{type:"submit",className:"flex-shrink-0 w-10 h-10 rounded-full bg-[#1C8376] text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",disabled:!i.trim(),style:{backgroundColor:i.trim()?"#1C8376":"#94a3b8"},children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]}):a.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 text-amber-800 p-3 text-sm",children:"Join this league to chat with other members."}),g&&a.jsx("div",{className:`w-full rounded px-2 py-1 text-xs mt-2 ${g.type==="success"?"bg-green-50 text-green-700 border border-green-200":g.type==="warning"?"bg-amber-50 text-amber-700 border border-amber-200":"bg-red-50 text-red-700 border border-red-200"}`,children:g.message})]})]})}function hC(){const{code:r=""}=HB(),{user:e}=tr(),[A]=x.useState(()=>{const $=localStorage.getItem("oldSchoolMode");return $?JSON.parse($):!1});x.useEffect(()=>{localStorage.setItem("oldSchoolMode",JSON.stringify(A))},[A]),x.useEffect(()=>{const $=Ie=>{const Pe=Ie.target;(Pe.tagName==="INPUT"||Pe.tagName==="TEXTAREA")&&setTimeout(()=>{window.scrollTo(0,0);const se=document.querySelector(".league-header-fixed");se&&(se.style.top="0")},100)},Be=()=>{const Ie=document.querySelector(".league-header-fixed");Ie&&(Ie.style.top="0")};return document.addEventListener("focusin",$),window.addEventListener("resize",Be),window.addEventListener("orientationchange",Be),()=>{document.removeEventListener("focusin",$),window.removeEventListener("resize",Be),window.removeEventListener("orientationchange",Be)}},[]);const[n,i]=x.useState(null),[o,c]=x.useState([]),[d,f]=x.useState(!0),[m,g]=x.useState("chat"),[w,v]=x.useState(!1),[y,C]=x.useState(!1),[b,E]=x.useState(!1),[_,S]=x.useState(null),[k,R]=x.useState(null),[I,j]=x.useState(null),[P,K]=x.useState([]),[L,we]=x.useState({}),[X,re]=x.useState(!1),[le,H]=x.useState(!1),[oe,Y]=x.useState(!1),[D,Q]=x.useState(!1),[N,G]=x.useState(!1),[U,M]=x.useState(!1),[W,ne]=x.useState(!1),[Ae,Ee]=x.useState(!1),[$e,te]=x.useState(!1),[ce,Se]=x.useState(!1),[ye,We]=x.useState(null),[mt,It]=x.useState(!1),[$t,de]=x.useState(!1),[Ve,Oe]=x.useState(null),[xe,ct]=x.useState([]),[st,St]=x.useState(""),[dt,De]=x.useState(null),jt=x.useMemo(()=>!!e?.id&&o.some($=>$.id===e.id),[e?.id,o]),Wt=x.useMemo(()=>{const $=new Map;return o.forEach(Be=>$.set(Be.id,Be.name)),$},[o]),[wt,Kt]=x.useState(new Map);x.useEffect(()=>{(async()=>{const $=new Map,{data:Be}=await J.from("fixtures").select("gw, kickoff_time").order("gw",{ascending:!0}),{data:Ie}=await J.from("test_api_fixtures").select("test_gw, kickoff_time").eq("test_gw",1).order("fixture_index",{ascending:!0}),Pe=new Map;if(Be&&Be.forEach(se=>{(!Pe.has(se.gw)||se.kickoff_time&&new Date(se.kickoff_time)<new Date(Pe.get(se.gw)))&&se.kickoff_time&&Pe.set(se.gw,se.kickoff_time)}),Ie&&Ie.length>0){const se=Ie.find(Me=>Me.kickoff_time)?.kickoff_time;if(se){const Me=Pe.get(1);(!Me||new Date(se)<new Date(Me))&&Pe.set(1,se)}}Pe.forEach((se,Me)=>{const pe=new Date(se),tt=new Date(pe.getTime()-4500*1e3);$.set(Me,tt)}),Kt($)})()},[]),x.useEffect(()=>{const $=Be=>{const Ie=Be.target;X&&!Ie.closest(".gw-dropdown-container")&&re(!1)};return X&&document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[X]),x.useEffect(()=>{let $=!0;return(async()=>{const{data:Be}=await J.from("meta").select("current_gw").eq("id",1).maybeSingle();if(!$)return;S(Be?.current_gw??null);const{data:Ie}=await J.from("gw_results").select("gw").order("gw",{ascending:!1}).limit(1);if(!$)return;R(Ie&&Ie.length?Ie[0].gw:null);const{data:Pe}=await J.from("gw_results").select("gw").order("gw",{ascending:!1});if(!$)return;const se=Pe?[...new Set(Pe.map(Me=>Me.gw))].sort((Me,pe)=>pe-Me):[];K(se),se.length>0&&j(se[0])})(),()=>{$=!1}},[]);const Pt=x.useMemo(()=>o.map($=>$.id),[o]),[Yt,ze]=x.useState([]),[ot,ge]=x.useState([]),[ke,he]=x.useState([]),[Ue,Ne]=x.useState([]),[ie,ue]=x.useState([]),[pt,Je]=x.useState(!1);x.useEffect(()=>{let $=!0;return(async()=>{f(!0);const{data:Be}=await J.from("leagues").select("id,name,code,created_at").eq("code",r).maybeSingle();if(!$)return;if(!Be){i(null),c([]),f(!1);return}i(Be);const{data:Ie}=await J.from("league_members").select("users(id,name),created_at").eq("league_id",Be.id).order("created_at",{ascending:!0}),Pe=Ie?.map(pe=>({id:pe.users.id,name:pe.users.name??"(no name)"}))??[],se=[...Pe].sort((pe,tt)=>pe.name.localeCompare(tt.name));c(se);const Me=Pe[0];Oe(Me),e?.id&&!Pe.some(pe=>pe.id===e.id)&&M(!0),f(!1)})(),()=>{$=!1}},[r]),x.useEffect(()=>{},[n,m]),x.useEffect(()=>{if(!n?.id)return;let $=!0;const Be=async()=>{const{data:Me,error:pe}=await J.from("league_messages").select("id, league_id, user_id, content, created_at").eq("league_id",n.id).order("created_at",{ascending:!1}).limit(500);if($)if(!pe&&Me){const Ce=(Me??[]).reverse();console.log("[Chat] Loaded messages:",Ce.length,"from database (most recent)"),ct(Te=>{const qe=new Set(Te.map(kt=>kt.id)),Ke=Ce.filter(kt=>!qe.has(kt.id));if(Te.length===0)return console.log("[Chat] Initial load, setting",Ce.length,"messages"),Ce;const Re=[...Te,...Ke].sort((kt,Et)=>new Date(kt.created_at).getTime()-new Date(Et.created_at).getTime()),Qt=Re.length>500?Re.slice(-500):Re;return console.log("[Chat] Merged messages. Previous:",Te.length,"New from DB:",Ke.length,"Total:",Re.length,"After limit:",Qt.length),Qt})}else pe&&console.error("[Chat] Error loading messages:",pe)};Be();const Ie=J.channel(`league-messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"league_messages",filter:`league_id=eq.${n.id}`},Me=>{const pe=Me.new;console.log("[Chat] Realtime message received:",pe.id,pe.content.substring(0,50)),ct(tt=>{if(tt.some(Te=>Te.id===pe.id))return console.log("[Chat] Message already exists, skipping"),tt;const Ce=[...tt,pe];return console.log("[Chat] Added realtime message. Total messages:",Ce.length),Ce})}).subscribe(),Pe=()=>{!document.hidden&&n?.id&&$&&(console.log("[Chat] App became visible, refetching messages..."),Be())},se=()=>{n?.id&&$&&(console.log("[Chat] Window gained focus, refetching messages..."),Be())};return document.addEventListener("visibilitychange",Pe),window.addEventListener("focus",se),()=>{$=!1,J.removeChannel(Ie),document.removeEventListener("visibilitychange",Pe),window.removeEventListener("focus",se)}},[n?.id]),x.useEffect(()=>{if(m!=="chat"||!n?.id||!e?.id)return;(async()=>{const{data:Ie,error:Pe}=await J.from("league_messages").select("id, league_id, user_id, content, created_at").eq("league_id",n.id).order("created_at",{ascending:!1}).limit(500);if(!Pe&&Ie){const Me=(Ie??[]).reverse();ct(pe=>{const tt=new Set(pe.map(Xe=>Xe.id)),Ce=Me.filter(Xe=>!tt.has(Xe.id)),qe=[...pe,...Ce].sort((Xe,Re)=>new Date(Xe.created_at).getTime()-new Date(Re.created_at).getTime());return qe.length>500?qe.slice(-500):qe})}})(),(async()=>{await J.from("league_message_reads").upsert({league_id:n.id,user_id:e.id,last_read_at:new Date().toISOString()},{onConflict:"league_id,user_id"})})()},[m,n?.id,e?.id]);async function je(){if(!(!n||!e?.id)){E(!0);try{const{error:$}=await J.from("league_members").delete().eq("league_id",n.id).eq("user_id",e.id);if($)throw $;window.location.href="/leagues"}catch($){console.error("Error leaving league:",$),alert("Failed to leave league. Please try again.")}finally{E(!1),C(!1)}}}async function rt(){if(!(!n||!e?.id)){ne(!0);try{if(o.length>=No){alert("League is full (max 8 members)."),M(!1);return}const{error:$}=await J.from("league_members").insert({league_id:n.id,user_id:e.id});if($)throw $;window.location.reload()}catch($){alert($?.message??"Failed to join league.")}finally{ne(!1)}}}const it=x.useMemo(()=>n?.created_by===e?.id||Ve&&Ve.id===e?.id&&!n?.created_by,[n?.created_by,e?.id,Ve]),Ge=x.useMemo(()=>n?.created_by?o.find($=>$.id===n.created_by)?.name||"Unknown":Ve?Ve.name:"Unknown",[n?.created_by,o,Ve]);async function Fe(){if(!(!ye||!n||!e?.id)){It(!0);try{const{error:$}=await J.from("league_members").delete().eq("league_id",n.id).eq("user_id",ye.id);if($)throw $;window.location.reload()}catch($){alert($?.message??"Failed to remove member.")}finally{It(!1),te(!1),We(null)}}}async function nt(){if(!(!n||!e?.id)){de(!0);try{const{error:$}=await J.from("league_members").delete().eq("league_id",n.id);if($)throw $;const{error:Be}=await J.from("leagues").delete().eq("id",n.id);if(Be)throw Be;window.location.href="/leagues"}catch($){alert($?.message??"Failed to end league.")}finally{de(!1),Se(!1)}}}function bt(){if(!n)return;const $=`Join my mini league "${n.name}" on TotL!`,Be=`${window.location.origin}/league/${n.code}`;navigator.share?navigator.share({title:`Join ${n.name}`,text:$,url:Be}).catch(console.error):navigator.clipboard.writeText(`${$}

${Be}`).then(()=>{alert("League link copied to clipboard!")}).catch(()=>{prompt("Share this league code:",n.code)})}async function He(){if(!n||!e?.id)return;const $=st.trim();if(!$)return;St("");const{data:Be,error:Ie}=await J.from("league_messages").insert({league_id:n.id,user_id:e.id,content:$}).select("id, league_id, user_id, content, created_at").single();Ie?(console.error(Ie),alert("Failed to send message.")):Be&&ct(se=>[...se,Be]),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||setTimeout(async()=>{try{const se=e.user_metadata?.display_name||e.email||"User",Me=await fetch("/.netlify/functions/notifyLeagueMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({leagueId:n.id,senderId:e.id,senderName:se,content:$})}),pe=await Me.json().catch(()=>({}));pe.ok===!0?pe.sent&&pe.sent>0?De({message:` Message sent to ${pe.sent} device${pe.sent===1?"":"s"}`,type:"success"}):pe.message==="No subscribed devices"?De({message:` No subscribed devices (${pe.eligibleRecipients||0} eligible recipient${pe.eligibleRecipients===1?"":"s"})`,type:"warning"}):pe.message==="No devices"?De({message:` No devices registered (${pe.eligibleRecipients||0} eligible recipient${pe.eligibleRecipients===1?"":"s"})`,type:"warning"}):pe.message==="No eligible recipients"?De({message:" All members are currently active",type:"success"}):De({message:` ${pe.message||"Notification sent"}`,type:"success"}):pe.ok===!1||pe.error?De({message:` Failed to send notification: ${pe.error||"Unknown error"}`,type:"error"}):Me.ok||De({message:` Notification error (HTTP ${Me.status})`,type:"error"}),setTimeout(()=>De(null),5e3)}catch(se){console.error("[Chat] Notification exception:",se),De({message:" Failed to send notification",type:"error"}),setTimeout(()=>De(null),5e3)}},100)}x.useEffect(()=>{let $=!0;return(async()=>{const Be=n?.name==="API Test",Ie=Be&&(m==="gw"||m==="gwr");console.log("[League] Data fetch:",{isApiTestLeague:Be,tab:m,useTestFixtures:Ie,leagueName:n?.name});let Pe=m==="gwr"?I:_;if(Be&&(m==="gw"||m==="gwr")&&(Pe=1),console.log("[League] gwForData:",Pe,"memberIds:",Pt),!Pe&&!Ie){ze([]),ge([]),he([]),Ne([]);return}let se;if(Ie){const{data:Ce}=await J.from("test_api_fixtures").select("id,test_gw,fixture_index,home_team,away_team,home_code,away_code,home_name,away_name,kickoff_time,api_match_id").eq("test_gw",1).order("fixture_index",{ascending:!0});se=Ce?.map(Te=>({...Te,gw:Te.test_gw}))||null}else{const{data:Ce}=await J.from("fixtures").select("id,gw,fixture_index,home_team,away_team,home_code,away_code,home_name,away_name,kickoff_time").eq("gw",Pe).order("fixture_index",{ascending:!0});se=Ce}if(!$)return;if(ze(se??[]),!Pt.length){ge([]),he([]),Ne([]);return}let Me,pe;if(Ie){const{data:Ce}=await J.from("test_api_picks").select("user_id,matchday,fixture_index,pick").eq("matchday",1).in("user_id",Pt);Me=Ce?.map(Ke=>({...Ke,gw:Ke.matchday}))||null;const{data:Te,error:qe}=await J.from("test_api_submissions").select("user_id,matchday,submitted_at").eq("matchday",1).in("user_id",Pt);qe&&console.error("Error fetching test_api_submissions:",qe),pe=Te?.map(Ke=>({...Ke,gw:Ke.matchday}))||null,console.log("Test API submissions fetched:",pe)}else{const{data:Ce}=await J.from("picks").select("user_id,gw,fixture_index,pick").eq("gw",Pe).in("user_id",Pt);Me=Ce;const{data:Te}=await J.from("gw_submissions").select("user_id,gw,submitted_at").eq("gw",Pe).in("user_id",Pt);pe=Te}if(!$)return;ge(Me??[]),he(pe??[]);const{data:tt}=await J.from("gw_results").select("gw,fixture_index,result").eq("gw",Ie?1:Pe||0);$&&Ne(tt??[])})(),()=>{$=!1}},[m,_,k,I,Pt]);const fe=async $=>{try{const Ie=await fetch(`https://api.football-data.org/v4/matches/${$}`,{headers:{"X-Auth-Token":"ed3153d132b847db836289243894706e"}});if(!Ie.ok)return Ie.status===429&&console.warn("[League] Rate limited, will retry on next poll"),null;const Pe=await Ie.json();if(!Pe||!Pe.score)return null;const se=Pe.score.fullTime?.home??Pe.score.halfTime?.home??0,Me=Pe.score.fullTime?.away??Pe.score.halfTime?.away??0,pe=Pe.status||"SCHEDULED",tt=Pe.minute??null;return{homeScore:se,awayScore:Me,status:pe,minute:tt}}catch(Be){return console.error("[League] Error fetching live score:",Be),null}};x.useEffect(()=>{if(!(n?.name==="API Test")||!Yt.length||m!=="gwr")return;const Be=Yt.slice(0,3).filter(se=>se.api_match_id&&se.kickoff_time);if(Be.length===0)return;const Ie=new Map,Pe=[];return Be.forEach(se=>{if(!se.api_match_id||!se.kickoff_time)return;const Me=new Date(se.kickoff_time),pe=new Date,tt=se.fixture_index,Ce=()=>{const Te=L[tt];if(Te&&Te.status==="FINISHED")return;const qe=async()=>{const Xe=await fe(se.api_match_id);if(Xe){const Re=Xe.status==="FINISHED";if(we(Qt=>({...Qt,[tt]:{homeScore:Xe.homeScore,awayScore:Xe.awayScore,status:Xe.status,minute:Xe.minute??null}})),Re){const Qt=Ie.get(tt);Qt&&(clearInterval(Qt),Ie.delete(tt))}}};qe();const Ke=setInterval(qe,300*1e3);Ie.set(tt,Ke)};if(Me>pe){const Te=Me.getTime()-pe.getTime(),qe=setTimeout(Ce,Te);Pe.push(qe)}else Ce()}),()=>{Ie.forEach(clearInterval),Pe.forEach(clearTimeout)}},[n?.name,Yt,m]);const z=x.useMemo(()=>{const $=new Map;return console.log("Building submittedMap from subs:",ke),ke.forEach(Be=>{const Ie=`${Be.user_id}:${Be.gw}`;console.log(`Adding submission key: ${Ie}`,Be),$.set(Ie,!0)}),console.log("Final submittedMap:",Array.from($.entries())),$},[ke]);x.useEffect(()=>{let $=!0;return(async()=>{if(!o.length){ue([]);return}if(n?.name==="API Test"){ue(o.map(me=>({user_id:me.id,name:me.name,mltPts:0,ocp:0,unicorns:0,wins:0,draws:0,form:[]}))),Je(!1);return}if(_===null)return;Je(!0);const{data:Be}=await J.from("gw_results").select("gw,fixture_index,result"),Ie=Be??[],Pe=new Map;if(Ie.forEach(me=>{const xt=ku(me);xt&&Pe.set(`${me.gw}:${me.fixture_index}`,xt)}),Pe.size===0){ue(o.map(me=>({user_id:me.id,name:me.name,mltPts:0,ocp:0,unicorns:0,wins:0,draws:0,form:[]}))),Je(!1);return}const se=[...new Set(Array.from(Pe.keys()).map(me=>parseInt(me.split(":")[0],10)))].sort((me,xt)=>me-xt),Me=["Prem Predictions","FC Football","Easy League"],pe=["The Bird league"],tt=await dC(n,_),Ce=se.filter(me=>me>=tt);if(!Me.includes(n?.name||"")&&!pe.includes(n?.name||"")&&Ce.length===0){ue(o.map(me=>({user_id:me.id,name:me.name,mltPts:0,ocp:0,unicorns:0,wins:0,draws:0,form:[]}))),Je(!1);return}const{data:Te}=await J.from("picks").select("user_id,gw,fixture_index,pick").in("user_id",o.map(me=>me.id)).in("gw",Ce),qe=Te??[],Ke=new Map;Ce.forEach(me=>{const xt=new Map;o.forEach(Nt=>xt.set(Nt.id,{user_id:Nt.id,score:0,unicorns:0})),Ke.set(me,xt)}),Ce.forEach(me=>{Array.from(Pe.entries()).filter(([Nt])=>parseInt(Nt.split(":")[0],10)===me).map(([Nt,Ct])=>({idx:parseInt(Nt.split(":")[1],10),out:Ct})).forEach(({idx:Nt,out:Ct})=>{const ft=qe.filter(Tt=>Tt.gw===me&&Tt.fixture_index===Nt),ut=ft.filter(Tt=>Tt.pick===Ct).map(Tt=>Tt.user_id),Vt=Ke.get(me);if(ft.forEach(Tt=>{if(Tt.pick===Ct){const CA=Vt.get(Tt.user_id);CA.score+=1}}),ut.length===1&&o.length>=3){const Tt=ut[0],CA=Vt.get(Tt);CA.unicorns+=1}})});const Xe=new Map,Re=new Map,Qt=new Map,kt=new Map,Et=new Map,ee=new Map;o.forEach(me=>{Xe.set(me.id,0),Re.set(me.id,0),Qt.set(me.id,0),kt.set(me.id,0),Et.set(me.id,0),ee.set(me.id,[])}),Ce.forEach(me=>{const xt=Array.from(Ke.get(me).values());if(xt.forEach(ft=>{Re.set(ft.user_id,(Re.get(ft.user_id)??0)+ft.score),Qt.set(ft.user_id,(Qt.get(ft.user_id)??0)+ft.unicorns)}),xt.sort((ft,ut)=>ut.score-ft.score||ut.unicorns-ft.unicorns),!xt.length)return;const Nt=xt[0],Ct=xt.filter(ft=>ft.score===Nt.score&&ft.unicorns===Nt.unicorns);Ct.length===1?(Xe.set(Nt.user_id,(Xe.get(Nt.user_id)??0)+3),kt.set(Nt.user_id,(kt.get(Nt.user_id)??0)+1),ee.get(Nt.user_id).push("W"),xt.slice(1).forEach(ft=>ee.get(ft.user_id).push("L"))):(Ct.forEach(ft=>{Xe.set(ft.user_id,(Xe.get(ft.user_id)??0)+1),Et.set(ft.user_id,(Et.get(ft.user_id)??0)+1),ee.get(ft.user_id).push("D")}),xt.filter(ft=>!Ct.find(ut=>ut.user_id===ft.user_id)).forEach(ft=>ee.get(ft.user_id).push("L")))});const Qe=o.map(me=>({user_id:me.id,name:me.name,mltPts:Xe.get(me.id)??0,ocp:Re.get(me.id)??0,unicorns:Qt.get(me.id)??0,wins:kt.get(me.id)??0,draws:Et.get(me.id)??0,form:ee.get(me.id)??[]}));Qe.sort((me,xt)=>xt.mltPts-me.mltPts||xt.unicorns-me.unicorns||xt.ocp-me.ocp||me.name.localeCompare(xt.name)),$&&(ue(Qe),Je(!1))})(),()=>{$=!1}},[o,n,_]);function ae(){const $=pe=>{const tt=pe.slice(-5),Ce=5-tt.length;return a.jsxs("div",{className:"flex items-center justify-between w-full",children:[Array.from({length:Ce}).map((Te,qe)=>a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"},`dot-${qe}`)),tt.map((Te,qe)=>a.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${Te==="W"?"bg-green-100 text-green-700":Te==="D"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:Te},qe))]})},Be=["Prem Predictions","FC Football","Easy League"],Ie=["The Bird league"],Pe=["gregVjofVcarl","Let Down"],se=n&&!Be.includes(n.name)&&!Ie.includes(n.name)&&!Pe.includes(n.name),Me=ie.length?ie:o.map(pe=>({user_id:pe.id,name:pe.name,mltPts:0,ocp:0,unicorns:0,wins:0,draws:0,form:[]}));return o.length===1?a.jsxs("div",{className:"text-center p-8 bg-white rounded-xl border border-slate-200 shadow-sm",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Invite at least one more user to make the ML start"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Share your league code with friends to get the competition going!"}),a.jsx("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-[#1C8376] text-white font-semibold rounded-lg hover:bg-emerald-700 transition-colors",children:"Share League Code"})]}):a.jsxs("div",{className:"pt-4",children:[a.jsx("style",{children:`
          .mlt-table tbody tr:last-child {
            border-bottom: none !important;
            border: none !important;
          }
          .mlt-table tbody tr:last-child td {
            border-bottom: none !important;
            border: none !important;
          }
          .mlt-table tbody tr:last-child th {
            border-bottom: none !important;
            border: none !important;
          }
          .mlt-table {
            border-bottom: none !important;
          }
          .mlt-table tbody {
            border-bottom: none !important;
          }
          .mlt-table-container {
            border-bottom: none !important;
          }
          .mlt-table-container table {
            border-bottom: none !important;
          }
          .mlt-table-container tbody {
            border-bottom: none !important;
          }
          .mlt-table-container tbody tr:last-child {
            border-bottom: none !important;
            border: none !important;
          }
          .mlt-table-container tbody tr:last-child td {
            border-bottom: none !important;
            border: none !important;
          }
        `}),a.jsx("div",{className:"mlt-table-container overflow-y-auto overflow-x-hidden -mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-x-0 sm:border-x bg-slate-50",style:{backgroundColor:"#f8fafc",borderBottom:"none",boxShadow:"none"},children:a.jsxs("table",{className:"mlt-table w-full text-sm border-collapse",style:{tableLayout:"fixed",backgroundColor:"#f8fafc",border:"none",borderBottom:"none"},children:[a.jsx("thead",{className:"sticky top-0",style:{position:"sticky",top:0,zIndex:25,backgroundColor:"#f8fafc",display:"table-header-group"},children:a.jsxs("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"none"},children:[a.jsx("th",{className:"py-3 text-left font-normal",style:{backgroundColor:"#f8fafc",width:"30px",paddingLeft:"0.75rem",paddingRight:"0.5rem",color:"#94a3b8"},children:"#"}),a.jsx("th",{className:"py-3 text-left font-normal text-xs",style:{backgroundColor:"#f8fafc",color:"#94a3b8",paddingLeft:"0.5rem",paddingRight:"1rem"},children:"Player"}),w?a.jsx("th",{className:"px-4 py-3 text-left font-normal text-xs",style:{backgroundColor:"#f8fafc",color:"#94a3b8"},children:"Form"}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"py-3 text-center font-normal text-xs",style:{backgroundColor:"#f8fafc",width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8",fontSize:"0.75rem"},children:"W"}),a.jsx("th",{className:"py-3 text-center font-normal text-xs",style:{backgroundColor:"#f8fafc",width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8",fontSize:"0.75rem"},children:"D"}),a.jsx("th",{className:"py-3 text-center font-normal text-xs",style:{backgroundColor:"#f8fafc",width:"40px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8",fontSize:"0.75rem"},children:se?"CP":"OCP"}),o.length>=3&&a.jsx("th",{className:"py-3 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8",fontSize:"1rem"},children:""}),a.jsx("th",{className:"py-3 text-center font-normal text-xs",style:{backgroundColor:"#f8fafc",width:"40px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8",fontSize:"0.75rem"},children:"PTS"})]})]})}),a.jsxs("tbody",{children:[Me.map((pe,tt)=>{const Ce=pe.user_id===e?.id,Te=tt===Me.length-1;return a.jsxs("tr",{className:Ce?"flash-user-row":"",style:{position:"relative",backgroundColor:"#f8fafc",...Te?{}:{borderBottom:"1px solid #e2e8f0"}},children:[a.jsx("td",{className:"py-4 text-left tabular-nums whitespace-nowrap relative",style:{paddingLeft:"0.75rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc",width:"30px"},children:tt+1}),a.jsx("td",{className:"py-4 truncate whitespace-nowrap",style:{backgroundColor:"#f8fafc",paddingLeft:"0.5rem",paddingRight:"1rem",overflow:"hidden",textOverflow:"ellipsis"},children:pe.name}),w?a.jsx("td",{className:"px-4 py-4",style:{backgroundColor:"#f8fafc"},children:$(pe.form)}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"py-4 text-center tabular-nums",style:{width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc"},children:pe.wins}),a.jsx("td",{className:"py-4 text-center tabular-nums",style:{width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc"},children:pe.draws}),a.jsx("td",{className:"py-4 text-center tabular-nums",style:{width:"40px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc"},children:pe.ocp}),o.length>=3&&a.jsx("td",{className:"py-4 text-center tabular-nums",style:{width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc"},children:pe.unicorns}),a.jsx("td",{className:"py-4 text-center tabular-nums font-bold",style:{width:"40px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc",color:"#1C8376"},children:pe.mltPts})]})]},pe.user_id)}),pt&&a.jsx("tr",{style:{backgroundColor:"#f8fafc"},children:a.jsx("td",{className:"px-4 py-6 text-slate-500 text-center",colSpan:w?3:o.length>=3?7:6,style:{backgroundColor:"#f8fafc"},children:"Calculating"})}),!pt&&!ie.length&&a.jsx("tr",{style:{backgroundColor:"#f8fafc"},children:a.jsx("td",{className:"px-4 py-6 text-slate-500 text-center",colSpan:w?3:o.length>=3?7:6,style:{backgroundColor:"#f8fafc"},children:"No gameweeks completed yet  this will populate after the first results are saved."})})]})]})}),a.jsx("div",{className:"mt-6 flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"inline-flex rounded-full bg-slate-100 p-0.5 shadow-sm border border-slate-200",children:[a.jsx("button",{onClick:()=>v(!1),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-colors ${w?"text-slate-600 hover:text-slate-900 hover:bg-white/50":"bg-[#1C8376] text-white shadow-sm"}`,children:"Points"}),a.jsx("button",{onClick:()=>v(!0),className:`px-3 py-1.5 text-xs font-semibold rounded-full transition-colors ${w?"bg-[#1C8376] text-white shadow-sm":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:"Form"})]}),a.jsxs("button",{onClick:()=>{console.log("Button clicked, setting modal to true"),Y(!0)},className:"flex items-center justify-center gap-1.5 bg-white border-2 border-slate-300 hover:bg-slate-50 rounded-full text-slate-600 hover:text-slate-800 cursor-help transition-colors flex-shrink-0 px-3 py-2",children:[a.jsx("img",{src:"/assets/Icons/School--Streamline-Outlined-Material-Pr0_White.png",alt:"Rules",className:"w-4 h-4",style:{filter:"invert(40%) sepia(8%) saturate(750%) hue-rotate(180deg) brightness(95%) contrast(88%)"}}),a.jsx("span",{className:"text-sm font-medium",children:"Rules"})]})]})})]})}function gt(){const $=n?.name==="API Test"?1:_;if(!$)return a.jsx("div",{className:"mt-3 rounded-2xl border bg-white shadow-sm p-4 text-slate-600",children:"No current game week available."});if(!Bg(n,$,wt))return a.jsx("div",{className:"mt-3 rounded-2xl border bg-white shadow-sm p-4 text-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold mb-2",children:"No Predictions Available"}),a.jsx("div",{className:"text-sm",children:"This league started from a later gameweek."}),a.jsxs("div",{className:"text-sm",children:["GW",$," predictions are not included in this league."]})]})});const Be=new Map;Ue.forEach(Ke=>{if(Ke.gw!==$)return;const Xe=ku(Ke);Xe&&Be.set(Ke.fixture_index,Xe)});const Ie=x.useMemo(()=>{const Ke=Qt=>{if(!Qt)return"Fixtures";const kt=new Date(Qt);return isNaN(kt.getTime())?"Fixtures":kt.toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short"})},Xe=new Map;Yt.filter(Qt=>Qt.gw===$).forEach(Qt=>{const kt=Ke(Qt.kickoff_time),Et=Qt.kickoff_time?new Date(Qt.kickoff_time).getTime():Number.MAX_SAFE_INTEGER;Xe.has(kt)||Xe.set(kt,{label:kt,key:Et,items:[]}),Xe.get(kt).items.push(Qt)});const Re=Array.from(Xe.values());return Re.forEach(Qt=>Qt.items.sort((kt,Et)=>kt.fixture_index-Et.fixture_index)),Re.sort((Qt,kt)=>Qt.key-kt.key),Re},[Yt,$]),Pe=new Map;ot.forEach(Ke=>{if(Ke.gw!==$||!z.get(`${Ke.user_id}:${$}`))return;const Re=Pe.get(Ke.fixture_index)??[];Re.push(Ke),Pe.set(Ke.fixture_index,Re)});const se=o.length>0&&o.every(Ke=>z.get(`${Ke.id}:${$}`)),Me=k!==null&&k>=$,pe=o.filter(Ke=>!z.get(`${Ke.id}:${$}`)).length,tt=o.filter(Ke=>!z.get(`${Ke.id}:${$}`)).map(Ke=>Ke.name),Ce=wt.get($),Te=Ce?new Date>=Ce:!1;console.log(`GW${$} deadline check:`,{gwDeadline:Ce,now:new Date,deadlinePassed:Te,allSubmitted:se,willShowPredictions:se||Te});const qe=n?.name==="API Test"?!se:!se&&!Te;return a.jsxs("div",{className:"mt-2 pt-2",children:[qe?a.jsxs("div",{className:"mt-3 rounded-2xl border bg-white shadow-sm p-4 text-slate-700",children:[a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("div",{children:se?a.jsxs(a.Fragment,{children:["All ",o.length," members have submitted."]}):a.jsxs(a.Fragment,{children:["Waiting for ",a.jsx("span",{className:"font-semibold",children:pe})," of ",o.length," to submit."]})}),!se&&a.jsxs("button",{onClick:()=>{const Ke=`Game Week ${$} Predictions Reminder!

DEADLINE: THIS ${(()=>{const Re=new Date(Yt.find(Ct=>Ct.gw===$)?.kickoff_time||""),Qt=new Date(Re.getTime()-4500*1e3),kt=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],Et=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],ee=kt[Qt.getUTCDay()],Qe=Qt.getUTCDate(),me=Et[Qt.getUTCMonth()],xt=Qt.getUTCHours().toString().padStart(2,"0"),Nt=Qt.getUTCMinutes().toString().padStart(2,"0");return`${ee} ${Qe} ${me}, ${xt}:${Nt} BST`})()}

Don't forget!
playtotl.com`,Xe=`https://wa.me/?text=${encodeURIComponent(Ke)}`;try{window.open(Xe,"_blank")}catch{navigator.clipboard.writeText(Ke).then(()=>{alert("Message copied to clipboard! You can now paste it in WhatsApp or Messages.")}).catch(()=>{alert(`Unable to open WhatsApp. Please copy this message manually:

`+Ke)})}},className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"Share Reminder"]})]}),(()=>{const Ke=Yt.map(ft=>ft.kickoff_time).filter(ft=>!!ft).map(ft=>new Date(ft)).filter(ft=>!isNaN(ft.getTime()));if(Ke.length===0)return null;const Xe=new Date(Math.min(...Ke.map(ft=>ft.getTime()))),Re=new Date(Xe.getTime()-4500*1e3),Qt=new Date>=Re,kt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Et=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ee=kt[Re.getUTCDay()],Qe=Re.getUTCDate(),me=Et[Re.getUTCMonth()],xt=Re.getUTCHours().toString().padStart(2,"0"),Nt=Re.getUTCMinutes().toString().padStart(2,"0"),Ct=`${ee} ${Qe} ${me}, ${xt}:${Nt} BST`;return a.jsxs("div",{className:`mb-3 text-sm ${Qt?"text-orange-600 font-semibold":"text-slate-600"}`,children:[Qt?" Deadline Passed: ":" Deadline: ",Ct]})})(),a.jsx("div",{className:"overflow-hidden rounded-lg border",children:a.jsxs("table",{className:"w-full text-sm",style:{tableLayout:"fixed"},children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 w-2/3 font-semibold text-slate-600",children:"Player"}),a.jsx("th",{className:"text-left px-4 py-3 font-semibold text-slate-600",children:"Status"})]})}),a.jsx("tbody",{children:o.slice().sort((Ke,Xe)=>Ke.name.localeCompare(Xe.name)).map(Ke=>{const Xe=`${Ke.id}:${$}`,Re=!!z.get(Xe);return Ke.name==="Jof"&&console.log(`Checking Jof submission: key=${Xe}, submitted=${Re}, submittedMap has:`,z.has(Xe),"picksGw=",$),a.jsxs("tr",{className:"border-t border-slate-200",children:[a.jsx("td",{className:"px-4 py-3 font-bold text-slate-900 truncate whitespace-nowrap",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Ke.name}),a.jsx("td",{className:"px-4 py-3",children:Re?a.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-[#1C8376]/10 text-[#1C8376]/90 text-xs px-2 py-1 border border-emerald-300 font-bold shadow-sm whitespace-nowrap w-24",children:" Submitted"}):a.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-amber-50 text-amber-700 text-xs px-2 py-1 border border-amber-200 font-semibold whitespace-nowrap w-24",children:" Not yet"})})]},Ke.id)})})]})})]}):null,n?.name==="API Test"&&se&&Ie.length>0&&a.jsx("div",{className:"mt-3 space-y-6",children:Ie.map((Ke,Xe)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-slate-700 font-normal text-lg",children:Ke.label}),Xe===0&&a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-blue-100 text-blue-800 text-sm font-bold border border-blue-300 shadow-sm",style:{marginTop:"-2px"},children:"All Submitted"})]}),a.jsx("div",{className:"rounded-2xl border bg-slate-50 overflow-hidden",children:a.jsxs("ul",{children:[Ke.items.map((Re,Qt)=>{try{const kt=Re.home_name||Re.home_team||"Home",Et=Re.away_name||Re.away_team||"Away",ee=(Re.home_code||Re.home_name||Re.home_team||"").toUpperCase(),Qe=(Re.away_code||Re.away_name||Re.away_team||"").toUpperCase(),xt=(ut=>{if(!ut)return"";const Vt=new Date(ut);if(isNaN(Vt.getTime()))return"";const Tt=String(Vt.getUTCHours()).padStart(2,"0"),CA=String(Vt.getUTCMinutes()).padStart(2,"0");return`${Tt}:${CA}`})(Re.kickoff_time),Nt=Re.fixture_index,Ct=Pe.get(Nt)??[],ft=ut=>{const Vt=Ct.filter(eA=>eA.pick===ut);let Tt=null;if(n?.name==="API Test"&&$===1){const eA=L[Nt];eA&&(eA.homeScore>eA.awayScore?Tt="H":eA.awayScore>eA.homeScore?Tt="A":eA.homeScore===eA.awayScore&&(Tt="D"))}else Tt=Be.get(Nt)||null;const CA=Ct.length===o.length&&Vt.length===o.length,Hr=4,en=[];for(let eA=0;eA<Vt.length;eA+=Hr){const hr=Vt.slice(eA,eA+Hr);en.push(hr)}return a.jsx("div",{className:"flex flex-col gap-1",children:en.map((eA,hr)=>a.jsx("div",{className:"flex items-center justify-center",children:eA.map((wA,mr)=>{const Dn=o.find(An=>An.id===wA.user_id),Pn=vg(Dn?.name??"?"),tn=Tt?Tt===ut:null;return CA?a.jsx("span",{className:"inline-block",style:{marginLeft:mr>0?"-8px":"0",position:"relative",zIndex:mr},children:a.jsx(Io,{letter:Pn,correct:tn,unicorn:!1})},wA.user_id):a.jsx(Io,{letter:Pn,correct:tn,unicorn:!1},wA.user_id)})},hr))})};return a.jsx("li",{className:Qt>0?"border-t":"",children:a.jsxs("div",{className:"p-4 bg-white",children:[a.jsxs("div",{className:"grid grid-cols-3 items-center",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-900 truncate",children:kt})}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ee&&a.jsx("img",{src:`/assets/badges/${ee}.png`,alt:`${kt} badge`,className:"h-6 w-6 object-contain",onError:ut=>{ut.currentTarget.style.opacity="0.35"}}),a.jsx("div",{className:"text-[15px] sm:text-base font-semibold text-slate-600",children:xt}),Qe&&a.jsx("img",{src:`/assets/badges/${Qe}.png`,alt:`${Et} badge`,className:"h-6 w-6 object-contain",onError:ut=>{ut.currentTarget.style.opacity="0.35"}})]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-900 truncate",children:Et})})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-3",children:[a.jsx("div",{className:"relative min-h-6",children:a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:ft("H")})}),a.jsx("div",{className:"relative min-h-6",children:a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:ft("D")})}),a.jsx("div",{className:"relative min-h-6",children:a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:ft("A")})})]})]})},`${Re.gw}-${Re.fixture_index}`)}catch(kt){return console.error("Error rendering fixture:",kt,Re),a.jsxs("li",{className:"p-4 text-red-500",children:["Error loading fixture: ",Re.fixture_index]},`${Re.gw}-${Re.fixture_index}`)}}),!Ke.items.length&&a.jsx("li",{className:"p-4 text-slate-500",children:"No fixtures."})]})})]},Xe))}),Ie.length>0&&n?.name!=="API Test"&&a.jsx("div",{className:"mt-3 space-y-6",children:Ie.map((Ke,Xe)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-slate-700 font-normal text-lg",children:Ke.label}),Xe===0&&se&&Me&&a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#1C8376]/10 text-[#1C8376]/90 text-sm font-bold border border-emerald-300 shadow-sm",style:{marginTop:"-2px"},children:"Round Complete!"}),Xe===0&&se&&!Me&&a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-blue-100 text-blue-800 text-sm font-bold border border-blue-300 shadow-sm",style:{marginTop:"-2px"},children:"All Submitted"}),Xe===0&&Te&&!se&&a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-orange-100 text-orange-800 text-sm font-bold border border-orange-300 shadow-sm",style:{marginTop:"-2px"},children:["Deadline Passed ",tt.length>0&&`(${tt.join(", ")} didn't submit)`]})]}),a.jsx("div",{className:"rounded-2xl border bg-slate-50 overflow-hidden",children:a.jsxs("ul",{children:[Ke.items.map((Re,Qt)=>{try{const kt=Re.home_name||Re.home_team||"Home",Et=Re.away_name||Re.away_team||"Away",ee=Re.home_code||"",Qe=Re.away_code||"",xt=(Tt=>{if(!Tt)return"";const CA=new Date(Tt);if(isNaN(CA.getTime()))return"";const Hr=String(CA.getUTCHours()).padStart(2,"0"),en=String(CA.getUTCMinutes()).padStart(2,"0");return`${Hr}:${en}`})(Re.kickoff_time),Nt=Re.fixture_index,Ct=Pe.get(Nt)??[],ft=Tt=>{const CA=Ct.filter(wA=>wA.pick===Tt),Hr=Be.get(Nt),en=Ct.length===o.length&&CA.length===o.length,eA=4,hr=[];for(let wA=0;wA<CA.length;wA+=eA){const mr=CA.slice(wA,wA+eA);hr.push(mr)}return a.jsx("div",{className:"flex flex-col gap-1",children:hr.map((wA,mr)=>a.jsx("div",{className:"flex items-center justify-center",children:wA.map((Dn,Pn)=>{const tn=o.find(rn=>rn.id===Dn.user_id),An=vg(tn?.name??"?"),fs=Hr?Hr===Tt:null;return en?a.jsx("span",{className:"inline-block",style:{marginLeft:Pn>0?"-8px":"0",position:"relative",zIndex:Pn},children:a.jsx(Io,{letter:An,correct:fs,unicorn:!1})},Dn.user_id):a.jsx(Io,{letter:An,correct:fs,unicorn:!1},Dn.user_id)})},mr))})},ut=`/assets/badges/${ee.toUpperCase()}.png`,Vt=`/assets/badges/${Qe.toUpperCase()}.png`;return a.jsx("li",{className:Qt>0?"border-t":"",children:a.jsxs("div",{className:"p-4 bg-white",children:[a.jsxs("div",{className:"grid grid-cols-3 items-center",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-900 truncate",children:kt})}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("img",{src:ut,alt:`${kt} badge`,className:"h-6 w-6"}),a.jsx("div",{className:"text-[15px] sm:text-base font-semibold text-slate-600",children:xt}),a.jsx("img",{src:Vt,alt:`${Et} badge`,className:"h-6 w-6"})]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-900 truncate",children:Et})})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-3",children:[a.jsx("div",{className:"relative min-h-6",children:a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:ft("H")})}),a.jsx("div",{className:"relative min-h-6",children:a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:ft("D")})}),a.jsx("div",{className:"relative min-h-6",children:a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:ft("A")})})]})]})},`${Re.gw}-${Re.fixture_index}`)}catch(kt){return console.error("Error rendering fixture:",kt,Re),a.jsxs("li",{className:"p-4 text-red-500",children:["Error loading fixture: ",Re.fixture_index]},`${Re.gw}-${Re.fixture_index}`)}}),!Ke.items.length&&a.jsx("li",{className:"p-4 text-slate-500",children:"No fixtures."})]})})]},Xe))}),!Ie.length&&!qe&&a.jsxs("div",{className:"mt-3 rounded-2xl border bg-white shadow-sm p-4 text-slate-500",children:["No fixtures for GW ",$,"."]})]})}function _t(){const $=n?.name==="API Test"?1:I;if(!$||P.length===0&&n?.name!=="API Test")return a.jsx("div",{className:"mt-3 rounded-2xl border bg-white shadow-sm p-4 text-slate-600",children:"No game week selected."});if(!Bg(n,$,wt))return a.jsx("div",{className:"mt-3 rounded-2xl border bg-white shadow-sm p-4 text-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold mb-2",children:"No Results Available"}),a.jsx("div",{className:"text-sm",children:"This league started from a later gameweek."}),a.jsxs("div",{className:"text-sm",children:["GW",$," results are not included in this league."]})]})});const Be=new Map,Ie=n?.name==="API Test";Ie&&$===1?Yt.slice(0,3).forEach(Te=>{const qe=L[Te.fixture_index];qe&&(qe.status==="LIVE"||qe.status==="IN_PLAY"||qe.status==="PAUSED"||qe.status==="FINISHED")&&(qe.homeScore>qe.awayScore?Be.set(Te.fixture_index,"H"):qe.awayScore>qe.homeScore?Be.set(Te.fixture_index,"A"):Be.set(Te.fixture_index,"D"))}):Ue.forEach(Ce=>{if(Ce.gw!==$)return;const Te=ku(Ce);Te&&Be.set(Ce.fixture_index,Te)});const Pe=o.map(Ce=>({user_id:Ce.id,name:Ce.name,score:0,unicorns:0})),se=new Map;ot.forEach(Ce=>{if(Ce.gw!==$)return;const Te=se.get(Ce.fixture_index)??[];Te.push(Ce),se.set(Ce.fixture_index,Te)}),Array.from(Be.entries()).forEach(([Ce,Te])=>{const Ke=(se.get(Ce)??[]).filter(Xe=>Xe.pick===Te).map(Xe=>Xe.user_id);if(Ke.forEach(Xe=>{const Re=Pe.find(Qt=>Qt.user_id===Xe);Re.score+=1}),Ke.length===1&&o.length>=3){const Xe=Pe.find(Re=>Re.user_id===Ke[0]);Xe.unicorns+=1}}),Pe.sort((Ce,Te)=>Te.score-Ce.score||Te.unicorns-Ce.unicorns||Ce.name.localeCompare(Te.name));let Me=!1,pe=!1,tt=!1;if(Ie&&$===1){const Ce=Yt.slice(0,3);if(Ce.length>0&&(Me=Ce.every(Te=>{const qe=L[Te.fixture_index];return qe&&qe.status==="FINISHED"}),pe=Ce.some(Te=>{const qe=L[Te.fixture_index];return qe&&(qe.status==="LIVE"||qe.status==="IN_PLAY"||qe.status==="PAUSED")}),!pe&&!Me)){const Te=new Date;tt=Ce.some(qe=>{if(!qe.kickoff_time)return!1;const Xe=new Date(qe.kickoff_time).getTime()-Te.getTime(),Re=L[qe.fixture_index];return(!Re||Re.status!=="LIVE"&&Re.status!=="IN_PLAY"&&Re.status!=="PAUSED"&&Re.status!=="FINISHED")&&Xe>0&&Xe<=1440*60*1e3})}}else{const Ce=Yt.filter(Te=>Te.gw===$);Ce.length>0&&(Me=Ce.every(Te=>Be.has(Te.fixture_index)))}return a.jsxs("div",{children:[a.jsx("style",{children:`
          @keyframes flash {
            0%, 100% {
              background-color: rgb(209, 250, 229);
            }
            25% {
              background-color: rgb(167, 243, 208);
            }
            50% {
              background-color: rgb(209, 250, 229);
            }
            75% {
              background-color: rgb(167, 243, 208);
            }
          }
          @keyframes pulse-score {
            0%, 100% {
              opacity: 1;
              transform: scale(1);
            }
            50% {
              opacity: 0.8;
              transform: scale(1.05);
            }
          }
          .flash-user-row {
            animation: flash 1.5s ease-in-out 3;
          }
          .pulse-live-score {
            animation: pulse-score 2s ease-in-out infinite;
          }
          .full-width-header-border::after {
            content: '';
            position: absolute;
            left: -1rem;
            right: -1rem;
            bottom: 0;
            height: 1px;
            background-color: #cbd5e1;
            z-index: 1;
          }
        `}),Pe.length>0&&Me&&a.jsx("div",{className:"mt-4 mb-4 py-6 px-6 rounded-xl bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 shadow-2xl shadow-slate-600/50 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/40 before:to-transparent before:animate-[shimmer_2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/30 after:to-transparent after:animate-[shimmer_2.5s_ease-in-out_infinite_0.6s]",children:a.jsx("div",{className:"text-center relative z-10",children:Pe[0].score===Pe[1]?.score&&Pe[0].unicorns===Pe[1]?.unicorns?a.jsx("div",{className:"text-lg font-bold text-white break-words whitespace-normal px-2 leading-normal",children:" It's a Draw!"}):a.jsxs("div",{className:"text-lg font-bold text-white break-words whitespace-normal px-2 leading-normal",children:[Pe[0].name," Wins!"]})})}),a.jsx("div",{className:"overflow-y-auto overflow-x-hidden -mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-x-0 sm:border-x border-b border-slate-200 bg-slate-50 shadow-sm",style:{backgroundColor:"#f8fafc"},children:a.jsxs("table",{className:"w-full text-sm border-collapse",style:{tableLayout:"fixed",backgroundColor:"#f8fafc"},children:[a.jsx("thead",{className:"sticky top-0",style:{position:"sticky",top:0,zIndex:25,backgroundColor:"#f8fafc",display:"table-header-group"},children:a.jsxs("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"none"},children:[a.jsx("th",{className:"py-4 text-left font-normal",style:{backgroundColor:"#f8fafc",width:"30px",paddingLeft:"0.75rem",paddingRight:"0.5rem",color:"#94a3b8"},children:"#"}),a.jsx("th",{className:"py-4 text-left font-normal text-xs",style:{backgroundColor:"#f8fafc",color:"#94a3b8",paddingLeft:"0.5rem",paddingRight:"1rem"},children:a.jsxs("div",{className:"flex items-center gap-2",children:["Player",Ie&&pe&&a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-600 text-white shadow-md shadow-red-500/30",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] font-medium",children:"LIVE"})]}),Ie&&!pe&&tt&&a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-amber-500 text-white shadow-md shadow-amber-500/30",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-[10px] font-medium",children:"Starting soon"})]})]})}),a.jsx("th",{className:"py-4 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"50px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8"},children:"Score"}),o.length>=3&&a.jsx("th",{className:"py-4 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",color:"#94a3b8",fontSize:"1rem"},children:""})]})}),a.jsxs("tbody",{children:[Pe.map((Ce,Te)=>{const qe=Ce.user_id===e?.id,Ke=Te===Pe.length-1;return a.jsxs("tr",{className:qe?"flash-user-row":"",style:{position:"relative",backgroundColor:"#f8fafc",...Ke?{}:{borderBottom:"1px solid #e2e8f0"}},children:[a.jsx("td",{className:"py-4 text-left tabular-nums whitespace-nowrap relative",style:{paddingLeft:"0.75rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc",width:"30px"},children:Te+1}),a.jsx("td",{className:"py-4 truncate whitespace-nowrap",style:{backgroundColor:"#f8fafc",paddingLeft:"0.5rem",paddingRight:"1rem",overflow:"hidden",textOverflow:"ellipsis"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[Ie&&pe&&a.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse flex-shrink-0"}),Ie&&!pe&&tt&&a.jsx("svg",{className:"w-3 h-3 text-amber-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{children:Ce.name})]})}),a.jsx("td",{className:`py-4 text-center tabular-nums font-bold ${Ie&&pe?"pulse-live-score":""}`,style:{width:"50px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc",color:"#1C8376"},children:Ce.score}),o.length>=3&&a.jsx("td",{className:`py-4 text-center tabular-nums ${Ie&&pe?"pulse-live-score":""}`,style:{width:"35px",paddingLeft:"0.25rem",paddingRight:"0.25rem",backgroundColor:"#f8fafc"},children:Ce.unicorns})]},Ce.user_id)}),!Pe.length&&a.jsx("tr",{style:{backgroundColor:"#f8fafc"},children:a.jsxs("td",{className:"px-4 py-6 text-slate-500 text-center",colSpan:o.length>=3?4:3,style:{backgroundColor:"#f8fafc"},children:["No results recorded for GW ",$," yet."]})})]})]})}),P.length>1&&a.jsx("div",{className:"mt-6 mb-4 flex flex-col items-center gap-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 w-full max-w-sm",children:[a.jsx("div",{className:"flex-1",children:a.jsx("select",{value:$,onChange:Ce=>j(parseInt(Ce.target.value,10)),className:"gw-selector w-full bg-white rounded-full border-2 border-slate-300 px-3 py-2 text-xs font-normal text-slate-600 text-center focus:outline-none focus:ring-2 focus:ring-[#1C8376] focus:border-[#1C8376] active:bg-slate-50 transition-colors",style:{fontSize:"12px",minHeight:"40px",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b' stroke-width='2.5'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1em 1em",paddingRight:"2.5rem"},children:P.map(Ce=>a.jsxs("option",{value:Ce,style:{fontSize:"12px",padding:"0.5rem",fontWeight:"normal",color:"#64748b",textTransform:"uppercase"},children:["GAME WEEK ",Ce]},Ce))})}),a.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center justify-center gap-1.5 bg-white border-2 border-slate-300 hover:bg-slate-50 rounded-full text-slate-600 hover:text-slate-800 cursor-help transition-colors flex-shrink-0 px-3 py-2",children:[a.jsx("img",{src:"/assets/Icons/School--Streamline-Outlined-Material-Pr0_White.png",alt:"Rules",className:"w-4 h-4",style:{filter:"invert(40%) sepia(8%) saturate(750%) hue-rotate(180deg) brightness(95%) contrast(88%)"}}),a.jsx("span",{className:"text-sm font-medium",children:"Rules"})]})]})}),D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>Q(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 relative",onClick:Ce=>Ce.stopPropagation(),children:[a.jsx("button",{onClick:()=>Q(!1),className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"p-6 pt-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Weekly Winner"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[#1C8376]/10 border border-[#1C8376]/20 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-[#1C8376]/90 mb-3",children:" How to Win the Week:"}),a.jsxs("p",{className:"text-[#1C8376]/80",children:["The player with the ",a.jsx("strong",{children:"most correct predictions"})," wins that gameweek."]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:" Unicorn Rule"}),a.jsxs("p",{className:"text-purple-700",children:["In Mini-Leagues with ",a.jsx("strong",{children:"3 or more players"}),", if you're the ",a.jsx("strong",{children:"only person"})," to correctly predict a fixture, that's a ",a.jsx("strong",{children:" Unicorn"}),". In ties, the player with most ",a.jsx("strong",{children:" Unicorns"})," wins!"]})]})]})]})]})})]})}return x.useEffect(()=>{typeof window<"u"&&window.scrollTo({top:0,behavior:"auto"})},[m]),d?a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:a.jsx("div",{className:"text-slate-500",children:"Loading"})}):!n&&!d?a.jsx("div",{className:"max-w-3xl mx-auto px-4 py-10",children:a.jsxs("div",{className:"rounded border bg-white p-6",children:[a.jsx("div",{className:"font-semibold mb-2",children:"League not found"}),a.jsx(_A,{to:"/leagues",className:"text-slate-600 underline",children:"Back to Mini Leagues"})]})}):n?a.jsxs("div",{className:`${A?"oldschool-theme":"bg-slate-50"}`,style:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",maxHeight:"100vh",overflow:"hidden"},children:[a.jsx("style",{children:`
        .league-header-fixed {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          z-index: 50 !important;
          transform: translate3d(0, 0, 0) !important;
          -webkit-transform: translate3d(0, 0, 0) !important;
          will-change: transform !important;
          contain: layout style paint !important;
        }
        .league-header-fixed .relative {
          position: relative !important;
          z-index: 100 !important;
        }
        @supports (height: 100dvh) {
          .league-header-fixed {
            top: env(safe-area-inset-top, 0px) !important;
          }
        }
        .league-content-wrapper {
          position: fixed;
          top: calc(3.5rem + 3rem + env(safe-area-inset-top, 0px) + 0.5rem);
          left: 0;
          right: 0;
          bottom: 0;
          overflow-y: auto;
          overflow-x: hidden;
          -webkit-overflow-scrolling: touch;
          overscroll-behavior: contain;
          padding-bottom: 2rem;
          padding-left: 1rem;
          padding-right: 1rem;
        }
        .league-content-wrapper.has-banner {
          top: calc(3.5rem + 3rem + 3.5rem + env(safe-area-inset-top, 0px) + 0.5rem);
        }
        @media (max-width: 768px) {
          .league-content-wrapper {
            top: calc(3.5rem + 3rem + env(safe-area-inset-top, 0px) + 0.5rem);
            padding-bottom: 2rem;
            padding-left: 1rem;
            padding-right: 1rem;
          }
          .league-content-wrapper.has-banner {
            top: calc(3.5rem + 3rem + 3.5rem + env(safe-area-inset-top, 0px) + 0.5rem);
          }
        }
        /* Chat tab - full height layout */
        .chat-tab-wrapper {
          position: fixed;
          top: calc(3.5rem + 3rem + env(safe-area-inset-top, 0px));
          left: 0;
          right: 0;
          bottom: 0;
          height: calc(100vh - 3.5rem - 3rem - env(safe-area-inset-top, 0px));
          max-height: calc(100vh - 3.5rem - 3rem - env(safe-area-inset-top, 0px));
          z-index: 10;
          overflow: visible;
          pointer-events: none;
        }
        .chat-tab-wrapper.has-banner {
          top: calc(3.5rem + 3rem + 3.5rem + env(safe-area-inset-top, 0px));
          height: calc(100vh - 3.5rem - 3rem - 3.5rem - env(safe-area-inset-top, 0px));
          max-height: calc(100vh - 3.5rem - 3rem - 3.5rem - env(safe-area-inset-top, 0px));
        }
        .chat-tab-wrapper > * {
          pointer-events: auto;
        }
        @supports (height: 100dvh) {
          .chat-tab-wrapper {
            height: calc(100dvh - 3.5rem - 3rem - env(safe-area-inset-top, 0px));
            max-height: calc(100dvh - 3.5rem - 3rem - env(safe-area-inset-top, 0px));
          }
          .chat-tab-wrapper.has-banner {
            height: calc(100dvh - 3.5rem - 3rem - 3.5rem - env(safe-area-inset-top, 0px));
            max-height: calc(100dvh - 3.5rem - 3rem - 3.5rem - env(safe-area-inset-top, 0px));
          }
        }
      `}),a.jsx("div",{className:"league-header-fixed bg-white border-b border-slate-200 shadow-sm",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-14",children:[a.jsx(_A,{to:"/leagues",className:"flex items-center text-slate-600 hover:text-slate-900 transition-colors -ml-2 px-2 py-1",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("h1",{className:"text-lg font-normal text-slate-900 truncate flex-1 text-left px-2",children:n.name}),a.jsx("div",{className:"relative",style:{zIndex:100},children:a.jsx("button",{onClick:()=>Ee(!Ae),className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-slate-100 transition-colors -mr-2","aria-label":"Menu",children:a.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]}),a.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[a.jsxs("button",{onClick:()=>g("chat"),className:"flex-1 px-3 sm:px-6 py-3 text-sm font-semibold transition-colors relative "+(m==="chat"?"text-[#1C8376]":"text-slate-400"),children:["Chat",m==="chat"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#1C8376]"})]}),(P.length>0||n?.name==="API Test")&&a.jsxs("button",{onClick:()=>g("gwr"),className:"flex-1 px-2 sm:px-4 py-3 text-xs font-semibold transition-colors relative leading-tight "+(m==="gwr"?"text-[#1C8376]":"text-slate-400"),children:[a.jsx("span",{className:"hidden sm:inline",children:(()=>{const $=n?.name==="API Test"?1:I||_;return $?`GW ${$} Results`:"GW Results"})()}),a.jsx("span",{className:"sm:hidden whitespace-pre-line",children:(()=>{const $=n?.name==="API Test"?1:I||_;return $?`GW${$}
Results`:`GW
Results`})()}),m==="gwr"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#1C8376]"})]}),(_||n?.name==="API Test")&&a.jsxs("button",{onClick:()=>g("gw"),className:"flex-1 px-2 sm:px-4 py-3 text-xs font-semibold transition-colors relative leading-tight "+(m==="gw"?"text-[#1C8376]":"text-slate-400"),children:[a.jsx("span",{className:"hidden sm:inline",children:n?.name==="API Test"?"GW 1 Predictions":_?`GW ${_} Predictions`:"GW Predictions"}),a.jsx("span",{className:"sm:hidden whitespace-pre-line",children:n?.name==="API Test"?`GW1
Predictions`:_?`GW${_}
Predictions`:`GW
Predictions`}),m==="gw"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#1C8376]"})]}),a.jsxs("button",{onClick:()=>g("mlt"),className:"flex-1 px-3 sm:px-6 py-3 text-sm font-semibold transition-colors relative "+(m==="mlt"?"text-[#1C8376]":"text-slate-400"),children:["Table",m==="mlt"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#1C8376]"})]})]})]})}),Ae&&typeof document<"u"&&document.body&&Iv.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0",onClick:()=>Ee(!1),style:{backgroundColor:"transparent",zIndex:99998}}),a.jsxs("div",{className:"fixed w-56 bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",style:{zIndex:99999,top:"calc(3.5rem + 0.5rem + env(safe-area-inset-top, 0px))",right:"1rem"},children:[it&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-4 py-3 border-b border-slate-100",children:[a.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Admin:"}),a.jsx("div",{className:"text-sm font-semibold text-slate-800",children:Ge})]}),a.jsx("button",{onClick:()=>{H(!0),Ee(!1)},className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors border-b border-slate-100",children:" Manage"})]}),a.jsx("button",{onClick:()=>{G(!0),Ee(!1)},className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors border-b border-slate-100",children:" Invite players"}),a.jsx("button",{onClick:()=>{bt(),Ee(!1)},className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 transition-colors border-b border-slate-100",children:"Share league code"}),a.jsx("button",{onClick:()=>{C(!0),Ee(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Leave"})]})]}),document.body),m==="chat"?a.jsx("div",{className:"chat-tab-wrapper",children:a.jsx(fC,{chat:xe,userId:e?.id,nameById:Wt,isMember:jt,newMsg:st,setNewMsg:St,onSend:He,leagueCode:n?.code,memberCount:o.length,maxMembers:No,notificationStatus:dt})}):a.jsxs("div",{className:"league-content-wrapper",children:[a.jsxs("div",{className:"px-1 sm:px-2",children:[m==="mlt"&&a.jsx(ae,{}),m==="gw"&&a.jsx(gt,{}),m==="gwr"&&a.jsx(_t,{})]}),n?.name==="API Test"&&a.jsx("div",{className:"mt-6 mb-4 px-4 py-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:" Test League:"})," This league uses test API data and starts from Test GW 1 with zero points. It does not affect your main game scores."]})})]}),it&&le&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>H(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 relative",onClick:$=>$.stopPropagation(),children:[a.jsx("button",{onClick:()=>H(!1),className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"p-6 pt-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"League Management"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm text-slate-600 mb-3 font-semibold",children:"Remove Members:"}),a.jsxs("div",{className:"space-y-2",children:[o.filter($=>$.id!==e?.id).map($=>a.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-slate-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-slate-800",children:$.name}),a.jsx("button",{onClick:()=>{We($),te(!0),H(!1)},className:"px-3 py-1.5 text-xs bg-red-100 text-red-700 hover:bg-red-200 rounded-md transition-colors font-medium",children:"Remove"})]},$.id)),o.filter($=>$.id!==e?.id).length===0&&a.jsx("div",{className:"text-sm text-slate-500 italic py-4 text-center",children:"No other members to remove"})]})]}),a.jsx("div",{className:"pt-4 border-t border-slate-200",children:a.jsx("button",{onClick:()=>{Se(!0),H(!1)},className:"w-full px-4 py-3 text-sm bg-red-600 text-white hover:bg-red-700 rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:" End League"})})]})]})]})}),oe&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>Y(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 relative",onClick:$=>$.stopPropagation(),children:[a.jsx("button",{onClick:()=>Y(!1),className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"p-6 pt-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"League Points"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[#1C8376]/10 border border-[#1C8376]/20 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-[#1C8376]/90 mb-3",children:"League Points:"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-[#1C8376] font-bold",children:""}),a.jsxs("span",{className:"text-[#1C8376]/80",children:[a.jsx("strong",{children:"Win the week"}),"  3 points"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-[#1C8376] font-bold",children:""}),a.jsxs("span",{className:"text-[#1C8376]/80",children:[a.jsx("strong",{children:"Draw"}),"  1 point"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-[#1C8376] font-bold",children:""}),a.jsxs("span",{className:"text-[#1C8376]/80",children:[a.jsx("strong",{children:"Lose"}),"  0 points"]})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:" Ties"}),a.jsxs("p",{className:"text-blue-700",children:["If two or more players are tied on Points, the player with the most overall ",a.jsx("strong",{children:" Unicorns"})," in the mini league is ranked higher."]})]})]}),n&&(["The Bird league"].includes(n.name)||["gregVjofVcarl","Let Down"].includes(n.name))&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-blue-700 text-sm",children:[a.jsx("strong",{children:"Note:"}),' This mini league started after GW1, so the "CP" column shows correct predictions since this mini league began.']})})]})]})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Invite players"}),a.jsxs("p",{className:"text-slate-600 text-sm",children:["Share this code (up to ",No," members):"]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("code",{className:"font-mono text-lg font-bold",children:n.code}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n.code)},className:"px-3 py-1.5 border rounded-md text-sm hover:bg-slate-50",children:"Copy"}),a.jsx("button",{onClick:bt,className:"px-3 py-1.5 border rounded-md text-sm hover:bg-slate-50",children:"Share"})]}),a.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:[o.length,"/",No," members"]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-50",children:"Close"})})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Leave League"}),a.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to leave "',n?.name,`"? You'll need the league code to rejoin later.`]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50 transition-colors",disabled:b,children:"Cancel"}),a.jsx("button",{onClick:je,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",disabled:b,children:b?"Leaving...":"Leave League"})]})]})}),U&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Join Mini League"}),a.jsxs("p",{className:"text-slate-600 mb-6",children:["You are about to join ",a.jsxs("strong",{children:['"',n?.name,'"']}),". Are you sure?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50 transition-colors",disabled:W,children:"Cancel"}),a.jsx("button",{onClick:rt,className:"flex-1 px-4 py-2 bg-[#1C8376] text-white rounded-md hover:bg-emerald-700 transition-colors disabled:opacity-50",disabled:W,children:W?"Joining...":"Join League"})]})]})}),$e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Remove Member"}),a.jsxs("p",{className:"text-slate-600 mb-6",children:["Are you sure you want to remove ",a.jsxs("strong",{children:['"',ye?.name,'"']})," from the league? They will need the league code to rejoin."]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>te(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50 transition-colors",disabled:mt,children:"Cancel"}),a.jsx("button",{onClick:Fe,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",disabled:mt,children:mt?"Removing...":"Remove Member"})]})]})}),ce&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:" End League"}),a.jsxs("p",{className:"text-slate-600 mb-4",children:["Are you absolutely sure you want to ",a.jsx("strong",{children:"permanently end"})," the league ",a.jsxs("strong",{children:['"',n?.name,'"']}),"?"]}),a.jsx("p",{className:"text-sm text-red-600 mb-6",children:"This will remove all members and delete the league forever. This action cannot be undone!"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>Se(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50 transition-colors",disabled:$t,children:"Cancel"}),a.jsx("button",{onClick:nt,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",disabled:$t,children:$t?"Ending...":"Yes, End League"})]})]})})]}):null}function m0(r){return String(r||"").toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g," ").replace(/\s+/g," ").trim()}const ga={arsenal:{medium:"Arsenal",slug:"arsenal",aliases:["arsenal","ars","the arsenal"]},"aston-villa":{medium:"Villa",slug:"aston-villa",aliases:["aston villa","villa","avl"]},bournemouth:{medium:"Bournemouth",slug:"bournemouth",aliases:["bournemouth","afc bournemouth","bou"]},brentford:{medium:"Brentford",slug:"brentford",aliases:["brentford","bre"]},brighton:{medium:"Brighton",slug:"brighton",aliases:["brighton","brighton and hove albion","brighton & hove albion","bha"]},chelsea:{medium:"Chelsea",slug:"chelsea",aliases:["chelsea","che"]},"crystal-palace":{medium:"Palace",slug:"crystal-palace",aliases:["crystal palace","palace","cry"]},everton:{medium:"Everton",slug:"everton",aliases:["everton","eve"]},fulham:{medium:"Fulham",slug:"fulham",aliases:["fulham","ful"]},ipswich:{medium:"Ipswich",slug:"ipswich",aliases:["ipswich","ipswich town","ips"]},leeds:{medium:"Leeds",slug:"leeds",aliases:["leeds","leeds united","lee"]},leicester:{medium:"Leicester",slug:"leicester",aliases:["leicester","leicester city","lei"]},liverpool:{medium:"Liverpool",slug:"liverpool",aliases:["liverpool","liv"]},"man-city":{medium:"Man City",slug:"man-city",aliases:["manchester city","man city","mci","city"]},"man-united":{medium:"Man United",slug:"man-united",aliases:["manchester united","man united","man utd","mun","united"]},newcastle:{medium:"Newcastle",slug:"newcastle",aliases:["newcastle","newcastle united","new"]},"nottingham-forest":{medium:"Forest",slug:"nottingham-forest",aliases:["nottingham forest","forest","nfo","not"]},southampton:{medium:"Southampton",slug:"southampton",aliases:["southampton","sou"]},spurs:{medium:"Spurs",slug:"spurs",aliases:["tottenham","tottenham hotspur","spurs","tot"]},"west-ham":{medium:"West Ham",slug:"west-ham",aliases:["west ham","west ham united","whu"]},wolves:{medium:"Wolves",slug:"wolves",aliases:["wolves","wolverhampton wanderers","wolverhampton","wol"]},sunderland:{medium:"Sunderland",slug:"sunderland",aliases:["sunderland","sun"]},burnley:{medium:"Burnley",slug:"burnley",aliases:["burnley","bur"]}},mC=(()=>{const r={};return Object.keys(ga).forEach(e=>{ga[e].aliases.forEach(A=>{r[m0(A)]=e})}),r})();function gC(r){const e=m0(r);return e?mC[e]??null:null}function Sn(r){const e=gC(r);return e?ga[e].medium:r}Object.keys(ga).map(r=>ga[r].slug);function yg(r,e){const A=r?.[`${e}_name`],n=r?.[`${e}_team`],o=r?.[`${e}_code`]||A||n||"";return Sn(o)||(e==="home"?"Home":"Away")}function pd(...r){return r.filter(Boolean).join(" ")}function pC(r){return r?r.result==="H"||r.result==="D"||r.result==="A"?r.result:typeof r.home_goals=="number"&&typeof r.away_goals=="number"?r.home_goals>r.away_goals?"H":r.home_goals<r.away_goals?"A":"D":null:null}function Nu({label:r,active:e,disabled:A,onClick:n}){return a.jsx("button",{type:"button",disabled:A,onClick:n,className:pd("h-16 rounded-xl border text-sm font-medium transition-colors","flex items-center justify-center",e?"bg-emerald-600 text-white border-emerald-600":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100",A&&"opacity-60 cursor-not-allowed"),children:r})}function Iu({label:r,correct:e,isCorrectResult:A}){const n="h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center select-none",i=e===!0?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white !border-0 !border-none shadow-2xl shadow-yellow-400/40 transform scale-110 rotate-1 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]":A?"bg-emerald-600 text-white border-emerald-600":e===!1?"bg-rose-100 text-rose-700 border-rose-200":"bg-slate-50 text-slate-600 border-slate-200";return a.jsx("div",{className:[n,i].join(" "),children:a.jsx("span",{className:e===!0?"font-bold":"",children:r})})}function wC(){const{user:r}=tr(),[e]=x.useState(()=>{const Y=localStorage.getItem("oldSchoolMode");return Y?JSON.parse(Y):!1});x.useEffect(()=>{localStorage.setItem("oldSchoolMode",JSON.stringify(e))},[e]);const[A,n]=x.useState(null),[i,o]=x.useState([]),[c,d]=x.useState({}),[f,m]=x.useState([]),[g,w]=x.useState(!1),[v,y]=x.useState(!1),[C,b]=x.useState(!1),[E,_]=x.useState(!0),[S,k]=x.useState(""),[R,I]=x.useState(!1),[j,P]=x.useState(!1);x.useEffect(()=>{g&&window.scrollTo({top:0,behavior:"smooth"})},[g]),x.useEffect(()=>{let Y=!0;(async()=>{const Q=await bg();Y&&n(Q)})();const D=async()=>{const Q=await bg();n(Q)};return window.addEventListener("focus",D),()=>{Y=!1,window.removeEventListener("focus",D)}},[r?.id]),x.useEffect(()=>{let Y=!0;return(async()=>{if(_(!0),k(""),A==null){o([]),d({}),w(!1),_(!1);return}const{data:D,error:Q}=await J.from("fixtures").select("gw, fixture_index, home_name, away_name, home_team, away_team, home_code, away_code, kickoff_time").eq("gw",A).order("fixture_index",{ascending:!0});if(Q){Y&&(k(Q.message),o([]),d({}),w(!1),_(!1));return}const N=D??[];if(!Y)return;if(o(N),N.length>0&&N[0].kickoff_time){const $e=new Date(N[0].kickoff_time),te=new Date($e.getTime()-4500*1e3);P(new Date>te)}else P(!1);const{data:G,error:U}=await J.from("picks").select("gw, fixture_index, pick").eq("gw",A).eq("user_id",r?.id);U&&Y&&k(U.message);const M={};if(N.forEach($e=>M[$e.fixture_index]=null),G?.forEach($e=>{M[$e.fixture_index]=$e.pick}),!Y)return;d(M);const{data:W,error:ne}=await J.from("gw_submissions").select("gw, submitted_at").eq("gw",A).eq("user_id",r?.id).maybeSingle();if(ne&&Y&&k(ne.message),!Y)return;w(!!W?.submitted_at);const{data:Ae,error:Ee}=await J.from("gw_results").select("gw, fixture_index, result").eq("gw",A);Ee&&Y&&k(Ee.message),Y&&m(Ae??[]),_(!1)})(),()=>{Y=!1}},[A,r?.id]);const K=x.useMemo(()=>{const Y=new Map;return i.forEach(Q=>{const N=Q.kickoff_time?new Date(Q.kickoff_time):null,G=N?N.toISOString().slice(0,10):"unknown",U=N?xC(N):"TBC";Y.has(G)||Y.set(G,{label:U,items:[]}),Y.get(G).items.push(Q)}),[...Y.entries()].sort((Q,N)=>{const G=Q[1].items[0]?.fixture_index??0,U=N[1].items[0]?.fixture_index??0;return G-U}).map(([,Q])=>Q)},[i]);function L(Y,D){g||d(Q=>({...Q,[Y]:D}))}async function we(){if(!(g||!r?.id)){y(!0),k("");try{const Y=Object.entries(c).filter(([,D])=>D).map(([D,Q])=>({user_id:r.id,gw:A,fixture_index:Number(D),pick:Q}));if(Y.length){const{error:D}=await J.from("picks").upsert(Y,{onConflict:"user_id,gw,fixture_index"});if(D)throw D}b(!0),window.setTimeout(()=>b(!1),2500)}catch(Y){k(Y?.message??"Failed to save picks.")}finally{y(!1)}}}async function X(){if(!g){if(i.length>0&&i[0].kickoff_time){const Y=new Date(i[0].kickoff_time),D=new Date(Y.getTime()-4500*1e3);if(new Date>D){const N=D.toLocaleDateString(void 0,{weekday:"short"}),G=D.toLocaleDateString(void 0,{month:"short"}),U=D.toLocaleDateString(void 0,{day:"numeric"}),M=String(D.getUTCHours()).padStart(2,"0"),W=String(D.getUTCMinutes()).padStart(2,"0"),ne=`${N}, ${G} ${U}, ${M}:${W}`;k(` Too late! Submissions closed at ${ne}. The deadline was 75 minutes before the first kickoff.`);return}}I(!0)}}async function re(){if(g)return;if(i.length>0&&i[0].kickoff_time){const N=new Date(i[0].kickoff_time),G=new Date(N.getTime()-4500*1e3);if(new Date>G){const M=G.toLocaleDateString(void 0,{weekday:"short"}),W=G.toLocaleDateString(void 0,{month:"short"}),ne=G.toLocaleDateString(void 0,{day:"numeric"}),Ae=String(G.getUTCHours()).padStart(2,"0"),Ee=String(G.getUTCMinutes()).padStart(2,"0"),$e=`${M}, ${W} ${ne}, ${Ae}:${Ee}`;k(` Too late! Submissions closed at ${$e}. The deadline was 75 minutes before the first kickoff.`),I(!1);return}}await we();const Y=i.length,D=Object.values(c).filter(Boolean).length;if(D!==Y){k(`Please make predictions for all ${Y} fixtures before submitting. You have ${D}/${Y} completed.`);return}const{error:Q}=await J.from("gw_submissions").upsert([{user_id:r?.id,gw:A,submitted_at:new Date().toISOString()}],{onConflict:"user_id,gw"});Q?k(Q.message):(w(!0),window.dispatchEvent(new CustomEvent("predictionsSubmitted"))),I(!1)}const le=new Map;f.forEach(Y=>{const D=pC(Y);D&&le.set(Y.fixture_index,D)});const H=i.length>0&&le.size>0&&le.size===i.length,oe=Object.entries(c).reduce((Y,[D,Q])=>{const N=Number(D),G=le.get(N);return!G||!Q?Y:Y+(Q===G?1:0)},0);return E?a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:a.jsx("div",{className:"text-slate-500",children:"Loading"})}):a.jsx("div",{className:`min-h-screen bg-slate-50 ${e?"oldschool-theme":""}`,children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900",children:"Predictions Center"}),a.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600 w-full",children:"Call every game, lock in your results, and climb the table."}),a.jsxs("div",{className:"text-slate-600 text-lg font-semibold mt-1",children:["Game Week ",ju(A)]}),a.jsx("div",{className:"mt-3",children:H?a.jsx("div",{className:"rounded-xl border bg-gradient-to-r from-emerald-50 to-blue-50 border-emerald-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-emerald-900 font-semibold text-lg",children:["GW ",ju(A)," Complete"]}),a.jsx("div",{className:"text-emerald-900 text-sm font-bold mt-1",children:"Your Score"})]}),a.jsx("div",{className:"text-emerald-900 text-5xl font-extrabold",children:oe})]})}):null}),S&&a.jsx("div",{className:"mt-4 rounded border border-rose-200 bg-rose-50 text-rose-700 px-3 py-2 text-sm",children:S}),!g&&i.length>0&&i[0].kickoff_time&&!j&&(()=>{const Y=new Date(i[0].kickoff_time),D=new Date(Y.getTime()-4500*1e3),Q=new Date,G=(D.getTime()-Q.getTime())/(1e3*60*60);if(G<=2&&G>0){const U=D.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"mt-4 rounded border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm",children:[" ",a.jsx("strong",{children:"Deadline approaching!"})," Submissions close at ",U," (75 minutes before first kickoff)."]})}return null})(),K.length===0?a.jsxs("div",{className:"mt-6 rounded border bg-white p-4 text-slate-600",children:["No fixtures found for GW ",ju(A),". Add fixtures on the Admin page, then come back."]}):a.jsxs("div",{className:"mt-6 space-y-6",children:[!H&&g&&a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 via-green-500 to-emerald-600 rounded-2xl p-6 text-center shadow-2xl shadow-emerald-500/30 transform scale-105 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-[shimmer_2s_ease-in-out_infinite]"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-white font-bold text-2xl mb-1",children:"Predictions Submitted!"}),a.jsxs("div",{className:"text-emerald-100 text-lg",children:["Your picks are locked in for GW ",A]}),a.jsx("div",{className:"text-emerald-200 text-sm mt-2",children:"Good luck!"})]})]}),K.map((Y,D)=>a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3",children:Y.label}),a.jsx("div",{className:"space-y-4",children:Y.items.map(Q=>{const N=yg(Q,"home"),G=yg(Q,"away"),U=Q.kickoff_time?BC(new Date(Q.kickoff_time)):"",M=c[Q.fixture_index]??null,W=le.get(Q.fixture_index)??null;return a.jsxs("div",{className:"rounded-2xl border bg-white p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center px-2 pt-1 pb-3",children:[a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-end",children:[a.jsx("div",{className:"truncate font-medium",children:N}),a.jsx("img",{src:`/assets/badges/${Q.home_code?.toUpperCase()||"UNK"}.png`,alt:N,className:"w-5 h-5",onError:ne=>{ne.currentTarget.style.display="none"}})]}),a.jsx("div",{className:"text-slate-500 text-sm px-4",children:U}),a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-start",children:[a.jsx("img",{src:`/assets/badges/${Q.away_code?.toUpperCase()||"UNK"}.png`,alt:G,className:"w-5 h-5",onError:ne=>{ne.currentTarget.style.display="none"}}),a.jsx("div",{className:"truncate font-medium",children:G})]})]}),(N==="Home"||G==="Away")&&a.jsxs("div",{className:"px-2 pb-2 text-[11px] text-slate-400",children:[N==="Home"?"[no home name/code]":""," ",G==="Away"?"[no away name/code]":""]}),H?a.jsx("div",{className:"grid grid-cols-3 gap-3",children:(()=>{const ne=c[Q.fixture_index]??null,Ae=Ee=>ne!==Ee||!W?null:W===Ee;return a.jsxs(a.Fragment,{children:[a.jsx(Iu,{label:"Home Win",correct:Ae("H"),isCorrectResult:W==="H"}),a.jsx(Iu,{label:"Draw",correct:Ae("D"),isCorrectResult:W==="D"}),a.jsx(Iu,{label:"Away Win",correct:Ae("A"),isCorrectResult:W==="A"})]})})()}):a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(Nu,{label:"Home Win",active:M==="H",onClick:()=>L(Q.fixture_index,"H"),disabled:g}),a.jsx(Nu,{label:"Draw",active:M==="D",onClick:()=>L(Q.fixture_index,"D"),disabled:g}),a.jsx(Nu,{label:"Away Win",active:M==="A",onClick:()=>L(Q.fixture_index,"A"),disabled:g})]})]},Q.fixture_index)})})]},D))]}),!H&&!g&&i.length>0&&a.jsxs("div",{className:"mt-6",children:[C&&a.jsx("div",{className:"mb-3 text-center",children:a.jsx("span",{"aria-live":"polite",className:"text-sm rounded border border-emerald-200 bg-emerald-50 text-emerald-900 px-3 py-2 inline-block",children:"Saved  don't forget to submit before the deadline."})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:we,disabled:v,className:pd("flex-1 px-4 py-3 rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors",v&&"opacity-50 cursor-not-allowed"),children:v?"Saving":C?"Saved":"Save GW"}),a.jsx("button",{onClick:X,disabled:j||Object.values(c).filter(Boolean).length!==i.length,className:pd("flex-1 px-4 py-3 rounded-md text-white font-semibold transition-colors",j?"bg-red-500 cursor-not-allowed":Object.values(c).filter(Boolean).length===i.length?"bg-emerald-600 hover:bg-emerald-700":"bg-gray-400 cursor-not-allowed"),title:j?" Submissions closed - deadline has passed":Object.values(c).filter(Boolean).length===i.length?"Submitting locks your picks for this GW.":`Complete all ${i.length} predictions before submitting`,children:j?" Deadline Passed":"Submit GW"})]}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("span",{className:"text-xs text-slate-500",children:"Submitting locks your picks for this GW."})})]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Confirm Submission"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"Are you sure you want to submit your predictions? Once submitted, they'll be locked for this Gameweek."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>I(!1),className:"flex-1 px-4 py-2 rounded-md border border-slate-300 text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:re,className:"flex-1 px-4 py-2 rounded-md bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition-colors",children:"Submit GW"})]})]})})]})})}async function bg(){const{data:r}=await J.from("meta").select("current_gw").eq("id",1).single();return r?.current_gw??null}function ju(r,e=1){return typeof r=="number"&&r>0?r:e}function xC(r){return r.toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short"})}function BC(r){const e=String(r.getUTCHours()).padStart(2,"0"),A=String(r.getUTCMinutes()).padStart(2,"0");return`${e}:${A}`}function Cg(r){return r?r.toUpperCase():"???"}function vC(r){if(!r)return null;let e=r.match(/^[A-Za-z]{3}\s+(\d{1,2}):(\d{2})\s+[A-Za-z]{3}\s+(\d{1,2})(?:st|nd|rd|th)?\s+([A-Za-z]{3})/);if(e){const[,A,n,i,o]=e,d={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[o];if(!d)return null;const f=new Date().getFullYear(),m=i.padStart(2,"0");return`${f}-${d}-${m}T${A}:${n}:00`}if(e=r.match(/^[A-Za-z]{3}\s+(\d{1,2})\s+([A-Za-z]{3})/),e){const[,A,n]=e,o={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"}[n];if(!o)return null;const c=new Date().getFullYear(),d=A.padStart(2,"0");return`${c}-${o}-${d}T15:00:00`}return null}function yC(r){if(!r)return"";const e=new Date(r);if(isNaN(e.valueOf()))return"";const A=e.toLocaleDateString(void 0,{weekday:"short"}),n=String(e.getUTCHours()).padStart(2,"0"),i=String(e.getUTCMinutes()).padStart(2,"0");return`${A} ${n}:${i}`}function bC(){const{user:r,session:e}=tr(),[A,n]=x.useState(1),[i,o]=x.useState(""),[c,d]=x.useState([]),[f,m]=x.useState({}),[g,w]=x.useState(!1),[v,y]=x.useState(""),[C,b]=x.useState(""),[E,_]=x.useState(!1),[S,k]=x.useState(null),[R,I]=x.useState(!1),[j,P]=x.useState("fixtures"),K=c.length>0,[L,we]=x.useState(null),[X,re]=x.useState(null),[le,H]=x.useState(!1),[oe,Y]=x.useState(!1),[D,Q]=x.useState(null),N=r?.id==="4542c037-5b38-40d0-b189-847b8f17c222"||r?.id==="36f31625-6d6c-4aa4-815a-1493a812841b";x.useEffect(()=>{let te=!0;return(async()=>{try{const{data:ce,error:Se}=await J.from("meta").select("current_gw").eq("id",1).single();if(Se)return;const ye=ce?.current_gw;te&&Number.isFinite(ye)&&(k(ye??null),ye&&n(ye))}catch{}})(),()=>{te=!1}},[]),x.useEffect(()=>{let te=!0;return(async()=>{y(""),b("");const{data:ce,error:Se}=await J.from("fixtures").select("*").eq("gw",A).order("fixture_index",{ascending:!0});if(Se){te&&y(Se.message);return}if(!te)return;d(ce??[]),I(!1);const{data:ye,error:We}=await J.from("gw_results").select("fixture_index, result").eq("gw",A);We&&console.warn("[Admin] load gw_results error:",We);const mt={};(ye??[]).forEach(It=>{mt[Number(It.fixture_index)]=It.result??null}),I((ye??[]).length>0),te&&m(mt)})(),()=>{te=!1}},[A]);const G=x.useMemo(()=>c.reduce((te,ce)=>te+(f[ce.fixture_index]?1:0),0),[c,f]),U=c.length>0&&G===c.length,M=Math.max(0,c.length-G);async function W(){w(!0),y(""),b("");try{const ce=i.split(`
`).map(We=>We.trim()).filter(Boolean).map((We,mt)=>{const[It,...$t]=We.split(/\s{2,}|\t/),de=It.split(/\s+/),Ve=(de[0]??"").toUpperCase(),Oe=(de[2]??"").toUpperCase(),xe=$t.join(" ").trim(),ct=vC(xe);return{gw:A,fixture_index:mt,home_team:Ve,away_team:Oe,home_code:Ve,away_code:Oe,kickoff_time:ct}}),{error:Se}=await J.from("fixtures").upsert(ce,{onConflict:"gw,fixture_index"});if(Se)throw Se;o("");const{data:ye}=await J.from("fixtures").select("*").eq("gw",A).order("fixture_index");d(ye??[]),ye&&d(ye),b("Fixtures saved!")}catch(te){y(te.message??"Failed to save fixtures.")}finally{w(!1)}}async function ne(){if(!E){_(!0);return}w(!0),y(""),b("");try{const{error:te}=await J.from("meta").update({current_gw:A}).eq("id",1);if(te)throw te;b(`Gameweek ${A} activated successfully!`),k(A),window.dispatchEvent(new CustomEvent("fixturesPublished"));try{const ce=await fetch("/.netlify/functions/sendPushAll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:`GW${A} Published`,message:`Game Week ${A} fixtures are live. Make your predictions!`,data:{type:"fixtures_published",gw:A}})}),Se=await ce.json().catch(()=>({}));if(ce.ok&&Se.ok){const ye=Se.sentTo||0,We=Se.checked||0;ye>0?(console.log(`[Admin] Push notification sent to ${ye} subscribed devices (checked ${We} total)`),b(`Gameweek ${A} activated! Push notification sent to ${ye} devices.`)):Se.warning&&(console.warn(`[Admin] Push notification warning: ${Se.warning}`),b(`Gameweek ${A} activated! (No subscribed devices found for push notifications)`))}else{console.error("[Admin] Push notification failed:",Se);const ye=Se.oneSignalErrors?`OneSignal Error: ${JSON.stringify(Se.oneSignalErrors)}`:Se.error||"Failed to send push notification";y(`Gameweek activated, but push notification failed: ${ye}`)}}catch(ce){console.error("[Admin] Push notification error:",ce),y(`Gameweek activated, but push notification failed: ${ce.message||"Network error"}`)}}catch(te){y(te.message??"Failed to activate gameweek.")}finally{w(!1),_(!1)}}async function Ae(){w(!0),y(""),b("");try{const{error:te}=await J.from("fixtures").delete().eq("gw",A);if(te)throw te;d([]),b(`Gameweek ${A} upload cancelled.`)}catch(te){y(te.message??"Failed to cancel gameweek.")}finally{w(!1)}}async function Ee(){w(!0),y(""),b("");try{if(!window.confirm(" This will publish and score all results for this Gameweek. Are you sure?")){w(!1);return}if(!U)throw new Error("Please pick a result (H/D/A/Cancelled) for every fixture before publishing.");const ce=c.map(ye=>({gw:A,fixture_index:ye.fixture_index,result:f[ye.fixture_index],decided_at:new Date().toISOString()})),{error:Se}=await J.from("gw_results").upsert(ce,{onConflict:"gw,fixture_index"});if(Se)throw Se;b(`GW ${A} results published!`),window.dispatchEvent(new CustomEvent("resultsPublished",{detail:{gw:A}}));try{const ye=await fetch("/.netlify/functions/sendPushAll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:`GW${A} Results`,message:`Results for Game Week ${A} are published. See how you scored!`,data:{type:"results_published",gw:A}})}),We=await ye.json().catch(()=>({}));if(ye.ok&&We.ok){const mt=We.sentTo||0,It=We.checked||0;mt>0?(console.log(`[Admin] Push notification sent to ${mt} subscribed devices (checked ${It} total)`),b(`GW ${A} results published! Push notification sent to ${mt} devices.`)):We.warning&&(console.warn(`[Admin] Push notification warning: ${We.warning}`),b(`GW ${A} results published! (No subscribed devices found for push notifications)`))}else{console.error("[Admin] Push notification failed:",We);const mt=We.oneSignalErrors?`OneSignal Error: ${JSON.stringify(We.oneSignalErrors)}`:We.error||"Failed to send push notification";y(`Results published, but push notification failed: ${mt}`)}}catch(ye){console.error("[Admin] Push notification error:",ye),y(`Results published, but push notification failed: ${ye.message||"Network error"}`)}}catch(te){y(te.message??"Failed to save results.")}finally{w(!1)}}async function $e(){w(!0),y(""),b("");try{const{error:te}=await J.from("gw_results").delete().eq("gw",A);if(te)throw te;m({}),b(`GW ${A} results recalled (deleted).`)}catch(te){y(te.message??"Failed to recall results.")}finally{w(!1)}}return a.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-10",children:[a.jsx("h1",{className:"mb-6 text-2xl font-semibold",children:" Admin"}),N&&a.jsx("div",{className:"mb-6 rounded border bg-white p-4",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"OneSignal Player ID (native)"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Works only inside the Despia native wrapper"}),L&&a.jsx("div",{className:"mt-1 text-sm font-mono break-all",children:L}),X!=null&&a.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["nativePushEnabled: ",String(X)]}),D&&a.jsx("div",{className:`mt-1 text-xs ${D.includes("Success")?"text-green-600":"text-red-600"}`,children:D})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:async()=>{H(!0),we(null),re(null);try{const te=globalThis;if(te&&te.despia){const ce=te.despia,Se=ce?.onesignalplayerid||null;we(Se);try{const ye=typeof ce=="function"?ce("checkNativePushPermissions://",["nativePushEnabled"]):null;ye&&typeof ye=="object"&&"nativePushEnabled"in ye&&re(!!ye.nativePushEnabled)}catch{}}else try{const ye=(await import("despia-native"))?.default,We=ye?.onesignalplayerid||null;we(We);try{const mt=typeof ye=="function"?ye("checkNativePushPermissions://",["nativePushEnabled"]):null;mt&&typeof mt=="object"&&"nativePushEnabled"in mt&&re(!!mt.nativePushEnabled)}catch{}}catch{we(null)}}finally{H(!1)}},className:"rounded bg-slate-900 px-3 py-2 text-white disabled:opacity-50 text-sm",disabled:le,children:le?"Checking":"Show Player ID"}),a.jsx("button",{onClick:async()=>{if(!L){Q("Please check Player ID first");return}Y(!0),Q(null);try{if(!r||!e?.access_token){Q("Error: Not signed in");return}const te=await fetch("/.netlify/functions/registerPlayer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({playerId:L,platform:"ios"})}),ce=await te.json();te.ok?Q(`Success! Registered ${L.slice(0,8)}`):Q(`Error: ${ce.error||"Unknown error"}`)}catch(te){Q(`Error: ${te.message||"Failed to register"}`)}finally{Y(!1)}},className:"rounded bg-emerald-600 px-3 py-2 text-white disabled:opacity-50 text-sm",disabled:oe||!L,children:oe?"Registering":"Register Device"})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"mr-2",children:"GW"}),a.jsx("select",{value:A,onChange:te=>n(parseInt(te.target.value,10)),className:"rounded border px-2 py-1",children:Array.from({length:38},(te,ce)=>ce+1).map(te=>a.jsx("option",{value:te,children:te},te))})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"inline-flex rounded-full bg-slate-100 p-1 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>P("fixtures"),className:`px-3 py-1 rounded-full transition ${j==="fixtures"?"bg-white shadow font-semibold text-slate-900":"text-slate-600 hover:text-slate-900"}`,children:"Fixtures"}),a.jsx("button",{type:"button",onClick:()=>P("results"),className:`ml-1 px-3 py-1 rounded-full transition ${j==="results"?"bg-white shadow font-semibold text-slate-900":"text-slate-600 hover:text-slate-900"}`,children:"Results"})]})}),v&&a.jsx("div",{className:"mb-4 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:v}),C&&a.jsx("div",{className:"mb-4 rounded border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800",children:C}),j==="fixtures"&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Review Fixtures"}),c.length===0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mb-3 text-slate-500",children:["No fixtures uploaded for GW ",A," yet."]}),a.jsx("h3",{className:"mb-2 text-base font-semibold",children:"Add Fixtures"}),a.jsx("textarea",{value:i,onChange:te=>o(te.target.value),rows:8,className:"w-full rounded border p-2 font-mono text-sm",placeholder:`BRE v MUN	Sat 12:30 Sat 28th Sep
CHE v BHA	Sat 15:00 Sat 28th Sep`}),a.jsx("button",{onClick:W,disabled:g,className:"mt-2 rounded bg-slate-900 px-3 py-2 text-white disabled:opacity-50",children:g?"Saving":"Save Fixtures"})]}):a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"mb-2",children:c.map(te=>a.jsxs("li",{className:"py-1",children:[a.jsx("span",{className:"font-semibold",children:Sn(te.home_code||te.home_team||"HOME")})," ",a.jsx("span",{className:"text-slate-400",children:"v"})," ",a.jsx("span",{className:"font-semibold",children:Sn(te.away_code||te.away_team||"AWAY")}),a.jsx("span",{className:"ml-2 text-slate-500",children:te.kickoff_time?yC(te.kickoff_time):"TBD"})]},te.fixture_index))}),a.jsxs("div",{className:"mt-6 flex gap-4",children:[a.jsx("button",{onClick:ne,disabled:g||!K||S===A,className:`rounded px-4 py-3 font-semibold text-white ${g||!K||S===A?"bg-emerald-300 cursor-not-allowed":"bg-emerald-700 hover:bg-emerald-800"}`,title:K?S===A?"This gameweek is already active":"Activate this gameweek":"Add fixtures first",children:E?"Are you sure? Click again to confirm.":`Activate Gameweek ${A}`}),a.jsx("button",{onClick:Ae,disabled:g,className:"rounded bg-rose-600 px-4 py-3 text-white font-semibold hover:bg-rose-700",children:"Cancel Upload"})]})]})]}),j==="results"&&a.jsxs("div",{children:[a.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Enter Results"}),c.length===0?a.jsxs("p",{className:"text-slate-500",children:["No fixtures yet for GW ",A,"."]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-2 text-xs text-slate-500",children:U?"All fixtures selected (H/D/A/Cancelled).":`Pick results for ${M} more fixture${M===1?"":"s"} (H/D/A/Cancelled).`}),a.jsxs("table",{className:"w-full border text-sm",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-1 text-left",children:"Fixture"}),a.jsx("th",{className:"px-2 py-1",children:"Home Win"}),a.jsx("th",{className:"px-2 py-1",children:"Draw"}),a.jsx("th",{className:"px-2 py-1",children:"Away Win"}),a.jsx("th",{className:"px-2 py-1",children:"Cancelled"})]})}),a.jsx("tbody",{children:c.map(te=>{const ce=Cg(te.home_code||te.home_team),Se=Cg(te.away_code||te.away_team);return a.jsxs("tr",{className:"border-t",children:[a.jsxs("td",{className:"px-2 py-1",children:[ce," ",a.jsx("span",{className:"text-slate-400",children:"v"})," ",Se]}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("button",{type:"button",onClick:()=>m(ye=>({...ye,[te.fixture_index]:"H"})),className:`w-12 h-8 rounded-md font-semibold text-sm transition-colors ${(f[te.fixture_index]??null)==="H"?"bg-emerald-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"H"})}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("button",{type:"button",onClick:()=>m(ye=>({...ye,[te.fixture_index]:"D"})),className:`w-12 h-8 rounded-md font-semibold text-sm transition-colors ${(f[te.fixture_index]??null)==="D"?"bg-emerald-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"D"})}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("button",{type:"button",onClick:()=>m(ye=>({...ye,[te.fixture_index]:"A"})),className:`w-12 h-8 rounded-md font-semibold text-sm transition-colors ${(f[te.fixture_index]??null)==="A"?"bg-emerald-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"A"})}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("button",{type:"button",onClick:()=>m(ye=>({...ye,[te.fixture_index]:"N"})),className:`w-8 h-6 rounded text-xs transition-colors ${(f[te.fixture_index]??null)==="N"?"bg-red-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:"N"})})]},te.fixture_index)})})]}),a.jsxs("div",{className:"mt-3 flex gap-3",children:[a.jsx("button",{onClick:Ee,disabled:g||!U||R,className:`rounded px-3 py-2 text-white ${R?"bg-gray-300 cursor-not-allowed text-gray-700":"bg-red-600"} disabled:opacity-50`,title:R?"Results already published for this GW":U?"Publish gameweek results":"Pick a result for every fixture",children:g?"Publishing":"Publish GW"}),a.jsx("button",{onClick:$e,disabled:g||!R,className:`rounded px-3 py-2 ${R?"bg-gray-300 text-gray-900 hover:bg-gray-400":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,title:R?"Delete published results for this GW":"No published results to recall",children:"Recall GW"})]})]})]})]})}function CC(){const[r,e]=x.useState(!1),[A,n]=x.useState(!1),[i,o]=x.useState(!1),[c,d]=x.useState(!1),[f,m]=x.useState(!1);x.useEffect(()=>{localStorage.getItem("whatsappBannerSeen")||e(!0)},[]),x.useEffect(()=>{if(!r)return;n(!0);const y=setTimeout(()=>{o(!0)},400),C=setTimeout(()=>{d(!0)},800),b=setTimeout(()=>{m(!0)},2e3);return()=>{clearTimeout(y),clearTimeout(C),clearTimeout(b)}},[r]);const g=()=>{window.open("https://chat.whatsapp.com/G2siRAr22kR2tOAcYAkLTp","_blank"),localStorage.setItem("whatsappBannerSeen","true"),e(!1)},w=()=>{e(!1)},v=()=>{localStorage.setItem("whatsappBannerSeen","true"),e(!1)};return r?a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes bounceIn {
          0% {
            transform: scale(0.3);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
            opacity: 0.8;
          }
          70% {
            transform: scale(0.9);
            opacity: 0.9;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-bounce-in {
          animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) both;
        }
        .animate-bounce-in-delayed {
          animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.4s both;
        }
        .animate-bounce-in-button {
          animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.8s both;
        }
      `}),a.jsx("div",{className:"p-4 mb-4 rounded-lg shadow-lg h-[220px]",style:{backgroundColor:"#1C8376"},children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-2 min-h-[60px]",children:[a.jsx("div",{className:"flex justify-start",children:A&&a.jsx("div",{className:"bg-white rounded-2xl rounded-bl-md px-4 py-2 shadow-sm max-w-xs animate-bounce-in",children:a.jsx("h3",{className:"text-gray-800 font-medium text-sm",children:" We're on WhatsApp!  "})})}),a.jsx("div",{className:"flex justify-end",children:i&&a.jsx("div",{className:"bg-white rounded-2xl rounded-br-md px-4 py-2 shadow-sm animate-bounce-in-delayed",children:a.jsxs("h3",{className:"text-gray-800 font-medium text-sm",children:["Never miss a Game Week - join for",a.jsx("br",{className:"sm:hidden"})," instant alerts   "]})})})]}),c&&a.jsx("div",{className:"flex justify-center animate-bounce-in-button",children:a.jsxs("button",{onClick:g,className:"bg-white hover:bg-gray-100 px-6 py-3 rounded-full text-sm font-semibold transition-colors shadow-md flex items-center gap-2",style:{color:"#1C8376"},children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488",fill:"#25D366"})}),"Get Alerts"]})}),f&&a.jsxs("div",{className:"flex items-center justify-center gap-4 pb-4",children:[a.jsx("button",{onClick:w,className:"text-white/80 hover:text-white text-xs transition-colors underline",children:"Maybe Later"}),a.jsx("button",{onClick:v,className:"text-white/80 hover:text-white text-xs transition-colors underline",title:"Don't show again",children:"Don't show again"})]})]})})]}):null}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wd=function(r,e){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(A[i]=n[i])},wd(r,e)};function _r(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wd(r,e);function A(){this.constructor=r}r.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var xd=function(){return xd=Object.assign||function(e){for(var A,n=1,i=arguments.length;n<i;n++){A=arguments[n];for(var o in A)Object.prototype.hasOwnProperty.call(A,o)&&(e[o]=A[o])}return e},xd.apply(this,arguments)};function PA(r,e,A,n){function i(o){return o instanceof A?o:new A(function(c){c(o)})}return new(A||(A=Promise))(function(o,c){function d(g){try{m(n.next(g))}catch(w){c(w)}}function f(g){try{m(n.throw(g))}catch(w){c(w)}}function m(g){g.done?o(g.value):i(g.value).then(d,f)}m((n=n.apply(r,[])).next())})}function jA(r,e){var A={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(g){return f([m,g])}}function f(m){if(n)throw new TypeError("Generator is already executing.");for(;A;)try{if(n=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return A.label++,{value:m[1],done:!1};case 5:A.label++,i=m[1],m=[0];continue;case 7:m=A.ops.pop(),A.trys.pop();continue;default:if(o=A.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){A=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){A.label=m[1];break}if(m[0]===6&&A.label<o[1]){A.label=o[1],o=m;break}if(o&&A.label<o[2]){A.label=o[2],A.ops.push(m);break}o[2]&&A.ops.pop(),A.trys.pop();continue}m=e.call(r,A)}catch(g){m=[6,g],i=0}finally{n=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function jo(r,e,A){if(arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||e)}var Zr=(function(){function r(e,A,n,i){this.left=e,this.top=A,this.width=n,this.height=i}return r.prototype.add=function(e,A,n,i){return new r(this.left+e,this.top+A,this.width+n,this.height+i)},r.fromClientRect=function(e,A){return new r(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},r.fromDOMRectList=function(e,A){var n=Array.from(A).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),Fl=function(r,e){return Zr.fromClientRect(r,e.getBoundingClientRect())},EC=function(r){var e=r.body,A=r.documentElement;if(!e||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),i=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new Zr(0,0,n,i)},Sl=function(r){for(var e=[],A=0,n=r.length;A<n;){var i=r.charCodeAt(A++);if(i>=55296&&i<=56319&&A<n){var o=r.charCodeAt(A++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),A--)}else e.push(i)}return e},lA=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var A=r.length;if(!A)return"";for(var n=[],i=-1,o="";++i<A;){var c=r[i];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(i+1===A||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},Eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var To=0;To<Eg.length;To++)QC[Eg.charCodeAt(To)]=To;var Qg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lo=0;Lo<Qg.length;Lo++)qi[Qg.charCodeAt(Lo)]=Lo;var UC=function(r){var e=r.length*.75,A=r.length,n,i=0,o,c,d,f;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<A;n+=4)o=qi[r.charCodeAt(n)],c=qi[r.charCodeAt(n+1)],d=qi[r.charCodeAt(n+2)],f=qi[r.charCodeAt(n+3)],g[i++]=o<<2|c>>4,g[i++]=(c&15)<<4|d>>2,g[i++]=(d&3)<<6|f&63;return m},_C=function(r){for(var e=r.length,A=[],n=0;n<e;n+=2)A.push(r[n+1]<<8|r[n]);return A},FC=function(r){for(var e=r.length,A=[],n=0;n<e;n+=4)A.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return A},ls=5,tf=11,Tu=2,SC=tf-ls,g0=65536>>ls,kC=1<<ls,Lu=kC-1,NC=1024>>ls,IC=g0+NC,jC=IC,TC=32,LC=jC+TC,HC=65536>>tf,DC=1<<SC,PC=DC-1,Ug=function(r,e,A){return r.slice?r.slice(e,A):new Uint16Array(Array.prototype.slice.call(r,e,A))},RC=function(r,e,A){return r.slice?r.slice(e,A):new Uint32Array(Array.prototype.slice.call(r,e,A))},OC=function(r,e){var A=UC(r),n=Array.isArray(A)?FC(A):new Uint32Array(A),i=Array.isArray(A)?_C(A):new Uint16Array(A),o=24,c=Ug(i,o/2,n[4]/2),d=n[5]===2?Ug(i,(o+n[4])/2):RC(n,Math.ceil((o+n[4])/4));return new MC(n[0],n[1],n[2],n[3],c,d)},MC=(function(){function r(e,A,n,i,o,c){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=i,this.index=o,this.data=c}return r.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>ls],A=(A<<Tu)+(e&Lu),this.data[A];if(e<=65535)return A=this.index[g0+(e-55296>>ls)],A=(A<<Tu)+(e&Lu),this.data[A];if(e<this.highStart)return A=LC-HC+(e>>tf),A=this.index[A],A+=e>>ls&PC,A=this.index[A],A=(A<<Tu)+(e&Lu),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),_g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ho=0;Ho<_g.length;Ho++)KC[_g.charCodeAt(Ho)]=Ho;var GC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Fg=50,$C=1,p0=2,w0=3,WC=4,VC=5,Sg=7,x0=8,kg=9,kn=10,Bd=11,Ng=12,vd=13,zC=14,Zi=15,yd=16,Do=17,Vi=18,JC=19,Ig=20,bd=21,zi=22,Hu=23,Vs=24,ZA=25,ea=26,ta=27,zs=28,XC=29,is=30,YC=31,Po=32,Ro=33,Cd=34,Ed=35,Qd=36,pa=37,Ud=38,al=39,ol=40,Du=41,B0=42,qC=43,ZC=[9001,65288],v0="!",Ht="",Oo="",_d=OC(GC),Wr=[is,Qd],Fd=[$C,p0,w0,VC],y0=[kn,x0],jg=[ta,ea],e1=Fd.concat(y0),Tg=[Ud,al,ol,Cd,Ed],t1=[Zi,vd],A1=function(r,e){e===void 0&&(e="strict");var A=[],n=[],i=[];return r.forEach(function(o,c){var d=_d.get(o);if(d>Fg?(i.push(!0),d-=Fg):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(c),A.push(yd);if(d===WC||d===Bd){if(c===0)return n.push(c),A.push(is);var f=A[c-1];return e1.indexOf(f)===-1?(n.push(n[c-1]),A.push(f)):(n.push(c),A.push(is))}if(n.push(c),d===YC)return A.push(e==="strict"?bd:pa);if(d===B0||d===XC)return A.push(is);if(d===qC)return o>=131072&&o<=196605||o>=196608&&o<=262141?A.push(pa):A.push(is);A.push(d)}),[n,A,i]},Pu=function(r,e,A,n){var i=n[A];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var o=A;o<=n.length;){o++;var c=n[o];if(c===e)return!0;if(c!==kn)break}if(i===kn)for(var o=A;o>0;){o--;var d=n[o];if(Array.isArray(r)?r.indexOf(d)!==-1:r===d)for(var f=A;f<=n.length;){f++;var c=n[f];if(c===e)return!0;if(c!==kn)break}if(d!==kn)break}return!1},Lg=function(r,e){for(var A=r;A>=0;){var n=e[A];if(n===kn)A--;else return n}return 0},r1=function(r,e,A,n,i){if(A[n]===0)return Ht;var o=n-1;if(Array.isArray(i)&&i[o]===!0)return Ht;var c=o-1,d=o+1,f=e[o],m=c>=0?e[c]:0,g=e[d];if(f===p0&&g===w0)return Ht;if(Fd.indexOf(f)!==-1)return v0;if(Fd.indexOf(g)!==-1||y0.indexOf(g)!==-1)return Ht;if(Lg(o,e)===x0)return Oo;if(_d.get(r[o])===Bd||(f===Po||f===Ro)&&_d.get(r[d])===Bd||f===Sg||g===Sg||f===kg||[kn,vd,Zi].indexOf(f)===-1&&g===kg||[Do,Vi,JC,Vs,zs].indexOf(g)!==-1||Lg(o,e)===zi||Pu(Hu,zi,o,e)||Pu([Do,Vi],bd,o,e)||Pu(Ng,Ng,o,e))return Ht;if(f===kn)return Oo;if(f===Hu||g===Hu)return Ht;if(g===yd||f===yd)return Oo;if([vd,Zi,bd].indexOf(g)!==-1||f===zC||m===Qd&&t1.indexOf(f)!==-1||f===zs&&g===Qd||g===Ig||Wr.indexOf(g)!==-1&&f===ZA||Wr.indexOf(f)!==-1&&g===ZA||f===ta&&[pa,Po,Ro].indexOf(g)!==-1||[pa,Po,Ro].indexOf(f)!==-1&&g===ea||Wr.indexOf(f)!==-1&&jg.indexOf(g)!==-1||jg.indexOf(f)!==-1&&Wr.indexOf(g)!==-1||[ta,ea].indexOf(f)!==-1&&(g===ZA||[zi,Zi].indexOf(g)!==-1&&e[d+1]===ZA)||[zi,Zi].indexOf(f)!==-1&&g===ZA||f===ZA&&[ZA,zs,Vs].indexOf(g)!==-1)return Ht;if([ZA,zs,Vs,Do,Vi].indexOf(g)!==-1)for(var w=o;w>=0;){var v=e[w];if(v===ZA)return Ht;if([zs,Vs].indexOf(v)!==-1)w--;else break}if([ta,ea].indexOf(g)!==-1)for(var w=[Do,Vi].indexOf(f)!==-1?c:o;w>=0;){var v=e[w];if(v===ZA)return Ht;if([zs,Vs].indexOf(v)!==-1)w--;else break}if(Ud===f&&[Ud,al,Cd,Ed].indexOf(g)!==-1||[al,Cd].indexOf(f)!==-1&&[al,ol].indexOf(g)!==-1||[ol,Ed].indexOf(f)!==-1&&g===ol||Tg.indexOf(f)!==-1&&[Ig,ea].indexOf(g)!==-1||Tg.indexOf(g)!==-1&&f===ta||Wr.indexOf(f)!==-1&&Wr.indexOf(g)!==-1||f===Vs&&Wr.indexOf(g)!==-1||Wr.concat(ZA).indexOf(f)!==-1&&g===zi&&ZC.indexOf(r[d])===-1||Wr.concat(ZA).indexOf(g)!==-1&&f===Vi)return Ht;if(f===Du&&g===Du){for(var y=A[o],C=1;y>0&&(y--,e[y]===Du);)C++;if(C%2!==0)return Ht}return f===Po&&g===Ro?Ht:Oo},n1=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=A1(r,e.lineBreak),n=A[0],i=A[1],o=A[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(d){return[ZA,is,B0].indexOf(d)!==-1?pa:d}));var c=e.wordBreak==="keep-all"?o.map(function(d,f){return d&&r[f]>=19968&&r[f]<=40959}):void 0;return[n,i,c]},s1=(function(){function r(e,A,n,i){this.codePoints=e,this.required=A===v0,this.start=n,this.end=i}return r.prototype.slice=function(){return lA.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),i1=function(r,e){var A=Sl(r),n=n1(A,e),i=n[0],o=n[1],c=n[2],d=A.length,f=0,m=0;return{next:function(){if(m>=d)return{done:!0,value:null};for(var g=Ht;m<d&&(g=r1(A,o,i,++m,c))===Ht;);if(g!==Ht||m===d){var w=new s1(A,g,f,m);return f=m,{value:w,done:!1}}return{done:!0,value:null}}}},a1=1,o1=2,ba=4,Hg=8,gl=10,Dg=47,oa=92,l1=9,c1=32,Mo=34,Ji=61,u1=35,d1=36,f1=37,Ko=39,Go=40,Xi=41,h1=95,zA=45,m1=33,g1=60,p1=62,w1=64,x1=91,B1=93,v1=61,y1=123,$o=63,b1=125,Pg=124,C1=126,E1=128,Rg=65533,Ru=42,os=43,Q1=44,U1=58,_1=59,wa=46,F1=0,S1=8,k1=11,N1=14,I1=31,j1=127,Ir=-1,b0=48,C0=97,E0=101,T1=102,L1=117,H1=122,Q0=65,U0=69,_0=70,D1=85,P1=90,TA=function(r){return r>=b0&&r<=57},R1=function(r){return r>=55296&&r<=57343},Js=function(r){return TA(r)||r>=Q0&&r<=_0||r>=C0&&r<=T1},O1=function(r){return r>=C0&&r<=H1},M1=function(r){return r>=Q0&&r<=P1},K1=function(r){return O1(r)||M1(r)},G1=function(r){return r>=E1},Wo=function(r){return r===gl||r===l1||r===c1},pl=function(r){return K1(r)||G1(r)||r===h1},Og=function(r){return pl(r)||TA(r)||r===zA},$1=function(r){return r>=F1&&r<=S1||r===k1||r>=N1&&r<=I1||r===j1},_n=function(r,e){return r!==oa?!1:e!==gl},Vo=function(r,e,A){return r===zA?pl(e)||_n(e,A):pl(r)?!0:!!(r===oa&&_n(r,e))},Ou=function(r,e,A){return r===os||r===zA?TA(e)?!0:e===wa&&TA(A):TA(r===wa?e:r)},W1=function(r){var e=0,A=1;(r[e]===os||r[e]===zA)&&(r[e]===zA&&(A=-1),e++);for(var n=[];TA(r[e]);)n.push(r[e++]);var i=n.length?parseInt(lA.apply(void 0,n),10):0;r[e]===wa&&e++;for(var o=[];TA(r[e]);)o.push(r[e++]);var c=o.length,d=c?parseInt(lA.apply(void 0,o),10):0;(r[e]===U0||r[e]===E0)&&e++;var f=1;(r[e]===os||r[e]===zA)&&(r[e]===zA&&(f=-1),e++);for(var m=[];TA(r[e]);)m.push(r[e++]);var g=m.length?parseInt(lA.apply(void 0,m),10):0;return A*(i+d*Math.pow(10,-c))*Math.pow(10,f*g)},V1={type:2},z1={type:3},J1={type:4},X1={type:13},Y1={type:8},q1={type:21},Z1={type:9},eE={type:10},tE={type:11},AE={type:12},rE={type:14},zo={type:23},nE={type:1},sE={type:25},iE={type:24},aE={type:26},oE={type:27},lE={type:28},cE={type:29},uE={type:31},Sd={type:32},F0=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Sl(e))},r.prototype.read=function(){for(var e=[],A=this.consumeToken();A!==Sd;)e.push(A),A=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Mo:return this.consumeStringToken(Mo);case u1:var A=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Og(A)||_n(n,i)){var o=Vo(A,n,i)?o1:a1,c=this.consumeName();return{type:5,value:c,flags:o}}break;case d1:if(this.peekCodePoint(0)===Ji)return this.consumeCodePoint(),X1;break;case Ko:return this.consumeStringToken(Ko);case Go:return V1;case Xi:return z1;case Ru:if(this.peekCodePoint(0)===Ji)return this.consumeCodePoint(),rE;break;case os:if(Ou(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Q1:return J1;case zA:var d=e,f=this.peekCodePoint(0),m=this.peekCodePoint(1);if(Ou(d,f,m))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Vo(d,f,m))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(f===zA&&m===p1)return this.consumeCodePoint(),this.consumeCodePoint(),iE;break;case wa:if(Ou(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Dg:if(this.peekCodePoint(0)===Ru)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===Ru&&(g=this.consumeCodePoint(),g===Dg))return this.consumeToken();if(g===Ir)return this.consumeToken()}break;case U1:return aE;case _1:return oE;case g1:if(this.peekCodePoint(0)===m1&&this.peekCodePoint(1)===zA&&this.peekCodePoint(2)===zA)return this.consumeCodePoint(),this.consumeCodePoint(),sE;break;case w1:var w=this.peekCodePoint(0),v=this.peekCodePoint(1),y=this.peekCodePoint(2);if(Vo(w,v,y)){var c=this.consumeName();return{type:7,value:c}}break;case x1:return lE;case oa:if(_n(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case B1:return cE;case v1:if(this.peekCodePoint(0)===Ji)return this.consumeCodePoint(),Y1;break;case y1:return tE;case b1:return AE;case L1:case D1:var C=this.peekCodePoint(0),b=this.peekCodePoint(1);return C===os&&(Js(b)||b===$o)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Pg:if(this.peekCodePoint(0)===Ji)return this.consumeCodePoint(),Z1;if(this.peekCodePoint(0)===Pg)return this.consumeCodePoint(),q1;break;case C1:if(this.peekCodePoint(0)===Ji)return this.consumeCodePoint(),eE;break;case Ir:return Sd}return Wo(e)?(this.consumeWhiteSpace(),uE):TA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pl(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:lA(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],A=this.consumeCodePoint();Js(A)&&e.length<6;)e.push(A),A=this.consumeCodePoint();for(var n=!1;A===$o&&e.length<6;)e.push(A),A=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(lA.apply(void 0,e.map(function(f){return f===$o?b0:f})),16),o=parseInt(lA.apply(void 0,e.map(function(f){return f===$o?_0:f})),16);return{type:30,start:i,end:o}}var c=parseInt(lA.apply(void 0,e),16);if(this.peekCodePoint(0)===zA&&Js(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var d=[];Js(A)&&d.length<6;)d.push(A),A=this.consumeCodePoint();var o=parseInt(lA.apply(void 0,d),16);return{type:30,start:c,end:o}}else return{type:30,start:c,end:c}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Go?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Go?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ir)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===Ko||A===Mo){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ir||this.peekCodePoint(0)===Xi)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),zo)}for(;;){var i=this.consumeCodePoint();if(i===Ir||i===Xi)return{type:22,value:lA.apply(void 0,e)};if(Wo(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ir||this.peekCodePoint(0)===Xi?(this.consumeCodePoint(),{type:22,value:lA.apply(void 0,e)}):(this.consumeBadUrlRemnants(),zo);if(i===Mo||i===Ko||i===Go||$1(i))return this.consumeBadUrlRemnants(),zo;if(i===oa)if(_n(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),zo;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;Wo(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Xi||e===Ir)return;_n(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var A=5e4,n="";e>0;){var i=Math.min(A,e);n+=lA.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var A="",n=0;do{var i=this._value[n];if(i===Ir||i===void 0||i===e)return A+=this.consumeStringSlice(n),{type:0,value:A};if(i===gl)return this._value.splice(0,n),nE;if(i===oa){var o=this._value[n+1];o!==Ir&&o!==void 0&&(o===gl?(A+=this.consumeStringSlice(n),n=-1,this._value.shift()):_n(i,o)&&(A+=this.consumeStringSlice(n),A+=lA(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],A=ba,n=this.peekCodePoint(0);for((n===os||n===zA)&&e.push(this.consumeCodePoint());TA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===wa&&TA(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=Hg;TA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===U0||n===E0)&&((i===os||i===zA)&&TA(o)||TA(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=Hg;TA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[W1(e),A]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),A=e[0],n=e[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),c=this.peekCodePoint(2);if(Vo(i,o,c)){var d=this.consumeName();return{type:15,number:A,flags:n,unit:d}}return i===f1?(this.consumeCodePoint(),{type:16,number:A,flags:n}):{type:17,number:A,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Js(e)){for(var A=lA(e);Js(this.peekCodePoint(0))&&A.length<6;)A+=lA(this.consumeCodePoint());Wo(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(A,16);return n===0||R1(n)||n>1114111?Rg:n}return e===Ir?Rg:e},r.prototype.consumeName=function(){for(var e="";;){var A=this.consumeCodePoint();if(Og(A))e+=lA(A);else if(_n(A,this.peekCodePoint(0)))e+=lA(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(A),e}},r})(),S0=(function(){function r(e){this._tokens=e}return r.create=function(e){var A=new F0;return A.write(e),new r(A.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var A=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var A=this.consumeComponentValue();if(A.type===32)return e;e.push(A),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var A={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||fE(n,e))return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var A={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Sd:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),Ca=function(r){return r.type===15},fi=function(r){return r.type===17},Gt=function(r){return r.type===20},dE=function(r){return r.type===0},kd=function(r,e){return Gt(r)&&r.value===e},k0=function(r){return r.type!==31},oi=function(r){return r.type!==31&&r.type!==4},Tr=function(r){var e=[],A=[];return r.forEach(function(n){if(n.type===4){if(A.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(A),A=[];return}n.type!==31&&A.push(n)}),A.length&&e.push(A),e},fE=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Ln=function(r){return r.type===17||r.type===15},fA=function(r){return r.type===16||Ln(r)},N0=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},FA={type:17,number:0,flags:ba},Af={type:16,number:50,flags:ba},Nn={type:16,number:100,flags:ba},Aa=function(r,e,A){var n=r[0],i=r[1];return[Xt(n,e),Xt(typeof i<"u"?i:n,A)]},Xt=function(r,e){if(r.type===16)return r.number/100*e;if(Ca(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},I0="deg",j0="grad",T0="rad",L0="turn",kl={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case I0:return Math.PI*e.number/180;case j0:return Math.PI/200*e.number;case T0:return e.number;case L0:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},H0=function(r){return r.type===15&&(r.unit===I0||r.unit===j0||r.unit===T0||r.unit===L0)},D0=function(r){var e=r.filter(Gt).map(function(A){return A.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[FA,FA];case"to top":case"bottom":return ur(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[FA,Nn];case"to right":case"left":return ur(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Nn,Nn];case"to bottom":case"top":return ur(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Nn,FA];case"to left":case"right":return ur(270)}return 0},ur=function(r){return Math.PI*r/180},jn={name:"color",parse:function(r,e){if(e.type===18){var A=hE[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);return In(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3),c=e.value.substring(3,4);return In(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(c+c,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6);return In(parseInt(n,16),parseInt(i,16),parseInt(o,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),c=e.value.substring(6,8);return In(parseInt(n,16),parseInt(i,16),parseInt(o,16),parseInt(c,16)/255)}}if(e.type===20){var d=Yr[e.value.toUpperCase()];if(typeof d<"u")return d}return Yr.TRANSPARENT}},Tn=function(r){return(255&r)===0},bA=function(r){var e=255&r,A=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+A+","+e/255+")":"rgb("+i+","+n+","+A+")"},In=function(r,e,A,n){return(r<<24|e<<16|A<<8|Math.round(n*255)<<0)>>>0},Mg=function(r,e){if(r.type===17)return r.number;if(r.type===16){var A=e===3?1:255;return e===3?r.number/100*A:Math.round(r.number/100*A)}return 0},Kg=function(r,e){var A=e.filter(oi);if(A.length===3){var n=A.map(Mg),i=n[0],o=n[1],c=n[2];return In(i,o,c,1)}if(A.length===4){var d=A.map(Mg),i=d[0],o=d[1],c=d[2],f=d[3];return In(i,o,c,f)}return 0};function Mu(r,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-r)*A*6+r:A<1/2?e:A<2/3?(e-r)*6*(2/3-A)+r:r}var Gg=function(r,e){var A=e.filter(oi),n=A[0],i=A[1],o=A[2],c=A[3],d=(n.type===17?ur(n.number):kl.parse(r,n))/(Math.PI*2),f=fA(i)?i.number/100:0,m=fA(o)?o.number/100:0,g=typeof c<"u"&&fA(c)?Xt(c,1):1;if(f===0)return In(m*255,m*255,m*255,1);var w=m<=.5?m*(f+1):m+f-m*f,v=m*2-w,y=Mu(v,w,d+1/3),C=Mu(v,w,d),b=Mu(v,w,d-1/3);return In(y*255,C*255,b*255,g)},hE={hsl:Gg,hsla:Gg,rgb:Kg,rgba:Kg},la=function(r,e){return jn.parse(r,S0.create(e).parseComponentValue())},Yr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},mE={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(A){if(Gt(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gE={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Nl=function(r,e){var A=jn.parse(r,e[0]),n=e[1];return n&&fA(n)?{color:A,stop:n}:{color:A,stop:null}},$g=function(r,e){var A=r[0],n=r[r.length-1];A.stop===null&&(A.stop=FA),n.stop===null&&(n.stop=Nn);for(var i=[],o=0,c=0;c<r.length;c++){var d=r[c].stop;if(d!==null){var f=Xt(d,e);f>o?i.push(f):i.push(o),o=f}else i.push(null)}for(var m=null,c=0;c<i.length;c++){var g=i[c];if(g===null)m===null&&(m=c);else if(m!==null){for(var w=c-m,v=i[m-1],y=(g-v)/(w+1),C=1;C<=w;C++)i[m+C-1]=y*C;m=null}}return r.map(function(b,E){var _=b.color;return{color:_,stop:Math.max(Math.min(1,i[E]/e),0)}})},pE=function(r,e,A){var n=e/2,i=A/2,o=Xt(r[0],e)-n,c=i-Xt(r[1],A);return(Math.atan2(c,o)+Math.PI*2)%(Math.PI*2)},wE=function(r,e,A){var n=typeof r=="number"?r:pE(r,e,A),i=Math.abs(e*Math.sin(n))+Math.abs(A*Math.cos(n)),o=e/2,c=A/2,d=i/2,f=Math.sin(n-Math.PI/2)*d,m=Math.cos(n-Math.PI/2)*d;return[i,o-m,o+m,c-f,c+f]},br=function(r,e){return Math.sqrt(r*r+e*e)},Wg=function(r,e,A,n,i){var o=[[0,0],[0,e],[r,0],[r,e]];return o.reduce(function(c,d){var f=d[0],m=d[1],g=br(A-f,n-m);return(i?g<c.optimumDistance:g>c.optimumDistance)?{optimumCorner:d,optimumDistance:g}:c},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},xE=function(r,e,A,n,i){var o=0,c=0;switch(r.size){case 0:r.shape===0?o=c=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-i)):r.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-n)),c=Math.min(Math.abs(A),Math.abs(A-i)));break;case 2:if(r.shape===0)o=c=Math.min(br(e,A),br(e,A-i),br(e-n,A),br(e-n,A-i));else if(r.shape===1){var d=Math.min(Math.abs(A),Math.abs(A-i))/Math.min(Math.abs(e),Math.abs(e-n)),f=Wg(n,i,e,A,!0),m=f[0],g=f[1];o=br(m-e,(g-A)/d),c=d*o}break;case 1:r.shape===0?o=c=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-i)):r.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-n)),c=Math.max(Math.abs(A),Math.abs(A-i)));break;case 3:if(r.shape===0)o=c=Math.max(br(e,A),br(e,A-i),br(e-n,A),br(e-n,A-i));else if(r.shape===1){var d=Math.max(Math.abs(A),Math.abs(A-i))/Math.max(Math.abs(e),Math.abs(e-n)),w=Wg(n,i,e,A,!1),m=w[0],g=w[1];o=br(m-e,(g-A)/d),c=d*o}break}return Array.isArray(r.size)&&(o=Xt(r.size[0],n),c=r.size.length===2?Xt(r.size[1],i):o),[o,c]},BE=function(r,e){var A=ur(180),n=[];return Tr(e).forEach(function(i,o){if(o===0){var c=i[0];if(c.type===20&&c.value==="to"){A=D0(i);return}else if(H0(c)){A=kl.parse(r,c);return}}var d=Nl(r,i);n.push(d)}),{angle:A,stops:n,type:1}},Jo=function(r,e){var A=ur(180),n=[];return Tr(e).forEach(function(i,o){if(o===0){var c=i[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){A=D0(i);return}else if(H0(c)){A=(kl.parse(r,c)+ur(270))%ur(360);return}}var d=Nl(r,i);n.push(d)}),{angle:A,stops:n,type:1}},vE=function(r,e){var A=ur(180),n=[],i=1,o=0,c=3,d=[];return Tr(e).forEach(function(f,m){var g=f[0];if(m===0){if(Gt(g)&&g.value==="linear"){i=1;return}else if(Gt(g)&&g.value==="radial"){i=2;return}}if(g.type===18){if(g.name==="from"){var w=jn.parse(r,g.values[0]);n.push({stop:FA,color:w})}else if(g.name==="to"){var w=jn.parse(r,g.values[0]);n.push({stop:Nn,color:w})}else if(g.name==="color-stop"){var v=g.values.filter(oi);if(v.length===2){var w=jn.parse(r,v[1]),y=v[0];fi(y)&&n.push({stop:{type:16,number:y.number*100,flags:y.flags},color:w})}}}}),i===1?{angle:(A+ur(180))%ur(360),stops:n,type:i}:{size:c,shape:o,stops:n,position:d,type:i}},P0="closest-side",R0="farthest-side",O0="closest-corner",M0="farthest-corner",K0="circle",G0="ellipse",$0="cover",W0="contain",yE=function(r,e){var A=0,n=3,i=[],o=[];return Tr(e).forEach(function(c,d){var f=!0;if(d===0){var m=!1;f=c.reduce(function(w,v){if(m)if(Gt(v))switch(v.value){case"center":return o.push(Af),w;case"top":case"left":return o.push(FA),w;case"right":case"bottom":return o.push(Nn),w}else(fA(v)||Ln(v))&&o.push(v);else if(Gt(v))switch(v.value){case K0:return A=0,!1;case G0:return A=1,!1;case"at":return m=!0,!1;case P0:return n=0,!1;case $0:case R0:return n=1,!1;case W0:case O0:return n=2,!1;case M0:return n=3,!1}else if(Ln(v)||fA(v))return Array.isArray(n)||(n=[]),n.push(v),!1;return w},f)}if(f){var g=Nl(r,c);i.push(g)}}),{size:n,shape:A,stops:i,position:o,type:2}},Xo=function(r,e){var A=0,n=3,i=[],o=[];return Tr(e).forEach(function(c,d){var f=!0;if(d===0?f=c.reduce(function(g,w){if(Gt(w))switch(w.value){case"center":return o.push(Af),!1;case"top":case"left":return o.push(FA),!1;case"right":case"bottom":return o.push(Nn),!1}else if(fA(w)||Ln(w))return o.push(w),!1;return g},f):d===1&&(f=c.reduce(function(g,w){if(Gt(w))switch(w.value){case K0:return A=0,!1;case G0:return A=1,!1;case W0:case P0:return n=0,!1;case R0:return n=1,!1;case O0:return n=2,!1;case $0:case M0:return n=3,!1}else if(Ln(w)||fA(w))return Array.isArray(n)||(n=[]),n.push(w),!1;return g},f)),f){var m=Nl(r,c);i.push(m)}}),{size:n,shape:A,stops:i,position:o,type:2}},bE=function(r){return r.type===1},CE=function(r){return r.type===2},rf={name:"image",parse:function(r,e){if(e.type===22){var A={url:e.value,type:0};return r.cache.addImage(e.value),A}if(e.type===18){var n=V0[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function EE(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!V0[r.name])}var V0={"linear-gradient":BE,"-moz-linear-gradient":Jo,"-ms-linear-gradient":Jo,"-o-linear-gradient":Jo,"-webkit-linear-gradient":Jo,"radial-gradient":yE,"-moz-radial-gradient":Xo,"-ms-radial-gradient":Xo,"-o-radial-gradient":Xo,"-webkit-radial-gradient":Xo,"-webkit-gradient":vE},QE={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e.filter(function(n){return oi(n)&&EE(n)}).map(function(n){return rf.parse(r,n)})}},UE={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(A){if(Gt(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_E={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Tr(e).map(function(A){return A.filter(fA)}).map(N0)}},FE={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Tr(e).map(function(A){return A.filter(Gt).map(function(n){return n.value}).join(" ")}).map(SE)}},SE=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ii;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(ii||(ii={}));var kE={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Tr(e).map(function(A){return A.filter(NE)})}},NE=function(r){return Gt(r)||fA(r)},Il=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},IE=Il("top"),jE=Il("right"),TE=Il("bottom"),LE=Il("left"),jl=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,A){return N0(A.filter(fA))}}},HE=jl("top-left"),DE=jl("top-right"),PE=jl("bottom-right"),RE=jl("bottom-left"),Tl=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},OE=Tl("top"),ME=Tl("right"),KE=Tl("bottom"),GE=Tl("left"),Ll=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return Ca(A)?A.number:0}}},$E=Ll("top"),WE=Ll("right"),VE=Ll("bottom"),zE=Ll("left"),JE={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},XE={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},YE={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Gt).reduce(function(A,n){return A|qE(n.value)},0)}},qE=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ZE={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},eQ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},wl;(function(r){r.NORMAL="normal",r.STRICT="strict"})(wl||(wl={}));var tQ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return wl.STRICT;case"normal":default:return wl.NORMAL}}},AQ={name:"line-height",initialValue:"normal",prefix:!1,type:4},Vg=function(r,e){return Gt(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:fA(r)?Xt(r,e):e},rQ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:rf.parse(r,e)}},nQ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Nd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Hl=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},sQ=Hl("top"),iQ=Hl("right"),aQ=Hl("bottom"),oQ=Hl("left"),lQ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Gt).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},cQ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Dl=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},uQ=Dl("top"),dQ=Dl("right"),fQ=Dl("bottom"),hQ=Dl("left"),mQ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gQ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pQ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&kd(e[0],"none")?[]:Tr(e).map(function(A){for(var n={color:Yr.TRANSPARENT,offsetX:FA,offsetY:FA,blur:FA},i=0,o=0;o<A.length;o++){var c=A[o];Ln(c)?(i===0?n.offsetX=c:i===1?n.offsetY=c:n.blur=c,i++):n.color=jn.parse(r,c)}return n})}},wQ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},xQ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var A=yQ[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},BQ=function(r){var e=r.filter(function(A){return A.type===17}).map(function(A){return A.number});return e.length===6?e:null},vQ=function(r){var e=r.filter(function(f){return f.type===17}).map(function(f){return f.number}),A=e[0],n=e[1];e[2],e[3];var i=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var c=e[12],d=e[13];return e[14],e[15],e.length===16?[A,n,i,o,c,d]:null},yQ={matrix:BQ,matrix3d:vQ},zg={type:16,number:50,flags:ba},bQ=[zg,zg],CQ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var A=e.filter(fA);return A.length!==2?bQ:[A[0],A[1]]}},EQ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ca;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(ca||(ca={}));var QQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return ca.BREAK_ALL;case"keep-all":return ca.KEEP_ALL;case"normal":default:return ca.NORMAL}}},UQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(fi(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},z0={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_Q={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return fi(e)?e.number:1}},FQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Gt).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return A!==0})}},kQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var A=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:A.push(i.value);break;case 17:A.push(i.number.toString());break;case 4:n.push(A.join(" ")),A.length=0;break}}),A.length&&n.push(A.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},NQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},IQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(fi(e))return e.number;if(Gt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},jQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Gt).map(function(A){return A.value})}},TQ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},pA=function(r,e){return(r&e)!==0},LQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e}},HQ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;for(var n=[],i=e.filter(k0),o=0;o<i.length;o++){var c=i[o],d=i[o+1];if(c.type===20){var f=d&&fi(d)?d.number:1;n.push({counter:c.value,increment:f})}}return n}},DQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var A=[],n=e.filter(k0),i=0;i<n.length;i++){var o=n[i],c=n[i+1];if(Gt(o)&&o.value!=="none"){var d=c&&fi(c)?c.number:0;A.push({counter:o.value,reset:d})}}return A}},PQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Ca).map(function(A){return z0.parse(r,A)})}},RQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;var n=[],i=e.filter(dE);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var c=i[o].value,d=i[o+1].value;n.push({open:c,close:d})}return n}},Jg=function(r,e,A){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?A?n.open:n.close:""},OQ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&kd(e[0],"none")?[]:Tr(e).map(function(A){for(var n={color:255,offsetX:FA,offsetY:FA,blur:FA,spread:FA,inset:!1},i=0,o=0;o<A.length;o++){var c=A[o];kd(c,"inset")?n.inset=!0:Ln(c)?(i===0?n.offsetX=c:i===1?n.offsetY=c:i===2?n.blur=c:n.spread=c,i++):n.color=jn.parse(r,c)}return n})}},MQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var A=[0,1,2],n=[];return e.filter(Gt).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),A.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},KQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},GQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Ca(e)?e.number:0}},$Q=(function(){function r(e,A){var n,i;this.animationDuration=et(e,PQ,A.animationDuration),this.backgroundClip=et(e,mE,A.backgroundClip),this.backgroundColor=et(e,gE,A.backgroundColor),this.backgroundImage=et(e,QE,A.backgroundImage),this.backgroundOrigin=et(e,UE,A.backgroundOrigin),this.backgroundPosition=et(e,_E,A.backgroundPosition),this.backgroundRepeat=et(e,FE,A.backgroundRepeat),this.backgroundSize=et(e,kE,A.backgroundSize),this.borderTopColor=et(e,IE,A.borderTopColor),this.borderRightColor=et(e,jE,A.borderRightColor),this.borderBottomColor=et(e,TE,A.borderBottomColor),this.borderLeftColor=et(e,LE,A.borderLeftColor),this.borderTopLeftRadius=et(e,HE,A.borderTopLeftRadius),this.borderTopRightRadius=et(e,DE,A.borderTopRightRadius),this.borderBottomRightRadius=et(e,PE,A.borderBottomRightRadius),this.borderBottomLeftRadius=et(e,RE,A.borderBottomLeftRadius),this.borderTopStyle=et(e,OE,A.borderTopStyle),this.borderRightStyle=et(e,ME,A.borderRightStyle),this.borderBottomStyle=et(e,KE,A.borderBottomStyle),this.borderLeftStyle=et(e,GE,A.borderLeftStyle),this.borderTopWidth=et(e,$E,A.borderTopWidth),this.borderRightWidth=et(e,WE,A.borderRightWidth),this.borderBottomWidth=et(e,VE,A.borderBottomWidth),this.borderLeftWidth=et(e,zE,A.borderLeftWidth),this.boxShadow=et(e,OQ,A.boxShadow),this.color=et(e,JE,A.color),this.direction=et(e,XE,A.direction),this.display=et(e,YE,A.display),this.float=et(e,ZE,A.cssFloat),this.fontFamily=et(e,kQ,A.fontFamily),this.fontSize=et(e,NQ,A.fontSize),this.fontStyle=et(e,TQ,A.fontStyle),this.fontVariant=et(e,jQ,A.fontVariant),this.fontWeight=et(e,IQ,A.fontWeight),this.letterSpacing=et(e,eQ,A.letterSpacing),this.lineBreak=et(e,tQ,A.lineBreak),this.lineHeight=et(e,AQ,A.lineHeight),this.listStyleImage=et(e,rQ,A.listStyleImage),this.listStylePosition=et(e,nQ,A.listStylePosition),this.listStyleType=et(e,Nd,A.listStyleType),this.marginTop=et(e,sQ,A.marginTop),this.marginRight=et(e,iQ,A.marginRight),this.marginBottom=et(e,aQ,A.marginBottom),this.marginLeft=et(e,oQ,A.marginLeft),this.opacity=et(e,_Q,A.opacity);var o=et(e,lQ,A.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=et(e,cQ,A.overflowWrap),this.paddingTop=et(e,uQ,A.paddingTop),this.paddingRight=et(e,dQ,A.paddingRight),this.paddingBottom=et(e,fQ,A.paddingBottom),this.paddingLeft=et(e,hQ,A.paddingLeft),this.paintOrder=et(e,MQ,A.paintOrder),this.position=et(e,gQ,A.position),this.textAlign=et(e,mQ,A.textAlign),this.textDecorationColor=et(e,FQ,(n=A.textDecorationColor)!==null&&n!==void 0?n:A.color),this.textDecorationLine=et(e,SQ,(i=A.textDecorationLine)!==null&&i!==void 0?i:A.textDecoration),this.textShadow=et(e,pQ,A.textShadow),this.textTransform=et(e,wQ,A.textTransform),this.transform=et(e,xQ,A.transform),this.transformOrigin=et(e,CQ,A.transformOrigin),this.visibility=et(e,EQ,A.visibility),this.webkitTextStrokeColor=et(e,KQ,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=et(e,GQ,A.webkitTextStrokeWidth),this.wordBreak=et(e,QQ,A.wordBreak),this.zIndex=et(e,UQ,A.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Tn(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return pA(this.display,4)||pA(this.display,33554432)||pA(this.display,268435456)||pA(this.display,536870912)||pA(this.display,67108864)||pA(this.display,134217728)},r})(),WQ=(function(){function r(e,A){this.content=et(e,LQ,A.content),this.quotes=et(e,RQ,A.quotes)}return r})(),Xg=(function(){function r(e,A){this.counterIncrement=et(e,HQ,A.counterIncrement),this.counterReset=et(e,DQ,A.counterReset)}return r})(),et=function(r,e,A){var n=new F0,i=A!==null&&typeof A<"u"?A.toString():e.initialValue;n.write(i);var o=new S0(n.read());switch(e.type){case 2:var c=o.parseComponentValue();return e.parse(r,Gt(c)?c.value:e.initialValue);case 0:return e.parse(r,o.parseComponentValue());case 1:return e.parse(r,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return kl.parse(r,o.parseComponentValue());case"color":return jn.parse(r,o.parseComponentValue());case"image":return rf.parse(r,o.parseComponentValue());case"length":var d=o.parseComponentValue();return Ln(d)?d:FA;case"length-percentage":var f=o.parseComponentValue();return fA(f)?f:FA;case"time":return z0.parse(r,o.parseComponentValue())}break}},VQ="data-html2canvas-debug",zQ=function(r){var e=r.getAttribute(VQ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Id=function(r,e){var A=zQ(r);return A===1||e===A},Lr=(function(){function r(e,A){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Id(A,3))debugger;this.styles=new $Q(e,window.getComputedStyle(A,null)),Ld(A)&&(this.styles.animationDuration.some(function(n){return n>0})&&(A.style.animationDuration="0s"),this.styles.transform!==null&&(A.style.transform="none")),this.bounds=Fl(this.context,A),Id(A,4)&&(this.flags|=16)}return r})(),JQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Yg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ra=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yo=0;Yo<Yg.length;Yo++)ra[Yg.charCodeAt(Yo)]=Yo;var XQ=function(r){var e=r.length*.75,A=r.length,n,i=0,o,c,d,f;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(m)?m:new Uint8Array(m);for(n=0;n<A;n+=4)o=ra[r.charCodeAt(n)],c=ra[r.charCodeAt(n+1)],d=ra[r.charCodeAt(n+2)],f=ra[r.charCodeAt(n+3)],g[i++]=o<<2|c>>4,g[i++]=(c&15)<<4|d>>2,g[i++]=(d&3)<<6|f&63;return m},YQ=function(r){for(var e=r.length,A=[],n=0;n<e;n+=2)A.push(r[n+1]<<8|r[n]);return A},qQ=function(r){for(var e=r.length,A=[],n=0;n<e;n+=4)A.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return A},cs=5,nf=11,Ku=2,ZQ=nf-cs,J0=65536>>cs,eU=1<<cs,Gu=eU-1,tU=1024>>cs,AU=J0+tU,rU=AU,nU=32,sU=rU+nU,iU=65536>>nf,aU=1<<ZQ,oU=aU-1,qg=function(r,e,A){return r.slice?r.slice(e,A):new Uint16Array(Array.prototype.slice.call(r,e,A))},lU=function(r,e,A){return r.slice?r.slice(e,A):new Uint32Array(Array.prototype.slice.call(r,e,A))},cU=function(r,e){var A=XQ(r),n=Array.isArray(A)?qQ(A):new Uint32Array(A),i=Array.isArray(A)?YQ(A):new Uint16Array(A),o=24,c=qg(i,o/2,n[4]/2),d=n[5]===2?qg(i,(o+n[4])/2):lU(n,Math.ceil((o+n[4])/4));return new uU(n[0],n[1],n[2],n[3],c,d)},uU=(function(){function r(e,A,n,i,o,c){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=i,this.index=o,this.data=c}return r.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>cs],A=(A<<Ku)+(e&Gu),this.data[A];if(e<=65535)return A=this.index[J0+(e-55296>>cs)],A=(A<<Ku)+(e&Gu),this.data[A];if(e<this.highStart)return A=sU-iU+(e>>nf),A=this.index[A],A+=e>>cs&oU,A=this.index[A],A=(A<<Ku)+(e&Gu),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),Zg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qo=0;qo<Zg.length;qo++)dU[Zg.charCodeAt(qo)]=qo;var fU=1,$u=2,Wu=3,ep=4,tp=5,hU=7,Ap=8,Vu=9,zu=10,rp=11,np=12,sp=13,ip=14,Ju=15,mU=function(r){for(var e=[],A=0,n=r.length;A<n;){var i=r.charCodeAt(A++);if(i>=55296&&i<=56319&&A<n){var o=r.charCodeAt(A++);(o&64512)===56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),A--)}else e.push(i)}return e},gU=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var A=r.length;if(!A)return"";for(var n=[],i=-1,o="";++i<A;){var c=r[i];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(i+1===A||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},pU=cU(JQ),lr="",Xu="",wU=function(r){return pU.get(r)},xU=function(r,e,A){var n=A-2,i=e[n],o=e[A-1],c=e[A];if(o===$u&&c===Wu)return lr;if(o===$u||o===Wu||o===ep||c===$u||c===Wu||c===ep)return Xu;if(o===Ap&&[Ap,Vu,rp,np].indexOf(c)!==-1||(o===rp||o===Vu)&&(c===Vu||c===zu)||(o===np||o===zu)&&c===zu||c===sp||c===tp||c===hU||o===fU)return lr;if(o===sp&&c===ip){for(;i===tp;)i=e[--n];if(i===ip)return lr}if(o===Ju&&c===Ju){for(var d=0;i===Ju;)d++,i=e[--n];if(d%2===0)return lr}return Xu},BU=function(r){var e=mU(r),A=e.length,n=0,i=0,o=e.map(wU);return{next:function(){if(n>=A)return{done:!0,value:null};for(var c=lr;n<A&&(c=xU(e,o,++n))===lr;);if(c!==lr||n===A){var d=gU.apply(null,e.slice(i,n));return i=n,{value:d,done:!1}}return{done:!0,value:null}}}},vU=function(r){for(var e=BU(r),A=[],n;!(n=e.next()).done;)n.value&&A.push(n.value.slice());return A},yU=function(r){var e=123;if(r.createRange){var A=r.createRange();if(A.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),A.selectNode(n);var i=A.getBoundingClientRect(),o=Math.round(i.height);if(r.body.removeChild(n),o===e)return!0}}return!1},bU=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var A=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Sl(n.data).map(function(f){return lA(f)}),o=0,c={},d=i.every(function(f,m){A.setStart(n,o),A.setEnd(n,o+f.length);var g=A.getBoundingClientRect();o+=f.length;var w=g.x>c.x||g.y>c.y;return c=g,m===0?!0:w});return r.body.removeChild(e),d},CU=function(){return typeof new Image().crossOrigin<"u"},EU=function(){return typeof new XMLHttpRequest().responseType=="string"},QU=function(r){var e=new Image,A=r.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),A.toDataURL()}catch{return!1}return!0},ap=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},UU=function(r){var e=r.createElement("canvas"),A=100;e.width=A,e.height=A;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var i=new Image,o=e.toDataURL();i.src=o;var c=jd(A,A,0,0,i);return n.fillStyle="red",n.fillRect(0,0,A,A),op(c).then(function(d){n.drawImage(d,0,0);var f=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var m=r.createElement("div");return m.style.backgroundImage="url("+o+")",m.style.height=A+"px",ap(f)?op(jd(A,A,0,0,m)):Promise.reject(!1)}).then(function(d){return n.drawImage(d,0,0),ap(n.getImageData(0,0,A,A).data)}).catch(function(){return!1})},jd=function(r,e,A,n,i){var o="http://www.w3.org/2000/svg",c=document.createElementNS(o,"svg"),d=document.createElementNS(o,"foreignObject");return c.setAttributeNS(null,"width",r.toString()),c.setAttributeNS(null,"height",e.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",A.toString()),d.setAttributeNS(null,"y",n.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(d),d.appendChild(i),c},op=function(r){return new Promise(function(e,A){var n=new Image;n.onload=function(){return e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},UA={get SUPPORT_RANGE_BOUNDS(){var r=yU(document);return Object.defineProperty(UA,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=UA.SUPPORT_RANGE_BOUNDS&&bU(document);return Object.defineProperty(UA,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=QU(document);return Object.defineProperty(UA,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?UU(document):Promise.resolve(!1);return Object.defineProperty(UA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=CU();return Object.defineProperty(UA,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=EU();return Object.defineProperty(UA,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(UA,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(UA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},ua=(function(){function r(e,A){this.text=e,this.bounds=A}return r})(),_U=function(r,e,A,n){var i=kU(e,A),o=[],c=0;return i.forEach(function(d){if(A.textDecorationLine.length||d.trim().length>0)if(UA.SUPPORT_RANGE_BOUNDS){var f=lp(n,c,d.length).getClientRects();if(f.length>1){var m=sf(d),g=0;m.forEach(function(v){o.push(new ua(v,Zr.fromDOMRectList(r,lp(n,g+c,v.length).getClientRects()))),g+=v.length})}else o.push(new ua(d,Zr.fromDOMRectList(r,f)))}else{var w=n.splitText(d.length);o.push(new ua(d,FU(r,n))),n=w}else UA.SUPPORT_RANGE_BOUNDS||(n=n.splitText(d.length));c+=d.length}),o},FU=function(r,e){var A=e.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var o=Fl(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),o}}return Zr.EMPTY},lp=function(r,e,A){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+A),i},sf=function(r){if(UA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(A){return A.segment})}return vU(r)},SU=function(r,e){if(UA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(r)).map(function(n){return n.segment})}return IU(r,e)},kU=function(r,e){return e.letterSpacing!==0?sf(r):SU(r,e)},NU=[32,160,4961,65792,65793,4153,4241],IU=function(r,e){for(var A=i1(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,o=function(){if(i.value){var c=i.value.slice(),d=Sl(c),f="";d.forEach(function(m){NU.indexOf(m)===-1?f+=lA(m):(f.length&&n.push(f),n.push(lA(m)),f="")}),f.length&&n.push(f)}};!(i=A.next()).done;)o();return n},jU=(function(){function r(e,A,n){this.text=TU(A.data,n.textTransform),this.textBounds=_U(e,this.text,n,A)}return r})(),TU=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(LU,HU);case 2:return r.toUpperCase();default:return r}},LU=/(^|\s|:|-|\(|\))([a-z])/g,HU=function(r,e,A){return r.length>0?e+A.toUpperCase():r},X0=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(Lr),Y0=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(Lr),q0=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this,o=new XMLSerializer,c=Fl(A,n);return n.setAttribute("width",c.width+"px"),n.setAttribute("height",c.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(Lr),Z0=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i.value=n.value,i}return e})(Lr),Td=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(Lr),DU=[{type:15,flags:0,unit:"px",number:3}],PU=[{type:16,flags:0,number:50}],RU=function(r){return r.width>r.height?new Zr(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Zr(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},OU=function(r){var e=r.type===MU?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},xl="checkbox",Bl="radio",MU="password",cp=707406591,af=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=OU(n),(i.type===xl||i.type===Bl)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=RU(i.bounds)),i.type){case xl:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=DU;break;case Bl:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=PU;break}return i}return e})(Lr),ew=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this,o=n.options[n.selectedIndex||0];return i.value=o&&o.text||"",i}return e})(Lr),tw=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i.value=n.value,i}return e})(Lr),Aw=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=nw(A,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?la(A,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Yr.TRANSPARENT,c=n.contentWindow.document.body?la(A,getComputedStyle(n.contentWindow.document.body).backgroundColor):Yr.TRANSPARENT;i.backgroundColor=Tn(o)?Tn(c)?i.styles.backgroundColor:c:o}}catch{}return i}return e})(Lr),KU=["OL","UL","MENU"],ll=function(r,e,A,n){for(var i=e.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,sw(i)&&i.data.trim().length>0)A.textNodes.push(new jU(r,i,A.styles));else if(ni(i))if(lw(i)&&i.assignedNodes)i.assignedNodes().forEach(function(d){return ll(r,d,A,n)});else{var c=rw(r,i);c.styles.isVisible()&&(GU(i,c,n)?c.flags|=4:$U(c.styles)&&(c.flags|=2),KU.indexOf(i.tagName)!==-1&&(c.flags|=8),A.elements.push(c),i.slot,i.shadowRoot?ll(r,i.shadowRoot,c,n):!vl(i)&&!iw(i)&&!yl(i)&&ll(r,i,c,n))}},rw=function(r,e){return Hd(e)?new X0(r,e):aw(e)?new Y0(r,e):iw(e)?new q0(r,e):WU(e)?new Z0(r,e):VU(e)?new Td(r,e):zU(e)?new af(r,e):yl(e)?new ew(r,e):vl(e)?new tw(r,e):ow(e)?new Aw(r,e):new Lr(r,e)},nw=function(r,e){var A=rw(r,e);return A.flags|=4,ll(r,e,A,A),A},GU=function(r,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||of(r)&&A.styles.isTransparent()},$U=function(r){return r.isPositioned()||r.isFloating()},sw=function(r){return r.nodeType===Node.TEXT_NODE},ni=function(r){return r.nodeType===Node.ELEMENT_NODE},Ld=function(r){return ni(r)&&typeof r.style<"u"&&!cl(r)},cl=function(r){return typeof r.className=="object"},WU=function(r){return r.tagName==="LI"},VU=function(r){return r.tagName==="OL"},zU=function(r){return r.tagName==="INPUT"},JU=function(r){return r.tagName==="HTML"},iw=function(r){return r.tagName==="svg"},of=function(r){return r.tagName==="BODY"},aw=function(r){return r.tagName==="CANVAS"},up=function(r){return r.tagName==="VIDEO"},Hd=function(r){return r.tagName==="IMG"},ow=function(r){return r.tagName==="IFRAME"},dp=function(r){return r.tagName==="STYLE"},XU=function(r){return r.tagName==="SCRIPT"},vl=function(r){return r.tagName==="TEXTAREA"},yl=function(r){return r.tagName==="SELECT"},lw=function(r){return r.tagName==="SLOT"},fp=function(r){return r.tagName.indexOf("-")>0},YU=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var A=this.counters[e];return A&&A.length?A[A.length-1]:1},r.prototype.getCounterValues=function(e){var A=this.counters[e];return A||[]},r.prototype.pop=function(e){var A=this;e.forEach(function(n){return A.counters[n].pop()})},r.prototype.parse=function(e){var A=this,n=e.counterIncrement,i=e.counterReset,o=!0;n!==null&&n.forEach(function(d){var f=A.counters[d.counter];f&&d.increment!==0&&(o=!1,f.length||f.push(1),f[Math.max(0,f.length-1)]+=d.increment)});var c=[];return o&&i.forEach(function(d){var f=A.counters[d.counter];c.push(d.counter),f||(f=A.counters[d.counter]=[]),f.push(d.reset)}),c},r})(),hp={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mp={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ZU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xs=function(r,e,A,n,i,o){return r<e||r>A?xa(r,i,o.length>0):n.integers.reduce(function(c,d,f){for(;r>=d;)r-=d,c+=n.values[f];return c},"")+o},cw=function(r,e,A,n){var i="";do A||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},oA=function(r,e,A,n,i){var o=A-e+1;return(r<0?"-":"")+(cw(Math.abs(r),o,n,function(c){return lA(Math.floor(c%o)+e)})+i)},es=function(r,e,A){A===void 0&&(A=". ");var n=e.length;return cw(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+A},Ai=1,Qn=2,Un=4,na=8,Vr=function(r,e,A,n,i,o){if(r<-9999||r>9999)return xa(r,4,i.length>0);var c=Math.abs(r),d=i;if(c===0)return e[0]+d;for(var f=0;c>0&&f<=4;f++){var m=c%10;m===0&&pA(o,Ai)&&d!==""?d=e[m]+d:m>1||m===1&&f===0||m===1&&f===1&&pA(o,Qn)||m===1&&f===1&&pA(o,Un)&&r>100||m===1&&f>1&&pA(o,na)?d=e[m]+(f>0?A[f-1]:"")+d:m===1&&f>0&&(d=A[f-1]+d),c=Math.floor(c/10)}return(r<0?n:"")+d},gp="",pp="",wp="",Yu="",xa=function(r,e,A){var n=A?". ":"",i=A?"":"",o=A?", ":"",c=A?" ":"";switch(e){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var d=oA(r,48,57,!0,n);return d.length<4?"0"+d:d;case 4:return es(r,"",i);case 6:return Xs(r,1,3999,hp,3,n).toLowerCase();case 7:return Xs(r,1,3999,hp,3,n);case 8:return oA(r,945,969,!1,n);case 9:return oA(r,97,122,!1,n);case 10:return oA(r,65,90,!1,n);case 11:return oA(r,1632,1641,!0,n);case 12:case 49:return Xs(r,1,9999,mp,3,n);case 35:return Xs(r,1,9999,mp,3,n).toLowerCase();case 13:return oA(r,2534,2543,!0,n);case 14:case 30:return oA(r,6112,6121,!0,n);case 15:return es(r,"",i);case 16:return es(r,"",i);case 17:case 48:return Vr(r,"",gp,"",i,Qn|Un|na);case 47:return Vr(r,"",pp,"",i,Ai|Qn|Un|na);case 42:return Vr(r,"",gp,"",i,Qn|Un|na);case 41:return Vr(r,"",pp,"",i,Ai|Qn|Un|na);case 26:return Vr(r,"","",wp,i,0);case 25:return Vr(r,"","",wp,i,Ai|Qn|Un);case 31:return Vr(r,"","",Yu,o,Ai|Qn|Un);case 33:return Vr(r,"","",Yu,o,0);case 32:return Vr(r,"","",Yu,o,Ai|Qn|Un);case 18:return oA(r,2406,2415,!0,n);case 20:return Xs(r,1,19999,ZU,3,n);case 21:return oA(r,2790,2799,!0,n);case 22:return oA(r,2662,2671,!0,n);case 22:return Xs(r,1,10999,qU,3,n);case 23:return es(r,"");case 24:return es(r,"");case 27:return oA(r,3302,3311,!0,n);case 28:return es(r,"",i);case 29:return es(r,"",i);case 34:return oA(r,3792,3801,!0,n);case 37:return oA(r,6160,6169,!0,n);case 38:return oA(r,4160,4169,!0,n);case 39:return oA(r,2918,2927,!0,n);case 40:return oA(r,1776,1785,!0,n);case 43:return oA(r,3046,3055,!0,n);case 44:return oA(r,3174,3183,!0,n);case 45:return oA(r,3664,3673,!0,n);case 46:return oA(r,3872,3881,!0,n);case 3:default:return oA(r,48,57,!0,n)}},uw="data-html2canvas-ignore",xp=(function(){function r(e,A,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=A,this.counters=new YU,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,A){var n=this,i=e_(e,A);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,c=e.defaultView.pageYOffset,d=i.contentWindow,f=d.document,m=r_(i).then(function(){return PA(n,void 0,void 0,function(){var g,w;return jA(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(a_),d&&(d.scrollTo(A.left,A.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==A.top||d.scrollX!==A.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-A.left,d.scrollY-A.top,0,0))),g=this.options.onclone,w=this.clonedReferenceElement,typeof w>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:f.fonts&&f.fonts.ready?[4,f.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,A_(f)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(f,w)}).then(function(){return i})]:[2,i]}})})});return f.open(),f.write(s_(document.doctype)+"<html></html>"),i_(this.referenceElement.ownerDocument,o,c),f.replaceChild(f.adoptNode(this.documentElement),f.documentElement),f.close(),m},r.prototype.createElementClone=function(e){if(Id(e,2))debugger;if(aw(e))return this.createCanvasClone(e);if(up(e))return this.createVideoClone(e);if(dp(e))return this.createStyleClone(e);var A=e.cloneNode(!1);return Hd(A)&&(Hd(e)&&e.currentSrc&&e.currentSrc!==e.src&&(A.src=e.currentSrc,A.srcset=""),A.loading==="lazy"&&(A.loading="eager")),fp(A)?this.createCustomElementClone(A):A},r.prototype.createCustomElementClone=function(e){var A=document.createElement("html2canvascustomelement");return qu(e.style,A),A},r.prototype.createStyleClone=function(e){try{var A=e.sheet;if(A&&A.cssRules){var n=[].slice.call(A.cssRules,0).reduce(function(o,c){return c&&typeof c.cssText=="string"?o+c.cssText:o},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var A;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var o=e.getContext("2d"),c=i.getContext("2d");if(c)if(!this.options.allowTaint&&o)c.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var d=(A=e.getContext("webgl2"))!==null&&A!==void 0?A:e.getContext("webgl");if(d){var f=d.getContextAttributes();f?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}c.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var A=e.ownerDocument.createElement("canvas");A.width=e.offsetWidth,A.height=e.offsetHeight;var n=A.getContext("2d");try{return n&&(n.drawImage(e,0,0,A.width,A.height),this.options.allowTaint||n.getImageData(0,0,A.width,A.height)),A}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,A,n){(!ni(A)||!XU(A)&&!A.hasAttribute(uw)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(A)))&&(!this.options.copyStyles||!ni(A)||!dp(A))&&e.appendChild(this.cloneNode(A,n))},r.prototype.cloneChildNodes=function(e,A,n){for(var i=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(ni(o)&&lw(o)&&typeof o.assignedNodes=="function"){var c=o.assignedNodes();c.length&&c.forEach(function(d){return i.appendChildNode(A,d,n)})}else this.appendChildNode(A,o,n)},r.prototype.cloneNode=function(e,A){if(sw(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ni(e)&&(Ld(e)||cl(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var o=n.getComputedStyle(e),c=n.getComputedStyle(e,":before"),d=n.getComputedStyle(e,":after");this.referenceElement===e&&Ld(i)&&(this.clonedReferenceElement=i),of(i)&&c_(i);var f=this.counters.parse(new Xg(this.context,o)),m=this.resolvePseudoContent(e,i,c,da.BEFORE);fp(e)&&(A=!0),up(e)||this.cloneChildNodes(e,i,A),m&&i.insertBefore(m,i.firstChild);var g=this.resolvePseudoContent(e,i,d,da.AFTER);return g&&i.appendChild(g),this.counters.pop(f),(o&&(this.options.copyStyles||cl(e))&&!ow(e)||A)&&qu(o,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(vl(e)||yl(e))&&(vl(i)||yl(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,A,n,i){var o=this;if(n){var c=n.content,d=A.ownerDocument;if(!(!d||!c||c==="none"||c==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Xg(this.context,n));var f=new WQ(this.context,n),m=d.createElement("html2canvaspseudoelement");qu(n,m),f.content.forEach(function(w){if(w.type===0)m.appendChild(d.createTextNode(w.value));else if(w.type===22){var v=d.createElement("img");v.src=w.value,v.style.opacity="1",m.appendChild(v)}else if(w.type===18){if(w.name==="attr"){var y=w.values.filter(Gt);y.length&&m.appendChild(d.createTextNode(e.getAttribute(y[0].value)||""))}else if(w.name==="counter"){var C=w.values.filter(oi),b=C[0],E=C[1];if(b&&Gt(b)){var _=o.counters.getCounterValue(b.value),S=E&&Gt(E)?Nd.parse(o.context,E.value):3;m.appendChild(d.createTextNode(xa(_,S,!1)))}}else if(w.name==="counters"){var k=w.values.filter(oi),b=k[0],R=k[1],E=k[2];if(b&&Gt(b)){var I=o.counters.getCounterValues(b.value),j=E&&Gt(E)?Nd.parse(o.context,E.value):3,P=R&&R.type===0?R.value:"",K=I.map(function(X){return xa(X,j,!1)}).join(P);m.appendChild(d.createTextNode(K))}}}else if(w.type===20)switch(w.value){case"open-quote":m.appendChild(d.createTextNode(Jg(f.quotes,o.quoteDepth++,!0)));break;case"close-quote":m.appendChild(d.createTextNode(Jg(f.quotes,--o.quoteDepth,!1)));break;default:m.appendChild(d.createTextNode(w.value))}}),m.className=Dd+" "+Pd;var g=i===da.BEFORE?" "+Dd:" "+Pd;return cl(A)?A.className.baseValue+=g:A.className+=g,m}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),da;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(da||(da={}));var e_=function(r,e){var A=r.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute(uw,"true"),r.body.appendChild(A),A},t_=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},A_=function(r){return Promise.all([].slice.call(r.images,0).map(t_))},r_=function(r){return new Promise(function(e,A){var n=r.contentWindow;if(!n)return A("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),e(r))},50)}})},n_=["all","d","content"],qu=function(r,e){for(var A=r.length-1;A>=0;A--){var n=r.item(A);n_.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},s_=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},i_=function(r,e,A){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||A!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,A)},a_=function(r){var e=r[0],A=r[1],n=r[2];e.scrollLeft=A,e.scrollTop=n},o_=":before",l_=":after",Dd="___html2canvas___pseudoelement_before",Pd="___html2canvas___pseudoelement_after",Bp=`{
    content: "" !important;
    display: none !important;
}`,c_=function(r){u_(r,"."+Dd+o_+Bp+`
         .`+Pd+l_+Bp)},u_=function(r,e){var A=r.ownerDocument;if(A){var n=A.createElement("style");n.textContent=e,r.appendChild(n)}},dw=(function(){function r(){}return r.getOrigin=function(e){var A=r._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),d_=(function(){function r(e,A){this.context=e,this._options=A,this._cache={}}return r.prototype.addImage=function(e){var A=Promise.resolve();return this.has(e)||(ed(e)||g_(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),A},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return PA(this,void 0,void 0,function(){var A,n,i,o,c=this;return jA(this,function(d){switch(d.label){case 0:return A=dw.isSameOrigin(e),n=!Zu(e)&&this._options.useCORS===!0&&UA.SUPPORT_CORS_IMAGES&&!A,i=!Zu(e)&&!A&&!ed(e)&&typeof this._options.proxy=="string"&&UA.SUPPORT_CORS_XHR&&!n,!A&&this._options.allowTaint===!1&&!Zu(e)&&!ed(e)&&!i&&!n?[2]:(o=e,i?[4,this.proxy(o)]:[3,2]);case 1:o=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(f,m){var g=new Image;g.onload=function(){return f(g)},g.onerror=m,(p_(o)||n)&&(g.crossOrigin="anonymous"),g.src=o,g.complete===!0&&setTimeout(function(){return f(g)},500),c._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var A=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(o,c){var d=UA.SUPPORT_RESPONSE_TYPE?"blob":"text",f=new XMLHttpRequest;f.onload=function(){if(f.status===200)if(d==="text")o(f.response);else{var w=new FileReader;w.addEventListener("load",function(){return o(w.result)},!1),w.addEventListener("error",function(v){return c(v)},!1),w.readAsDataURL(f.response)}else c("Failed to proxy resource "+i+" with status code "+f.status)},f.onerror=c;var m=n.indexOf("?")>-1?"&":"?";if(f.open("GET",""+n+m+"url="+encodeURIComponent(e)+"&responseType="+d),d!=="text"&&f instanceof XMLHttpRequest&&(f.responseType=d),A._options.imageTimeout){var g=A._options.imageTimeout;f.timeout=g,f.ontimeout=function(){return c("Timed out ("+g+"ms) proxying "+i)}}f.send()})},r})(),f_=/^data:image\/svg\+xml/i,h_=/^data:image\/.*;base64,/i,m_=/^data:image\/.*/i,g_=function(r){return UA.SUPPORT_SVG_DRAWING||!w_(r)},Zu=function(r){return m_.test(r)},p_=function(r){return h_.test(r)},ed=function(r){return r.substr(0,4)==="blob"},w_=function(r){return r.substr(-3).toLowerCase()==="svg"||f_.test(r)},Ye=(function(){function r(e,A){this.type=0,this.x=e,this.y=A}return r.prototype.add=function(e,A){return new r(this.x+e,this.y+A)},r})(),Ys=function(r,e,A){return new Ye(r.x+(e.x-r.x)*A,r.y+(e.y-r.y)*A)},Zo=(function(){function r(e,A,n,i){this.type=1,this.start=e,this.startControl=A,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,A){var n=Ys(this.start,this.startControl,e),i=Ys(this.startControl,this.endControl,e),o=Ys(this.endControl,this.end,e),c=Ys(n,i,e),d=Ys(i,o,e),f=Ys(c,d,e);return A?new r(this.start,n,c,f):new r(f,d,o,this.end)},r.prototype.add=function(e,A){return new r(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),cr=function(r){return r.type===1},x_=(function(){function r(e){var A=e.styles,n=e.bounds,i=Aa(A.borderTopLeftRadius,n.width,n.height),o=i[0],c=i[1],d=Aa(A.borderTopRightRadius,n.width,n.height),f=d[0],m=d[1],g=Aa(A.borderBottomRightRadius,n.width,n.height),w=g[0],v=g[1],y=Aa(A.borderBottomLeftRadius,n.width,n.height),C=y[0],b=y[1],E=[];E.push((o+f)/n.width),E.push((C+w)/n.width),E.push((c+b)/n.height),E.push((m+v)/n.height);var _=Math.max.apply(Math,E);_>1&&(o/=_,c/=_,f/=_,m/=_,w/=_,v/=_,C/=_,b/=_);var S=n.width-f,k=n.height-v,R=n.width-w,I=n.height-b,j=A.borderTopWidth,P=A.borderRightWidth,K=A.borderBottomWidth,L=A.borderLeftWidth,we=Xt(A.paddingTop,e.bounds.width),X=Xt(A.paddingRight,e.bounds.width),re=Xt(A.paddingBottom,e.bounds.width),le=Xt(A.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||c>0?AA(n.left+L/3,n.top+j/3,o-L/3,c-j/3,Ot.TOP_LEFT):new Ye(n.left+L/3,n.top+j/3),this.topRightBorderDoubleOuterBox=o>0||c>0?AA(n.left+S,n.top+j/3,f-P/3,m-j/3,Ot.TOP_RIGHT):new Ye(n.left+n.width-P/3,n.top+j/3),this.bottomRightBorderDoubleOuterBox=w>0||v>0?AA(n.left+R,n.top+k,w-P/3,v-K/3,Ot.BOTTOM_RIGHT):new Ye(n.left+n.width-P/3,n.top+n.height-K/3),this.bottomLeftBorderDoubleOuterBox=C>0||b>0?AA(n.left+L/3,n.top+I,C-L/3,b-K/3,Ot.BOTTOM_LEFT):new Ye(n.left+L/3,n.top+n.height-K/3),this.topLeftBorderDoubleInnerBox=o>0||c>0?AA(n.left+L*2/3,n.top+j*2/3,o-L*2/3,c-j*2/3,Ot.TOP_LEFT):new Ye(n.left+L*2/3,n.top+j*2/3),this.topRightBorderDoubleInnerBox=o>0||c>0?AA(n.left+S,n.top+j*2/3,f-P*2/3,m-j*2/3,Ot.TOP_RIGHT):new Ye(n.left+n.width-P*2/3,n.top+j*2/3),this.bottomRightBorderDoubleInnerBox=w>0||v>0?AA(n.left+R,n.top+k,w-P*2/3,v-K*2/3,Ot.BOTTOM_RIGHT):new Ye(n.left+n.width-P*2/3,n.top+n.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||b>0?AA(n.left+L*2/3,n.top+I,C-L*2/3,b-K*2/3,Ot.BOTTOM_LEFT):new Ye(n.left+L*2/3,n.top+n.height-K*2/3),this.topLeftBorderStroke=o>0||c>0?AA(n.left+L/2,n.top+j/2,o-L/2,c-j/2,Ot.TOP_LEFT):new Ye(n.left+L/2,n.top+j/2),this.topRightBorderStroke=o>0||c>0?AA(n.left+S,n.top+j/2,f-P/2,m-j/2,Ot.TOP_RIGHT):new Ye(n.left+n.width-P/2,n.top+j/2),this.bottomRightBorderStroke=w>0||v>0?AA(n.left+R,n.top+k,w-P/2,v-K/2,Ot.BOTTOM_RIGHT):new Ye(n.left+n.width-P/2,n.top+n.height-K/2),this.bottomLeftBorderStroke=C>0||b>0?AA(n.left+L/2,n.top+I,C-L/2,b-K/2,Ot.BOTTOM_LEFT):new Ye(n.left+L/2,n.top+n.height-K/2),this.topLeftBorderBox=o>0||c>0?AA(n.left,n.top,o,c,Ot.TOP_LEFT):new Ye(n.left,n.top),this.topRightBorderBox=f>0||m>0?AA(n.left+S,n.top,f,m,Ot.TOP_RIGHT):new Ye(n.left+n.width,n.top),this.bottomRightBorderBox=w>0||v>0?AA(n.left+R,n.top+k,w,v,Ot.BOTTOM_RIGHT):new Ye(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=C>0||b>0?AA(n.left,n.top+I,C,b,Ot.BOTTOM_LEFT):new Ye(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||c>0?AA(n.left+L,n.top+j,Math.max(0,o-L),Math.max(0,c-j),Ot.TOP_LEFT):new Ye(n.left+L,n.top+j),this.topRightPaddingBox=f>0||m>0?AA(n.left+Math.min(S,n.width-P),n.top+j,S>n.width+P?0:Math.max(0,f-P),Math.max(0,m-j),Ot.TOP_RIGHT):new Ye(n.left+n.width-P,n.top+j),this.bottomRightPaddingBox=w>0||v>0?AA(n.left+Math.min(R,n.width-L),n.top+Math.min(k,n.height-K),Math.max(0,w-P),Math.max(0,v-K),Ot.BOTTOM_RIGHT):new Ye(n.left+n.width-P,n.top+n.height-K),this.bottomLeftPaddingBox=C>0||b>0?AA(n.left+L,n.top+Math.min(I,n.height-K),Math.max(0,C-L),Math.max(0,b-K),Ot.BOTTOM_LEFT):new Ye(n.left+L,n.top+n.height-K),this.topLeftContentBox=o>0||c>0?AA(n.left+L+le,n.top+j+we,Math.max(0,o-(L+le)),Math.max(0,c-(j+we)),Ot.TOP_LEFT):new Ye(n.left+L+le,n.top+j+we),this.topRightContentBox=f>0||m>0?AA(n.left+Math.min(S,n.width+L+le),n.top+j+we,S>n.width+L+le?0:f-L+le,m-(j+we),Ot.TOP_RIGHT):new Ye(n.left+n.width-(P+X),n.top+j+we),this.bottomRightContentBox=w>0||v>0?AA(n.left+Math.min(R,n.width-(L+le)),n.top+Math.min(k,n.height+j+we),Math.max(0,w-(P+X)),v-(K+re),Ot.BOTTOM_RIGHT):new Ye(n.left+n.width-(P+X),n.top+n.height-(K+re)),this.bottomLeftContentBox=C>0||b>0?AA(n.left+L+le,n.top+I,Math.max(0,C-(L+le)),b-(K+re),Ot.BOTTOM_LEFT):new Ye(n.left+L+le,n.top+n.height-(K+re))}return r})(),Ot;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ot||(Ot={}));var AA=function(r,e,A,n,i){var o=4*((Math.sqrt(2)-1)/3),c=A*o,d=n*o,f=r+A,m=e+n;switch(i){case Ot.TOP_LEFT:return new Zo(new Ye(r,m),new Ye(r,m-d),new Ye(f-c,e),new Ye(f,e));case Ot.TOP_RIGHT:return new Zo(new Ye(r,e),new Ye(r+c,e),new Ye(f,m-d),new Ye(f,m));case Ot.BOTTOM_RIGHT:return new Zo(new Ye(f,e),new Ye(f,e+d),new Ye(r+c,m),new Ye(r,m));case Ot.BOTTOM_LEFT:default:return new Zo(new Ye(f,m),new Ye(f-c,m),new Ye(r,e+d),new Ye(r,e))}},bl=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},B_=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},Cl=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},v_=(function(){function r(e,A,n){this.offsetX=e,this.offsetY=A,this.matrix=n,this.type=0,this.target=6}return r})(),el=(function(){function r(e,A){this.path=e,this.target=A,this.type=1}return r})(),y_=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),b_=function(r){return r.type===0},fw=function(r){return r.type===1},C_=function(r){return r.type===2},vp=function(r,e){return r.length===e.length?r.some(function(A,n){return A===e[n]}):!1},E_=function(r,e,A,n,i){return r.map(function(o,c){switch(c){case 0:return o.add(e,A);case 1:return o.add(e+n,A);case 2:return o.add(e+n,A+i);case 3:return o.add(e,A+i)}return o})},hw=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),mw=(function(){function r(e,A){if(this.container=e,this.parent=A,this.effects=[],this.curves=new x_(this.container),this.container.styles.opacity<1&&this.effects.push(new y_(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new v_(n,i,o))}if(this.container.styles.overflowX!==0){var c=bl(this.curves),d=Cl(this.curves);vp(c,d)?this.effects.push(new el(c,6)):(this.effects.push(new el(c,2)),this.effects.push(new el(d,4)))}}return r.prototype.getEffects=function(e){for(var A=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var o=n.effects.filter(function(f){return!fw(f)});if(A||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,o),A=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var c=bl(n.curves),d=Cl(n.curves);vp(c,d)||i.unshift(new el(d,6))}}else i.unshift.apply(i,o);n=n.parent}return i.filter(function(f){return pA(f.target,e)})},r})(),Rd=function(r,e,A,n){r.container.elements.forEach(function(i){var o=pA(i.flags,4),c=pA(i.flags,2),d=new mw(i,r);pA(i.styles.display,2048)&&n.push(d);var f=pA(i.flags,8)?[]:n;if(o||c){var m=o||i.styles.isPositioned()?A:e,g=new hw(d);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var w=i.styles.zIndex.order;if(w<0){var v=0;m.negativeZIndex.some(function(C,b){return w>C.element.container.styles.zIndex.order?(v=b,!1):v>0}),m.negativeZIndex.splice(v,0,g)}else if(w>0){var y=0;m.positiveZIndex.some(function(C,b){return w>=C.element.container.styles.zIndex.order?(y=b+1,!1):y>0}),m.positiveZIndex.splice(y,0,g)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else i.styles.isFloating()?m.nonPositionedFloats.push(g):m.nonPositionedInlineLevel.push(g);Rd(d,g,o?g:A,f)}else i.styles.isInlineLevel()?e.inlineLevel.push(d):e.nonInlineLevel.push(d),Rd(d,e,A,f);pA(i.flags,8)&&gw(i,f)})},gw=function(r,e){for(var A=r instanceof Td?r.start:1,n=r instanceof Td?r.reversed:!1,i=0;i<e.length;i++){var o=e[i];o.container instanceof Z0&&typeof o.container.value=="number"&&o.container.value!==0&&(A=o.container.value),o.listValue=xa(A,o.container.styles.listStyleType,!0),A+=n?-1:1}},Q_=function(r){var e=new mw(r,null),A=new hw(e),n=[];return Rd(e,A,A,n),gw(e.container,n),A},yp=function(r,e){switch(e){case 0:return dr(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return dr(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return dr(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return dr(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},U_=function(r,e){switch(e){case 0:return dr(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return dr(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return dr(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return dr(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},__=function(r,e){switch(e){case 0:return dr(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return dr(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return dr(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return dr(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},F_=function(r,e){switch(e){case 0:return tl(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return tl(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return tl(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return tl(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},tl=function(r,e){var A=[];return cr(r)?A.push(r.subdivide(.5,!1)):A.push(r),cr(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},dr=function(r,e,A,n){var i=[];return cr(r)?i.push(r.subdivide(.5,!1)):i.push(r),cr(A)?i.push(A.subdivide(.5,!0)):i.push(A),cr(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),cr(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},pw=function(r){var e=r.bounds,A=r.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},El=function(r){var e=r.styles,A=r.bounds,n=Xt(e.paddingLeft,A.width),i=Xt(e.paddingRight,A.width),o=Xt(e.paddingTop,A.width),c=Xt(e.paddingBottom,A.width);return A.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+o+c))},S_=function(r,e){return r===0?e.bounds:r===2?El(e):pw(e)},k_=function(r,e){return r===0?e.bounds:r===2?El(e):pw(e)},td=function(r,e,A){var n=S_(ri(r.styles.backgroundOrigin,e),r),i=k_(ri(r.styles.backgroundClip,e),r),o=N_(ri(r.styles.backgroundSize,e),A,n),c=o[0],d=o[1],f=Aa(ri(r.styles.backgroundPosition,e),n.width-c,n.height-d),m=I_(ri(r.styles.backgroundRepeat,e),f,o,n,i),g=Math.round(n.left+f[0]),w=Math.round(n.top+f[1]);return[m,g,w,c,d]},qs=function(r){return Gt(r)&&r.value===ii.AUTO},Al=function(r){return typeof r=="number"},N_=function(r,e,A){var n=e[0],i=e[1],o=e[2],c=r[0],d=r[1];if(!c)return[0,0];if(fA(c)&&d&&fA(d))return[Xt(c,A.width),Xt(d,A.height)];var f=Al(o);if(Gt(c)&&(c.value===ii.CONTAIN||c.value===ii.COVER)){if(Al(o)){var m=A.width/A.height;return m<o!=(c.value===ii.COVER)?[A.width,A.width/o]:[A.height*o,A.height]}return[A.width,A.height]}var g=Al(n),w=Al(i),v=g||w;if(qs(c)&&(!d||qs(d))){if(g&&w)return[n,i];if(!f&&!v)return[A.width,A.height];if(v&&f){var y=g?n:i*o,C=w?i:n/o;return[y,C]}var b=g?n:A.width,E=w?i:A.height;return[b,E]}if(f){var _=0,S=0;return fA(c)?_=Xt(c,A.width):fA(d)&&(S=Xt(d,A.height)),qs(c)?_=S*o:(!d||qs(d))&&(S=_/o),[_,S]}var k=null,R=null;if(fA(c)?k=Xt(c,A.width):d&&fA(d)&&(R=Xt(d,A.height)),k!==null&&(!d||qs(d))&&(R=g&&w?k/n*i:A.height),R!==null&&qs(c)&&(k=g&&w?R/i*n:A.width),k!==null&&R!==null)return[k,R];throw new Error("Unable to calculate background-size for element")},ri=function(r,e){var A=r[e];return typeof A>"u"?r[0]:A},I_=function(r,e,A,n,i){var o=e[0],c=e[1],d=A[0],f=A[1];switch(r){case 2:return[new Ye(Math.round(n.left),Math.round(n.top+c)),new Ye(Math.round(n.left+n.width),Math.round(n.top+c)),new Ye(Math.round(n.left+n.width),Math.round(f+n.top+c)),new Ye(Math.round(n.left),Math.round(f+n.top+c))];case 3:return[new Ye(Math.round(n.left+o),Math.round(n.top)),new Ye(Math.round(n.left+o+d),Math.round(n.top)),new Ye(Math.round(n.left+o+d),Math.round(n.height+n.top)),new Ye(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new Ye(Math.round(n.left+o),Math.round(n.top+c)),new Ye(Math.round(n.left+o+d),Math.round(n.top+c)),new Ye(Math.round(n.left+o+d),Math.round(n.top+c+f)),new Ye(Math.round(n.left+o),Math.round(n.top+c+f))];default:return[new Ye(Math.round(i.left),Math.round(i.top)),new Ye(Math.round(i.left+i.width),Math.round(i.top)),new Ye(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ye(Math.round(i.left),Math.round(i.height+i.top))]}},j_="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bp="Hidden Text",T_=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,A){var n=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),c=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=A,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",c.appendChild(n),i.src=j_,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=A,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(bp)),n.appendChild(o),n.appendChild(i);var d=i.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(bp)),n.style.lineHeight="normal",i.style.verticalAlign="super";var f=i.offsetTop-n.offsetTop+2;return c.removeChild(n),{baseline:d,middle:f}},r.prototype.getMetrics=function(e,A){var n=e+" "+A;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,A)),this._data[n]},r})(),ww=(function(){function r(e,A){this.context=e,this.options=A}return r})(),L_=1e4,H_=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new T_(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(A){for(var n=this;this._activeEffects.length;)this.popEffect();A.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(A){this.ctx.save(),C_(A)&&(this.ctx.globalAlpha=A.opacity),b_(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),fw(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return PA(this,void 0,void 0,function(){var n;return jA(this,function(i){switch(i.label){case 0:return n=A.element.container.styles,n.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return PA(this,void 0,void 0,function(){return jA(this,function(n){switch(n.label){case 0:if(pA(A.container.flags,16))debugger;return A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(A)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,n,i){var o=this;if(n===0)this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+i);else{var c=sf(A.text);c.reduce(function(d,f){return o.ctx.fillText(f,d,A.bounds.top+i),d+o.ctx.measureText(f).width},A.bounds.left)}},e.prototype.createFontStyle=function(A){var n=A.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),i=M_(A.fontFamily).join(", "),o=Ca(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,n,A.fontWeight,o,i].join(" "),i,o]},e.prototype.renderTextNode=function(A,n){return PA(this,void 0,void 0,function(){var i,o,c,d,f,m,g,w,v=this;return jA(this,function(y){return i=this.createFontStyle(n),o=i[0],c=i[1],d=i[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(c,d),m=f.baseline,g=f.middle,w=n.paintOrder,A.textBounds.forEach(function(C){w.forEach(function(b){switch(b){case 0:v.ctx.fillStyle=bA(n.color),v.renderTextWithLetterSpacing(C,n.letterSpacing,m);var E=n.textShadow;E.length&&C.text.trim().length&&(E.slice(0).reverse().forEach(function(_){v.ctx.shadowColor=bA(_.color),v.ctx.shadowOffsetX=_.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=_.offsetY.number*v.options.scale,v.ctx.shadowBlur=_.blur.number,v.renderTextWithLetterSpacing(C,n.letterSpacing,m)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),n.textDecorationLine.length&&(v.ctx.fillStyle=bA(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(_){switch(_){case 1:v.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+m),C.bounds.width,1);break;case 2:v.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:v.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+g),C.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&C.text.trim().length&&(v.ctx.strokeStyle=bA(n.webkitTextStrokeColor),v.ctx.lineWidth=n.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+m)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(A,n,i){if(i&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var o=El(A),c=Cl(n);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,A.intrinsicWidth,A.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return PA(this,void 0,void 0,function(){var n,i,o,c,d,f,S,S,m,g,w,v,R,y,C,I,b,E,_,S,k,R,I;return jA(this,function(j){switch(j.label){case 0:this.applyEffects(A.getEffects(4)),n=A.container,i=A.curves,o=n.styles,c=0,d=n.textNodes,j.label=1;case 1:return c<d.length?(f=d[c],[4,this.renderTextNode(f,o)]):[3,4];case 2:j.sent(),j.label=3;case 3:return c++,[3,1];case 4:if(!(n instanceof X0))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return S=j.sent(),this.renderReplacedElement(n,i,S),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Y0&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof q0))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return S=j.sent(),this.renderReplacedElement(n,i,S),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Aw&&n.tree?(m=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,m.render(n.tree)]):[3,14];case 13:g=j.sent(),n.width&&n.height&&this.ctx.drawImage(g,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),j.label=14;case 14:if(n instanceof af&&(w=Math.min(n.bounds.width,n.bounds.height),n.type===xl?n.checked&&(this.ctx.save(),this.path([new Ye(n.bounds.left+w*.39363,n.bounds.top+w*.79),new Ye(n.bounds.left+w*.16,n.bounds.top+w*.5549),new Ye(n.bounds.left+w*.27347,n.bounds.top+w*.44071),new Ye(n.bounds.left+w*.39694,n.bounds.top+w*.5649),new Ye(n.bounds.left+w*.72983,n.bounds.top+w*.23),new Ye(n.bounds.left+w*.84,n.bounds.top+w*.34085),new Ye(n.bounds.left+w*.39363,n.bounds.top+w*.79)]),this.ctx.fillStyle=bA(cp),this.ctx.fill(),this.ctx.restore()):n.type===Bl&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+w/2,n.bounds.top+w/2,w/4,0,Math.PI*2,!0),this.ctx.fillStyle=bA(cp),this.ctx.fill(),this.ctx.restore())),D_(n)&&n.value.length){switch(v=this.createFontStyle(o),R=v[0],y=v[1],C=this.fontMetrics.getMetrics(R,y).baseline,this.ctx.font=R,this.ctx.fillStyle=bA(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=R_(n.styles.textAlign),I=El(n),b=0,n.styles.textAlign){case 1:b+=I.width/2;break;case 2:b+=I.width;break}E=I.add(b,0,0,-I.height/2+1),this.ctx.save(),this.path([new Ye(I.left,I.top),new Ye(I.left+I.width,I.top),new Ye(I.left+I.width,I.top+I.height),new Ye(I.left,I.top+I.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ua(n.value,E),o.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!pA(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(_=n.styles.listStyleImage,_.type!==0)return[3,18];S=void 0,k=_.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(k)];case 16:return S=j.sent(),this.ctx.drawImage(S,n.bounds.left-(S.width+10),n.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+k),[3,18];case 18:return[3,20];case 19:A.listValue&&n.styles.listStyleType!==-1&&(R=this.createFontStyle(o)[0],this.ctx.font=R,this.ctx.fillStyle=bA(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",I=new Zr(n.bounds.left,n.bounds.top+Xt(n.styles.paddingTop,n.bounds.width),n.bounds.width,Vg(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ua(A.listValue,I),o.letterSpacing,Vg(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return PA(this,void 0,void 0,function(){var n,i,_,o,c,_,d,f,_,m,g,_,w,v,_,y,C,_,b,E,_;return jA(this,function(S){switch(S.label){case 0:if(pA(A.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:S.sent(),n=0,i=A.negativeZIndex,S.label=2;case 2:return n<i.length?(_=i[n],[4,this.renderStack(_)]):[3,5];case 3:S.sent(),S.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:S.sent(),o=0,c=A.nonInlineLevel,S.label=7;case 7:return o<c.length?(_=c[o],[4,this.renderNode(_)]):[3,10];case 8:S.sent(),S.label=9;case 9:return o++,[3,7];case 10:d=0,f=A.nonPositionedFloats,S.label=11;case 11:return d<f.length?(_=f[d],[4,this.renderStack(_)]):[3,14];case 12:S.sent(),S.label=13;case 13:return d++,[3,11];case 14:m=0,g=A.nonPositionedInlineLevel,S.label=15;case 15:return m<g.length?(_=g[m],[4,this.renderStack(_)]):[3,18];case 16:S.sent(),S.label=17;case 17:return m++,[3,15];case 18:w=0,v=A.inlineLevel,S.label=19;case 19:return w<v.length?(_=v[w],[4,this.renderNode(_)]):[3,22];case 20:S.sent(),S.label=21;case 21:return w++,[3,19];case 22:y=0,C=A.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return y<C.length?(_=C[y],[4,this.renderStack(_)]):[3,26];case 24:S.sent(),S.label=25;case 25:return y++,[3,23];case 26:b=0,E=A.positiveZIndex,S.label=27;case 27:return b<E.length?(_=E[b],[4,this.renderStack(_)]):[3,30];case 28:S.sent(),S.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var n=this;A.forEach(function(i,o){var c=cr(i)?i.start:i;o===0?n.ctx.moveTo(c.x,c.y):n.ctx.lineTo(c.x,c.y),cr(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(A,n,i,o){this.path(A),this.ctx.fillStyle=n,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},e.prototype.resizeImage=function(A,n,i){var o;if(A.width===n&&A.height===i)return A;var c=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,d=c.createElement("canvas");d.width=Math.max(1,n),d.height=Math.max(1,i);var f=d.getContext("2d");return f.drawImage(A,0,0,A.width,A.height,0,0,n,i),d},e.prototype.renderBackgroundImage=function(A){return PA(this,void 0,void 0,function(){var n,i,o,c,d,f;return jA(this,function(m){switch(m.label){case 0:n=A.styles.backgroundImage.length-1,i=function(g){var w,v,y,we,Y,D,le,H,K,C,we,Y,D,le,H,b,E,_,S,k,R,I,j,P,K,L,we,X,re,le,H,oe,Y,D,Q,N,G,U,M,W,ne,Ae;return jA(this,function(Ee){switch(Ee.label){case 0:if(g.type!==0)return[3,5];w=void 0,v=g.url,Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,o.context.cache.match(v)];case 2:return w=Ee.sent(),[3,4];case 3:return Ee.sent(),o.context.logger.error("Error loading background-image "+v),[3,4];case 4:return w&&(y=td(A,n,[w.width,w.height,w.width/w.height]),we=y[0],Y=y[1],D=y[2],le=y[3],H=y[4],K=o.ctx.createPattern(o.resizeImage(w,le,H),"repeat"),o.renderRepeat(we,K,Y,D)),[3,6];case 5:bE(g)?(C=td(A,n,[null,null,null]),we=C[0],Y=C[1],D=C[2],le=C[3],H=C[4],b=wE(g.angle,le,H),E=b[0],_=b[1],S=b[2],k=b[3],R=b[4],I=document.createElement("canvas"),I.width=le,I.height=H,j=I.getContext("2d"),P=j.createLinearGradient(_,k,S,R),$g(g.stops,E).forEach(function($e){return P.addColorStop($e.stop,bA($e.color))}),j.fillStyle=P,j.fillRect(0,0,le,H),le>0&&H>0&&(K=o.ctx.createPattern(I,"repeat"),o.renderRepeat(we,K,Y,D))):CE(g)&&(L=td(A,n,[null,null,null]),we=L[0],X=L[1],re=L[2],le=L[3],H=L[4],oe=g.position.length===0?[Af]:g.position,Y=Xt(oe[0],le),D=Xt(oe[oe.length-1],H),Q=xE(g,Y,D,le,H),N=Q[0],G=Q[1],N>0&&G>0&&(U=o.ctx.createRadialGradient(X+Y,re+D,0,X+Y,re+D,N),$g(g.stops,N*2).forEach(function($e){return U.addColorStop($e.stop,bA($e.color))}),o.path(we),o.ctx.fillStyle=U,N!==G?(M=A.bounds.left+.5*A.bounds.width,W=A.bounds.top+.5*A.bounds.height,ne=G/N,Ae=1/ne,o.ctx.save(),o.ctx.translate(M,W),o.ctx.transform(1,0,0,ne,0,0),o.ctx.translate(-M,-W),o.ctx.fillRect(X,Ae*(re-W)+W,le,H*Ae),o.ctx.restore()):o.ctx.fill())),Ee.label=6;case 6:return n--,[2]}})},o=this,c=0,d=A.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return c<d.length?(f=d[c],[5,i(f)]):[3,4];case 2:m.sent(),m.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,n,i){return PA(this,void 0,void 0,function(){return jA(this,function(o){return this.path(yp(i,n)),this.ctx.fillStyle=bA(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,n,i,o){return PA(this,void 0,void 0,function(){var c,d;return jA(this,function(f){switch(f.label){case 0:return n<3?[4,this.renderSolidBorder(A,i,o)]:[3,2];case 1:return f.sent(),[2];case 2:return c=U_(o,i),this.path(c),this.ctx.fillStyle=bA(A),this.ctx.fill(),d=__(o,i),this.path(d),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return PA(this,void 0,void 0,function(){var n,i,o,c,d,f,m,g,w=this;return jA(this,function(v){switch(v.label){case 0:return this.applyEffects(A.getEffects(2)),n=A.container.styles,i=!Tn(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],c=P_(ri(n.backgroundClip,0),A.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),Tn(n.backgroundColor)||(this.ctx.fillStyle=bA(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(y){w.ctx.save();var C=bl(A.curves),b=y.inset?0:L_,E=E_(C,-b+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(w.path(C),w.ctx.clip(),w.mask(E)):(w.mask(C),w.ctx.clip(),w.path(E)),w.ctx.shadowOffsetX=y.offsetX.number+b,w.ctx.shadowOffsetY=y.offsetY.number,w.ctx.shadowColor=bA(y.color),w.ctx.shadowBlur=y.blur.number,w.ctx.fillStyle=y.inset?bA(y.color):"rgba(0,0,0,1)",w.ctx.fill(),w.ctx.restore()}),v.label=2;case 2:d=0,f=0,m=o,v.label=3;case 3:return f<m.length?(g=m[f],g.style!==0&&!Tn(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,d,A.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,d,A.curves,3)];case 6:return v.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,d,A.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,d,A.curves)];case 10:v.sent(),v.label=11;case 11:d++,v.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,n,i,o,c){return PA(this,void 0,void 0,function(){var d,f,m,g,w,v,y,C,b,E,_,S,k,R,I,j,I,j;return jA(this,function(P){return this.ctx.save(),d=F_(o,i),f=yp(o,i),c===2&&(this.path(f),this.ctx.clip()),cr(f[0])?(m=f[0].start.x,g=f[0].start.y):(m=f[0].x,g=f[0].y),cr(f[1])?(w=f[1].end.x,v=f[1].end.y):(w=f[1].x,v=f[1].y),i===0||i===2?y=Math.abs(m-w):y=Math.abs(g-v),this.ctx.beginPath(),c===3?this.formatPath(d):this.formatPath(f.slice(0,2)),C=n<3?n*3:n*2,b=n<3?n*2:n,c===3&&(C=n,b=n),E=!0,y<=C*2?E=!1:y<=C*2+b?(_=y/(2*C+b),C*=_,b*=_):(S=Math.floor((y+b)/(C+b)),k=(y-S*C)/(S-1),R=(y-(S+1)*C)/S,b=R<=0||Math.abs(b-k)<Math.abs(b-R)?k:R),E&&(c===3?this.ctx.setLineDash([0,C+b]):this.ctx.setLineDash([C,b])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=bA(A),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(cr(f[0])&&(I=f[3],j=f[0],this.ctx.beginPath(),this.formatPath([new Ye(I.end.x,I.end.y),new Ye(j.start.x,j.start.y)]),this.ctx.stroke()),cr(f[1])&&(I=f[1],j=f[2],this.ctx.beginPath(),this.formatPath([new Ye(I.end.x,I.end.y),new Ye(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return PA(this,void 0,void 0,function(){var n;return jA(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=bA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Q_(A),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(ww),D_=function(r){return r instanceof tw||r instanceof ew?!0:r instanceof af&&r.type!==Bl&&r.type!==xl},P_=function(r,e){switch(r){case 0:return bl(e);case 2:return B_(e);case 1:default:return Cl(e)}},R_=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},O_=["-apple-system","system-ui"],M_=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return O_.indexOf(e)===-1}):r},K_=(function(r){_r(e,r);function e(A,n){var i=r.call(this,A,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(A){return PA(this,void 0,void 0,function(){var n,i;return jA(this,function(o){switch(o.label){case 0:return n=jd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,G_(n)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=bA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(ww),G_=function(r){return new Promise(function(e,A){var n=new Image;n.onload=function(){e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},$_=(function(){function r(e){var A=e.id,n=e.enabled;this.id=A,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jo([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jo([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jo([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,jo([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),W_=(function(){function r(e,A){var n;this.windowBounds=A,this.instanceName="#"+r.instanceCount++,this.logger=new $_({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new d_(this,e)}return r.instanceCount=1,r})(),V_=function(r,e){return e===void 0&&(e={}),z_(r,e)};typeof window<"u"&&dw.setContext(window);var z_=function(r,e){return PA(void 0,void 0,void 0,function(){var A,n,i,o,c,d,f,m,g,w,v,y,C,b,E,_,S,k,R,I,P,j,P,K,L,we,X,re,le,H,oe,Y,D,Q,N,G,U,M,W,ne;return jA(this,function(Ae){switch(Ae.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(A=r.ownerDocument,!A)throw new Error("Element is not attached to a Document");if(n=A.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(L=e.imageTimeout)!==null&&L!==void 0?L:15e3,proxy:e.proxy,useCORS:(we=e.useCORS)!==null&&we!==void 0?we:!1},o=xd({logging:(X=e.logging)!==null&&X!==void 0?X:!0,cache:e.cache},i),c={windowWidth:(re=e.windowWidth)!==null&&re!==void 0?re:n.innerWidth,windowHeight:(le=e.windowHeight)!==null&&le!==void 0?le:n.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:n.pageXOffset,scrollY:(oe=e.scrollY)!==null&&oe!==void 0?oe:n.pageYOffset},d=new Zr(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),f=new W_(o,d),m=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,g={allowTaint:(D=e.allowTaint)!==null&&D!==void 0?D:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:m,copyStyles:m},f.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),w=new xp(f,r,g),v=w.clonedReferenceElement,v?[4,w.toIFrame(A,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=Ae.sent(),C=of(v)||JU(v)?EC(v.ownerDocument):Fl(f,v),b=C.width,E=C.height,_=C.left,S=C.top,k=J_(f,v,e.backgroundColor),R={canvas:e.canvas,backgroundColor:k,scale:(N=(Q=e.scale)!==null&&Q!==void 0?Q:n.devicePixelRatio)!==null&&N!==void 0?N:1,x:((G=e.x)!==null&&G!==void 0?G:0)+_,y:((U=e.y)!==null&&U!==void 0?U:0)+S,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(b),height:(W=e.height)!==null&&W!==void 0?W:Math.ceil(E)},m?(f.logger.debug("Document cloned, using foreign object rendering"),P=new K_(f,R),[4,P.render(v)]):[3,3];case 2:return I=Ae.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+_+","+S+" with size "+b+"x"+E+" using computed rendering"),f.logger.debug("Starting DOM parsing"),j=nw(f,v),k===j.styles.backgroundColor&&(j.styles.backgroundColor=Yr.TRANSPARENT),f.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),P=new H_(f,R),[4,P.render(j)];case 4:I=Ae.sent(),Ae.label=5;case 5:return(!((ne=e.removeContainer)!==null&&ne!==void 0)||ne)&&(xp.destroy(y)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,I]}})})},J_=function(r,e,A){var n=e.ownerDocument,i=n.documentElement?la(r,getComputedStyle(n.documentElement).backgroundColor):Yr.TRANSPARENT,o=n.body?la(r,getComputedStyle(n.body).backgroundColor):Yr.TRANSPARENT,c=typeof A=="string"?la(r,A):A===null?Yr.TRANSPARENT:4294967295;return e===n.documentElement?Tn(i)?Tn(o)?c:o:i:c};function X_({onRefresh:r,enabled:e=!0,threshold:A=80,maxPullDistance:n=120,enableMouse:i=!1}){const[o,c]=x.useState({isPulling:!1,pullDistance:0,isRefreshing:!1}),d=x.useRef(null),f=x.useRef(null),m=x.useRef(0),g=x.useRef(null),w=x.useRef(!1),v=x.useCallback(async()=>{if(!w.current){w.current=!0,c(E=>({...E,isRefreshing:!0,pullDistance:0}));try{await r()}finally{setTimeout(()=>{w.current=!1,c(E=>({...E,isRefreshing:!1,isPulling:!1,pullDistance:0}))},300)}}},[r]);x.useEffect(()=>{if(!e)return;const E=g.current;if(!E)return;const _=()=>typeof window<"u"?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||E.scrollTop||0:E.scrollTop||0,S=X=>{if(w.current||X.touches.length!==1)return;m.current=_();const re=X.target,le=E.contains(re)||E===re;m.current<=5&&le&&(d.current=X.touches[0].clientY,f.current=X.touches[0].clientX,c(H=>({...H,isPulling:!0})))},k=X=>{if(w.current||d.current===null||X.touches.length!==1)return;const re=X.touches[0].clientY,le=X.touches[0].clientX,H=re-d.current,oe=f.current!==null?Math.abs(le-f.current):0;if(m.current=_(),m.current<=5&&H>0&&H>Math.abs(oe)*.5){H>10&&(X.preventDefault(),X.stopPropagation());const Q=Math.min(H*.5,n);c(N=>({...N,pullDistance:Q}))}else(H<=0||m.current>5)&&(d.current=null,f.current=null,c(Y=>({...Y,isPulling:!1,pullDistance:0})))},R=()=>{w.current||(d.current!==null&&o.pullDistance>=A?v():c(X=>({...X,isPulling:!1,pullDistance:0})),d.current=null,f.current=null)},I=X=>{const re=X.target;(E.contains(re)||E===re)&&S(X)},j=X=>{d.current!==null&&k(X)},P=X=>{i&&(E.contains(X.target)||E===X.target)&&(m.current=_(),m.current<=0&&(d.current=X.clientY,c(re=>({...re,isPulling:!0}))))},K=X=>{if(!i||d.current===null)return;const le=X.clientY-d.current;if(m.current=_(),m.current<=0&&le>0){X.preventDefault();const Y=Math.min(le*.5,n);c(D=>({...D,pullDistance:Y}))}else(le<=0||m.current>0)&&(d.current=null,f.current=null,c(H=>({...H,isPulling:!1,pullDistance:0})))},L=()=>{i&&(d.current!==null&&o.pullDistance>=A?v():c(X=>({...X,isPulling:!1,pullDistance:0})),d.current=null,f.current=null)};return typeof window<"u"&&(window.navigator?.userAgent?.includes("Mobile")||!!window.despia||!!window.__DESPIA__)?(document.addEventListener("touchstart",I,{passive:!1}),document.addEventListener("touchmove",j,{passive:!1}),document.addEventListener("touchend",R,{passive:!0}),document.addEventListener("touchcancel",R,{passive:!0})):(E.addEventListener("touchstart",I,{passive:!1}),E.addEventListener("touchmove",j,{passive:!1}),E.addEventListener("touchend",R,{passive:!0}),E.addEventListener("touchcancel",R,{passive:!0})),i&&(E.addEventListener("mousedown",P),E.addEventListener("mousemove",K),E.addEventListener("mouseup",L),E.addEventListener("mouseleave",L)),()=>{typeof window<"u"&&(window.navigator?.userAgent?.includes("Mobile")||!!window.despia||!!window.__DESPIA__)?(document.removeEventListener("touchstart",I),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",R),document.removeEventListener("touchcancel",R)):(E.removeEventListener("touchstart",I),E.removeEventListener("touchmove",j),E.removeEventListener("touchend",R),E.removeEventListener("touchcancel",R)),i&&(E.removeEventListener("mousedown",P),E.removeEventListener("mousemove",K),E.removeEventListener("mouseup",L),E.removeEventListener("mouseleave",L))}},[e,o.pullDistance,A,n,v]);const y=Math.min(o.pullDistance/A,1),C=y*360,b=Math.min(y*2,1);return{containerRef:g,pullDistance:o.pullDistance,isPulling:o.isPulling,isRefreshing:o.isRefreshing,pullProgress:y,spinnerRotation:C,spinnerOpacity:b,shouldShowIndicator:o.pullDistance>10}}function ts(r){const e=(r||"?").trim().split(/\s+/);return e.length?e.length===1?e[0].slice(0,1).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase():"?"}function Ad(r){return r.result==="H"||r.result==="D"||r.result==="A"?r.result:typeof r.home_goals=="number"&&typeof r.away_goals=="number"?r.home_goals>r.away_goals?"H":r.home_goals<r.away_goals?"A":"D":null}function Y_(){const{user:r}=tr(),[e]=x.useState(()=>{const ge=localStorage.getItem("oldSchoolMode");return ge?JSON.parse(ge):!1});x.useEffect(()=>{localStorage.setItem("oldSchoolMode",JSON.stringify(e))},[e]);const[A,n]=x.useState([]),[i,o]=x.useState({}),[c,d]=x.useState([]),[f,m]=x.useState(1),[g,w]=x.useState(!1),[v,y]=x.useState(null),[C,b]=x.useState({}),[E,_]=x.useState({}),[S,k]=x.useState(!0),[R,I]=x.useState(!0),[j,P]=x.useState(null),[K,L]=x.useState(null),[we,X]=x.useState(null),[re,le]=x.useState(null),[H,oe]=x.useState(null),[Y,D]=x.useState(null),[Q,N]=x.useState(null),[G,U]=x.useState([]),[M,W]=x.useState(null),[ne,Ae]=x.useState(null),[Ee,$e]=x.useState(null),[te,ce]=x.useState(null),[Se,ye]=x.useState({}),[We,mt]=x.useState({}),It=x.useRef(new Set),$t=x.useRef(!0),de=x.useRef(0),[Ve,Oe]=x.useState({}),[xe,ct]=x.useState(!1),st=x.useCallback(async(ge=!0)=>{if(!r?.id){k(!1);return}let ke=!0;ge&&k(!0);try{console.log("[Home] Starting data fetch for user:",r.id);const[he,Ue]=await Promise.all([J.from("meta").select("current_gw").eq("id",1).maybeSingle(),J.from("league_members").select("leagues(id,name,code,created_at)").eq("user_id",r.id)]);console.log("[Home] Query results:",{currentGwError:he.error,currentGwData:he.data,leaguesError:Ue.error,leaguesDataLength:Ue.data?.length,leaguesData:Ue.data});const Ne=he.data?.current_gw??1,ie=(Ue.data??[]).map(se=>se.leagues).filter(Boolean);console.log("[Home] Processed leagues:",ie.length),ie.length>0?console.log("[Home] League names:",ie.map(se=>se.name)):console.warn("[Home] NO LEAGUES FOUND! Raw data:",Ue.data);const ue=ie.map(se=>({...se,avatar:il(se.id)})),pt=ie.some(se=>se.name==="API Test");ke&&(n(ue),m(Ne),ct(pt),It.current=new Set(ue.map(se=>se.id)));let Je,je,rt,it,Ge,Fe,nt,bt;pt?([Je,je,rt,it]=await Promise.all([J.from("test_api_fixtures").select("id,test_gw,fixture_index,api_match_id,home_code,away_code,home_team,away_team,home_name,away_name,kickoff_time").eq("test_gw",1).order("fixture_index",{ascending:!0}),J.from("test_api_picks").select("user_id,matchday,fixture_index,pick").eq("user_id",r.id).eq("matchday",1),J.from("gw_results").select("gw,fixture_index,result").eq("gw",1),J.from("test_api_submissions").select("submitted_at").eq("user_id",r.id).eq("matchday",1).maybeSingle()]),Ge=(Je.data??[]).map(pe=>({...pe,gw:pe.test_gw})),Fe=(je.data??[]).map(pe=>({...pe,gw:pe.matchday})),nt=rt.data??[],bt=!!it.data?.submitted_at):([Je,je,rt,it]=await Promise.all([J.from("fixtures").select("id,gw,fixture_index,home_code,away_code,home_team,away_team,home_name,away_name,kickoff_time").eq("gw",Ne).order("fixture_index",{ascending:!0}),J.from("picks").select("user_id,gw,fixture_index,pick").eq("user_id",r.id).eq("gw",Ne),J.from("gw_results").select("gw,fixture_index,result").eq("gw",Ne),J.from("gw_submissions").select("submitted_at").eq("user_id",r.id).eq("gw",Ne).maybeSingle()]),Ge=Je.data??[],Fe=je.data??[],nt=rt.data??[],bt=!!it.data?.submitted_at);const He=new Map;nt.forEach(se=>{const Me=Ad(se);Me&&He.set(se.fixture_index,Me)});const fe={};He.forEach((se,Me)=>{fe[Me]=se});let z=null;if(He.size>0){let se=0;Fe.forEach(Me=>{const pe=He.get(Me.fixture_index);pe&&pe===Me.pick&&(se+=1)}),z=se}const ae={};Fe.forEach(se=>{ae[se.fixture_index]=se.pick,console.log("[Home] Pick loaded:",{fixture_index:se.fixture_index,pick:se.pick,user_id:se.user_id})}),console.log("[Home] Picks map:",ae),console.log("[Home] Fixtures:",Ge.map(se=>({fixture_index:se.fixture_index,home:se.home_name||se.home_team,away:se.away_name||se.away_team})));const gt=ue.map(se=>se.id),[_t,$]=await Promise.all([J.from("gw_results").select("gw").order("gw",{ascending:!1}).limit(1),gt.length>0?J.from("league_message_reads").select("league_id,last_read_at").eq("user_id",r.id):Promise.resolve({data:[],error:null})]),Be=Array.isArray(_t.data)&&_t.data.length?_t.data[0].gw:null,Ie={};if(gt.length>0&&$.data){const se=new Map;$.data.forEach(tt=>se.set(tt.league_id,tt.last_read_at));const Me=gt.map(async tt=>{const Ce=se.get(tt)??"1970-01-01T00:00:00Z",{data:Te,count:qe}=await J.from("league_messages").select("id",{count:"exact"}).eq("league_id",tt).gte("created_at",Ce);return[tt,typeof qe=="number"?qe:Te?.length??0]});(await Promise.all(Me)).forEach(([tt,Ce])=>{Ie[tt]=Ce})}const Pe={};if(gt.length>0){const se=await J.from("league_members").select("league_id,user_id").in("league_id",gt),Me={};gt.forEach(Te=>Me[Te]=[]),(se.data??[]).forEach(Te=>{Me[Te.league_id]||(Me[Te.league_id]=[]),Me[Te.league_id].push(Te.user_id)});const pe=Array.from(new Set(Object.values(Me).flat())),{data:tt}=pe.length>0?await J.from("gw_submissions").select("user_id").eq("gw",Ne).in("user_id",pe):{data:[]},Ce=new Set((tt??[]).map(Te=>Te.user_id));Object.entries(Me).forEach(([Te,qe])=>{const Ke=qe.length,Xe=qe.filter(Re=>Ce.has(Re)).length;Pe[Te]={allSubmitted:Xe===Ke&&Ke>0,submittedCount:Xe,totalCount:Ke}})}if(Be!==null&&Be!==Ne){const[se,Me]=await Promise.all([J.from("gw_results").select("fixture_index,result").eq("gw",Be),J.from("picks").select("fixture_index,pick").eq("gw",Be).eq("user_id",r.id)]),pe=se.data??[],tt=Me.data??[],Ce=new Map;pe.forEach(qe=>{const Ke=Ad(qe);Ke&&Ce.set(qe.fixture_index,Ke)});let Te=0;tt.forEach(qe=>{const Ke=Ce.get(qe.fixture_index);Ke&&Ke===qe.pick&&(Te+=1)}),ke&&(D(Be),oe(Te))}else ke&&(D(null),oe(null));le(null),ke&&(w(bt),y(z),_(fe),d(Ge),b(ae),ye(Ie),o(Pe),k(!1))}catch(he){console.error("[Home] Error loading home page data:",he),k(!1),d([]),w(!1),y(null)}},[r?.id]),{containerRef:St,pullDistance:dt,isRefreshing:De,spinnerRotation:jt,spinnerOpacity:Wt,shouldShowIndicator:wt}=X_({onRefresh:async()=>{$t.current=!0,await st(!0)},enabled:!!r?.id&&!S&&!$t.current,enableMouse:!0}),Kt=async ge=>{try{const he=await fetch(`https://api.football-data.org/v4/matches/${ge}`,{headers:{"X-Auth-Token":"ed3153d132b847db836289243894706e"}});if(!he.ok)return he.status===429&&console.warn("[Home] Rate limited, will retry on next poll"),null;const Ue=await he.json();if(!Ue||!Ue.score)return null;const Ne=Ue.score.fullTime?.home??Ue.score.halfTime?.home??0,ie=Ue.score.fullTime?.away??Ue.score.halfTime?.away??0,ue=Ue.status||"SCHEDULED",pt=Ue.minute??null;let Je=null;return(ue==="LIVE"||ue==="IN_PLAY"||ue==="PAUSED")&&(Ne>ie?Je="H":ie>Ne?Je="A":Je="D"),{homeScore:Ne,awayScore:ie,status:ue,outcome:Je,minute:pt}}catch(ke){return console.error("[Home] Error fetching live score:",ke),null}};x.useEffect(()=>{if(!xe||!c.length)return;const ge=c.slice(0,3).filter(Ue=>Ue.api_match_id&&Ue.kickoff_time);if(ge.length===0)return;const ke=new Map,he=[];return ge.forEach(Ue=>{if(!Ue.api_match_id||!Ue.kickoff_time)return;const Ne=new Date(Ue.kickoff_time),ie=new Date,ue=Ue.fixture_index,pt=()=>{const Je=Ve[ue];if(Je&&Je.status==="FINISHED")return;const je=async()=>{const it=await Kt(Ue.api_match_id);if(it){const Ge=it.status==="FINISHED";if(Oe(Fe=>({...Fe,[ue]:{homeScore:it.homeScore,awayScore:it.awayScore,status:it.status,minute:it.minute??null}})),Ge){const Fe=ke.get(ue);Fe&&(clearInterval(Fe),ke.delete(ue))}}};je();const rt=setInterval(je,300*1e3);ke.set(ue,rt)};if(Ne>ie){const Je=Ne.getTime()-ie.getTime(),je=setTimeout(pt,Je);he.push(je)}else pt()}),()=>{ke.forEach(clearInterval),he.forEach(clearTimeout)}},[xe,c]),x.useEffect(()=>{if(!r?.id){k(!1);return}de.current+=1,st($t.current)},[r?.id,st]),x.useEffect(()=>{if(!A.length||!r?.id||!f){console.log("Skipping position calculation:",{leaguesLength:A.length,userId:r?.id,gw:f}),I(!1);return}console.log("Starting position calculation for",A.length,"leagues"),I(!0);let ge=!0;return(async()=>{try{const{data:ke}=await J.from("meta").select("current_gw").eq("id",1).maybeSingle(),he=ke?.current_gw??f,[Ue,Ne]=await Promise.all([J.from("gw_results").select("gw,fixture_index,result"),J.from("league_members").select("league_id,user_id,users(id,name)").in("league_id",A.map(fe=>fe.id))]),ie=Ue.data??[],ue={};A.forEach(fe=>ue[fe.id]=[]),(Ne.data??[]).forEach(fe=>{const z=fe.league_id;ue[z]||(ue[z]=[]),ue[z].push({id:fe.user_id,name:fe.users?.name||"Unknown"})});const pt=new Map;ie.forEach(fe=>{const z=Ad(fe);z&&pt.set(`${fe.gw}:${fe.fixture_index}`,z)});const Je=[...new Set(Array.from(pt.keys()).map(fe=>parseInt(fe.split(":")[0],10)))].sort((fe,z)=>fe-z),{data:je}=await J.from("fixtures").select("gw,kickoff_time").in("gw",Je.length>0?Je:[1]),rt=new Map;(je??[]).forEach(fe=>{if(fe.kickoff_time&&fe.gw){const z=new Date(fe.kickoff_time),ae=new Date(z.getTime()-4500*1e3);(!rt.has(fe.gw)||ae<rt.get(fe.gw))&&rt.set(fe.gw,ae)}});const it=new Map;A.forEach(fe=>{const z=fe.name&&f0[fe.name];if(typeof z=="number"){it.set(fe.id,z);return}if(fe.start_gw!==null&&fe.start_gw!==void 0){it.set(fe.id,fe.start_gw);return}if(fe.created_at){const ae=new Date(fe.created_at);for(const gt of Je){const _t=rt.get(gt);if(_t&&ae<=_t){it.set(fe.id,gt);return}}if(Je.length>0){it.set(fe.id,Math.max(...Je)+1);return}}it.set(fe.id,he)});const Ge=new Map;for(const fe of A){const z=ue[fe.id]??[];if(z.length===0){Ge.set(fe.id,[]);continue}const ae=it.get(fe.id)??he,gt=Je.filter(Be=>Be>=ae);if(gt.length===0){Ge.set(fe.id,[]);continue}const _t=z.map(Be=>Be.id),{data:$}=await J.from("picks").select("user_id,gw,fixture_index,pick").in("user_id",_t).in("gw",gt);Ge.set(fe.id,$??[])}const Fe=new Set;Object.values(ue).forEach(fe=>{fe.forEach(z=>Fe.add(z.id))});const{data:nt}=Fe.size>0?await J.from("gw_submissions").select("user_id").eq("gw",he).in("user_id",Array.from(Fe)):{data:[]},bt=new Set((nt??[]).map(fe=>fe.user_id)),He={};for(let fe=0;fe<A.length;fe++){const z=A[fe];try{const ae=(ue[z.id]??[]).filter(ee=>ee.name!=="Unknown");if(ae.length===0){He[z.id]={id:z.id,members:[],userPosition:null,positionChange:null,sortedMemberIds:[],latestGwWinners:[]};continue}if(pt.size===0){const ee=ae.sort((Qe,me)=>Qe.name.localeCompare(me.name)).map(Qe=>Qe.id);He[z.id]={id:z.id,members:ae.sort((Qe,me)=>Qe.name.localeCompare(me.name)),userPosition:null,positionChange:null,sortedMemberIds:ee,latestGwWinners:[]};continue}const gt=it.get(z.id)??he,_t=Je.filter(ee=>ee>=gt);if(z.name==="Prem Predictions"&&console.error(` PREM PREDICTIONS - leagueStartGw: ${gt}, relevantGws:`,_t,"gwsWithResults:",Je),_t.length===0){const ee=ae.sort((Qe,me)=>Qe.name.localeCompare(me.name)).map(Qe=>Qe.id);He[z.id]={id:z.id,members:ae.sort((Qe,me)=>Qe.name.localeCompare(me.name)),userPosition:null,positionChange:null,sortedMemberIds:ee,latestGwWinners:[]};continue}const $=Ge.get(z.id)??[],Be=ae.map(ee=>ee.id);if(z.name?.toLowerCase().includes("forget")){const ee=$.reduce((Qe,me)=>(Qe[me.user_id]||(Qe[me.user_id]=[]),Qe[me.user_id].push(`${me.gw}:${me.fixture_index}`),Qe),{});console.error(`[${z.name}] PICKS DATA:`,{totalPicks:$.length,picksByUser:Object.keys(ee).map(Qe=>({userId:Qe,userName:ae.find(me=>me.id===Qe)?.name,pickCount:ee[Qe].length,picks:ee[Qe].slice(0,5)}))})}const Ie=new Map,Pe=new Map;_t.forEach(ee=>{const Qe=new Map;ae.forEach(me=>Qe.set(me.id,{user_id:me.id,score:0,unicorns:0})),Ie.set(ee,Qe)}),_t.forEach(ee=>{Array.from(pt.entries()).filter(([me])=>parseInt(me.split(":")[0],10)===ee).map(([me,xt])=>({idx:parseInt(me.split(":")[1],10),out:xt})).forEach(({idx:me,out:xt})=>{const Nt=$.filter(ut=>ut.gw===ee&&ut.fixture_index===me),Ct=Nt.filter(ut=>ut.pick===xt).map(ut=>ut.user_id);z.name==="Easy League"&&ee===11&&console.log(` Easy League GW 11 - Fixture ${me}:`,{outcome:xt,picksCount:Nt.length,picks:Nt.map(ut=>({user_id:ut.user_id,name:ae.find(Vt=>Vt.id===ut.user_id)?.name||"unknown",pick:ut.pick})),correctUsers:Ct.map(ut=>ae.find(Vt=>Vt.id===ut)?.name||ut)});const ft=Ie.get(ee);if(Nt.forEach(ut=>{if(ut.pick===xt){const Vt=ft.get(ut.user_id);Vt.score+=1}}),Ct.length===1&&ae.length>=3){const ut=Ct[0],Vt=ft.get(ut);Vt.unicorns+=1}})});const se=new Map,Me=new Map,pe=new Map;ae.forEach(ee=>{se.set(ee.id,0),Me.set(ee.id,0),pe.set(ee.id,0)}),_t.forEach(ee=>{const Qe=Array.from(Ie.get(ee).values());if(Qe.forEach(Ct=>{Me.set(Ct.user_id,(Me.get(Ct.user_id)??0)+Ct.score),pe.set(Ct.user_id,(pe.get(Ct.user_id)??0)+Ct.unicorns)}),Qe.sort((Ct,ft)=>ft.score-Ct.score||ft.unicorns-Ct.unicorns),!Qe.length)return;const me=Qe[0],xt=Qe.filter(Ct=>Ct.score===me.score&&Ct.unicorns===me.unicorns),Nt=new Set(xt.map(Ct=>Ct.user_id));if(z.name==="Easy League"&&ee===11){console.log(" EASY LEAGUE GW 11 CALCULATION ");const Ct=Qe.map(ut=>({user_id:ut.user_id,name:ae.find(Vt=>Vt.id===ut.user_id)?.name||"unknown",score:ut.score,unicorns:ut.unicorns}));console.log(`All gwRows (${Qe.length} players):`,Ct),console.log("Top player:",{user_id:me.user_id,name:ae.find(ut=>ut.id===me.user_id)?.name||"unknown",score:me.score,unicorns:me.unicorns});const ft=xt.map(ut=>({user_id:ut.user_id,name:ae.find(Vt=>Vt.id===ut.user_id)?.name||"unknown",score:ut.score,unicorns:ut.unicorns}));console.log(`coTop (filtered, ${xt.length} players):`,ft),console.log(`winners Set (${Nt.size} winners):`,Array.from(Nt)),console.log(" END EASY LEAGUE GW 11 CALCULATION ")}xt.length>1?(console.log(`[Home] GW ${ee} has ${xt.length} co-winners (tie):`,Array.from(Nt)),console.log(`[Home] GW ${ee} co-winners details:`,xt.map(Ct=>({user_id:Ct.user_id,name:ae.find(ft=>ft.id===Ct.user_id)?.name||"unknown",score:Ct.score,unicorns:Ct.unicorns})))):console.log(`[Home] GW ${ee} single winner:`,me.user_id,`score: ${me.score}, unicorns: ${me.unicorns}`),xt.length!==Nt.size&&console.error(`[Home] GW ${ee} ERROR: coTop length (${xt.length}) doesn't match winners Set size (${Nt.size})!`),Pe.set(ee,Nt),xt.length===1?se.set(me.user_id,(se.get(me.user_id)??0)+3):xt.forEach(Ct=>{se.set(Ct.user_id,(se.get(Ct.user_id)??0)+1)})});const tt=ae.map(ee=>({user_id:ee.id,name:ee.name,mltPts:se.get(ee.id)??0,unicorns:pe.get(ee.id)??0,ocp:Me.get(ee.id)??0}));z.name==="Prem Predictions"&&console.error(" PREM PREDICTIONS STATS BEFORE SORT:",tt.map(ee=>({name:ee.name,mltPts:ee.mltPts,unicorns:ee.unicorns,ocp:ee.ocp,userId:ee.user_id}))),z.name?.toLowerCase().includes("forget")&&(console.error(`[${z.name}] === BEFORE SORT ===`),tt.forEach((ee,Qe)=>{console.error(`${Qe+1}. ${ee.name}: mltPts=${ee.mltPts}, unicorns=${ee.unicorns}, ocp=${ee.ocp}`)}));const Ce=[...tt].sort((ee,Qe)=>Qe.mltPts-ee.mltPts||Qe.unicorns-ee.unicorns||Qe.ocp-ee.ocp||ee.name.localeCompare(Qe.name));let Te=Ce.findIndex(ee=>ee.user_id===r.id);if(Te===-1){const ee=ae.findIndex(Qe=>Qe.id===r.id);ee!==-1&&(console.warn(`[${z.name}] User ${r.id} found in members but not in mltRows - adding with 0 stats`),Ce.push({user_id:r.id,name:ae[ee].name,mltPts:0,unicorns:0,ocp:0}),Ce.sort((Qe,me)=>me.mltPts-Qe.mltPts||me.unicorns-Qe.unicorns||me.ocp-Qe.ocp||Qe.name.localeCompare(me.name)),Te=Ce.findIndex(Qe=>Qe.user_id===r.id))}const qe=Ce.map(ee=>ee.user_id);(z.name?.toLowerCase().includes("forget")||z.name?.toLowerCase().includes("prem"))&&(console.error(`[${z.name}] === AFTER SORT ===`),console.error(`[${z.name}] leagueStartGw:`,gt),console.error(`[${z.name}] relevantGws:`,Array.from(_t)),console.error(`[${z.name}] picksAll count:`,$.length),console.error(`[${z.name}] picksAll by GW:`,Array.from(new Set($.map(ee=>ee.gw))).sort()),console.error(`[${z.name}] === BEFORE SORT (mltRows) ===`),tt.forEach((ee,Qe)=>{console.error(`${Qe+1}. ${ee.name}: mltPts=${ee.mltPts}, unicorns=${ee.unicorns}, ocp=${ee.ocp}, user_id=${ee.user_id}`)}),console.error(`[${z.name}] === AFTER SORT (sortedMltRows) ===`),Ce.forEach((ee,Qe)=>{console.error(`${Qe+1}. ${ee.name}: mltPts=${ee.mltPts}, unicorns=${ee.unicorns}, ocp=${ee.ocp}, user_id=${ee.user_id}`)}),console.error(`[${z.name}] sortedMemberIds:`,qe),console.error(`[${z.name}] sortedMemberNames:`,qe.map(ee=>ae.find(Qe=>Qe.id===ee)?.name||ee)),console.error(`[${z.name}] sortedMemberInitials:`,qe.map(ee=>{const Qe=ae.find(me=>me.id===ee);return Qe?ts(Qe.name):"?"}))),z.name==="Prem Predictions"&&(console.error(" PREM PREDICTIONS CALCULATED ORDER "),console.error("sortedMemberIds:",qe),console.error("sortedMemberNames:",qe.map(ee=>ae.find(Qe=>Qe.id===ee)?.name||ee)),console.error("sortedMemberInitials:",qe.map(ee=>{const Qe=ae.find(me=>me.id===ee);return Qe?ts(Qe.name):"?"})),console.error("sortedMltRows (with positions):",Ce.map((ee,Qe)=>({position:Qe+1,name:ee.name,userId:ee.user_id,mltPts:ee.mltPts,unicorns:ee.unicorns,ocp:ee.ocp,initials:ts(ee.name)}))),console.error(" PREM PREDICTIONS CURRENT STANDINGS:"),Ce.forEach((ee,Qe)=>{console.error(`${Qe+1}. ${ee.name} (${ts(ee.name)}) - ID: ${ee.user_id} - MLT Pts: ${ee.mltPts}, Unicorns: ${ee.unicorns}, OCP: ${ee.ocp}`)})),console.log(`[${z.name}] Position calculation:`,{userId:r.id,userIndex:Te,userPosition:Te!==-1?Te+1:null,rowsCount:Ce.length,rows:Ce.map((ee,Qe)=>({index:Qe+1,name:ee.name,userId:ee.user_id,mltPts:ee.mltPts,unicorns:ee.unicorns,ocp:ee.ocp})),sortedMemberIds:qe,memberIds:ae.map(ee=>ee.id),userInMembers:ae.some(ee=>ee.id===r.id),userInRows:Ce.some(ee=>ee.user_id===r.id),leagueStartGw:gt,relevantGws:_t,picksCount:$.length,currentGw:he});const Ke=Te!==-1?Te+1:null,Xe=_t.length?Math.max(..._t):null,Re=Xe!==null?Pe.get(Xe)??new Set:new Set,Qt=Array.from(Pe.entries()).map(([ee,Qe])=>({gw:ee,winners:Array.from(Qe),winnerNames:Array.from(Qe).map(me=>ae.find(xt=>xt.id===me)?.name||me),isLatest:ee===Xe}));console.log(`[${z.name}] All GW winners:`,Qt),z.name==="Easy League"&&console.log(`[Easy League] DETAILED - Latest GW: ${Xe}, All GWs with winners:`,Qt),Re.size>0?console.log(`[${z.name}] Latest GW ${Xe} winners:`,Array.from(Re),"Names:",Array.from(Re).map(ee=>ae.find(Qe=>Qe.id===ee)?.name||ee)):Xe!==null&&console.warn(`[${z.name}] Latest GW ${Xe} has NO winners! gwWinners map:`,Array.from(Pe.entries()).map(([ee,Qe])=>({gw:ee,winners:Array.from(Qe)})));const kt=new Set;Be.forEach(ee=>{bt.has(ee)&&kt.add(ee)});const Et={id:z.id,members:ae.sort((ee,Qe)=>ee.name.localeCompare(Qe.name)),userPosition:Ke,positionChange:null,submittedMembers:Array.from(kt),sortedMemberIds:[...qe],latestGwWinners:Array.from(Re)};z.name==="Prem Predictions"&&(console.error(" PREM PREDICTIONS STORING DATA "),console.error("storedData.sortedMemberIds:",Et.sortedMemberIds),console.error("storedData.sortedMemberIds length:",Et.sortedMemberIds?.length??0),console.error("storedData.members length:",Et.members.length),console.error("storedData.sortedMemberIds initials:",(Et.sortedMemberIds||[]).map(ee=>{const Qe=Et.members.find(me=>me.id===ee);return Qe?ts(Qe.name):"?"}))),He[z.id]=Et}catch(ae){console.error(`Error loading data for league ${z.id} (${z.name}):`,ae),console.error("Error details:",ae instanceof Error?ae.message:ae),He[z.id]={id:z.id,members:[],userPosition:null,positionChange:null,sortedMemberIds:[],latestGwWinners:[]}}}if(ge){console.log("Setting leagueData:",Object.keys(He).map(ae=>{const gt=He[ae];return{id:ae,userPosition:gt.userPosition,membersCount:gt.members.length,hasSortedMemberIds:!!gt.sortedMemberIds}}));const fe=A.find(ae=>ae.name?.toLowerCase().includes("forget"));fe&&He[fe.id]?console.error("[forget it] SETTING leagueData - Found in leagueDataMap:",{leagueId:fe.id,leagueName:fe.name,data:He[fe.id],sortedMemberIds:He[fe.id].sortedMemberIds,membersCount:He[fe.id].members.length}):fe&&console.error("[forget it] SETTING leagueData - NOT FOUND in leagueDataMap!",{leagueId:fe.id,leagueName:fe.name,leagueDataMapKeys:Object.keys(He)});const z=Object.fromEntries(Object.entries(He).map(([ae,gt])=>[ae,{...gt,sortedMemberIds:[...gt.sortedMemberIds||[]],latestGwWinners:[...gt.latestGwWinners||[]],members:[...gt.members||[]]}]));mt(z),I(!1),console.log("[Home] Final leagueData set:",Object.keys(He).map(ae=>{const gt=He[ae];return{leagueName:A.find($=>$.id===ae)?.name||ae,sortedMemberIds:gt.sortedMemberIds,latestGwWinners:gt.latestGwWinners}}))}else I(!1)}catch(ke){console.error("[Home] Error calculating league data:",ke),ge&&I(!1)}})(),()=>{ge=!1}},[A,r?.id,f]),x.useEffect(()=>{let ge=!0;return(async()=>{try{let ke=!1;try{const{count:he}=await J.from("users").select("id",{count:"exact",head:!0});ge&&typeof he=="number"&&(P(he),ke=!0)}catch{}if(!ke)try{const{count:he}=await J.from("picks").select("user_id",{count:"exact",head:!0});ge&&typeof he=="number"&&P(he)}catch{}try{const{data:he}=await J.from("v_ocp_overall").select("user_id, ocp").order("ocp",{ascending:!1});if(ge&&Array.isArray(he)&&he.length){const Ue=he.findIndex(Ne=>Ne.user_id===r?.id);if(Ue!==-1){console.log("Using v_ocp_overall (same as Global page):",Ue+1,"from",he.length,"players"),L(Ue+1);try{const{data:Ne}=await J.from("v_gw_points").select("user_id, gw, points");if(Ne&&Ne.length>0){const ie=Math.max(...Ne.map(je=>je.gw)),ue=new Map;Ne.forEach(je=>{je.gw<ie&&ue.set(je.user_id,(ue.get(je.user_id)||0)+(je.points||0))});const Je=Array.from(ue.entries()).sort((je,rt)=>rt[1]-je[1]||je[0].localeCompare(rt[0])).findIndex(([je])=>je===r?.id);Je!==-1&&(console.log("Previous rank from v_gw_points:",Je+1),ge&&X(Je+1))}}catch(Ne){console.log("Could not calculate previous rank:",Ne)}return}}}catch{}try{const[{data:he},{data:Ue},{data:Ne}]=await Promise.all([J.from("gw_results").select("gw,fixture_index,result"),J.from("picks").select("user_id,gw,fixture_index,pick"),J.from("gw_submissions").select("user_id,gw,submitted_at")]),ie=he||[],ue=Ue||[],pt=Ne||[],Je=new Map;pt.forEach(Fe=>{Fe.submitted_at&&Je.set(`${Fe.user_id}:${Fe.gw}`,!0)});const je=new Map;ie.forEach(Fe=>{(Fe.result==="H"||Fe.result==="D"||Fe.result==="A")&&je.set(`${Fe.gw}:${Fe.fixture_index}`,Fe.result)});const rt=Math.max(...ie.map(Fe=>Fe.gw)),it=new Map;ue.forEach(Fe=>{if(!Je.get(`${Fe.user_id}:${Fe.gw}`))return;const nt=je.get(`${Fe.gw}:${Fe.fixture_index}`);nt&&(Fe.pick===nt?it.set(Fe.user_id,(it.get(Fe.user_id)||0)+1):it.has(Fe.user_id)||it.set(Fe.user_id,0))});const Ge=new Map;if(ue.forEach(Fe=>{if(Fe.gw>=rt||!Je.get(`${Fe.user_id}:${Fe.gw}`))return;const nt=je.get(`${Fe.gw}:${Fe.fixture_index}`);nt&&(Fe.pick===nt?Ge.set(Fe.user_id,(Ge.get(Fe.user_id)||0)+1):Ge.has(Fe.user_id)||Ge.set(Fe.user_id,0))}),it.size){const Fe=Array.from(it.entries()).sort((bt,He)=>He[1]-bt[1]||bt[0].localeCompare(He[0])),nt=Fe.findIndex(([bt])=>bt===r?.id);if(ge&&nt!==-1&&(console.log("Current rank calculation:",{myIndex:nt,rank:nt+1,myScore:it.get(r?.id??""),ordered:Fe.slice(0,5).map(([bt,He])=>({uid:bt.slice(0,8),score:He}))}),L(nt+1)),console.log("Previous scores debug:",{prevScoresSize:Ge.size,latestGw:rt,hasUserInPrevScores:Ge.has(r?.id??""),userPrevScore:Ge.get(r?.id??"")}),Ge.size>0){const bt=Array.from(Ge.entries()).sort((fe,z)=>z[1]-fe[1]||fe[0].localeCompare(z[0])),He=bt.findIndex(([fe])=>fe===r?.id);console.log("Previous rank calculation:",{prevMyIndex:He,prevRank:He!==-1?He+1:"not found",prevScore:Ge.get(r?.id??""),prevOrdered:bt.slice(0,5).map(([fe,z])=>({uid:fe.slice(0,8),score:z}))}),ge&&He!==-1&&X(He+1)}else console.log("No previous scores found - prevScores is empty")}}catch{}}finally{}})(),()=>{ge=!1}},[r?.id]),x.useEffect(()=>{if(!r?.id)return;let ge=!0;return(async()=>{try{const{data:ke,error:he}=await J.from("gw_results").select("gw").order("gw",{ascending:!1}).limit(1).maybeSingle();if(he)throw he;const Ue=ke?.gw??null;if(!Ue)return;const{data:Ne}=await J.from("fixtures").select("fixture_index").eq("gw",Ue),ie=Ne?[...new Set(Ne.map(Ge=>Ge.fixture_index))].length:10,[{data:ue},{data:pt}]=await Promise.all([J.from("v_gw_points").select("user_id, gw, points").order("gw",{ascending:!0}),J.from("v_ocp_overall").select("user_id, name, ocp")]),Je=ue||[],je=pt||[],rt=new Map(je.map(Ge=>[Ge.user_id,Ge.name??"User"]));if(ge&&(U(Je),Je.length>0)){const Ge=Math.max(...Je.map(Fe=>Fe.gw));N(Ge)}const it=Je.filter(Ge=>Ge.gw===Ue);if(it.length>0&&ge){const Ge=it.map(He=>({user_id:He.user_id,name:rt.get(He.user_id)??"User",points:He.points??0})).sort((He,fe)=>fe.points-He.points||He.name.localeCompare(fe.name));let Fe=1;const nt=Ge.map((He,fe)=>(fe>0&&Ge[fe-1].points!==He.points&&(Fe=fe+1),{...He,rank:Fe})),bt=nt.find(He=>He.user_id===r.id);if(bt){const fe=nt.filter(z=>z.rank===bt.rank).length>1;W({rank:bt.rank,total:it.length,score:bt.points,gw:Ue,totalFixtures:ie,isTied:fe})}}if(Ue>=5){const Ge=Ue-4,Fe=Je.filter(z=>z.gw>=Ge&&z.gw<=Ue),nt=new Map;je.forEach(z=>{nt.set(z.user_id,{user_id:z.user_id,name:z.name??"User",formPoints:0,weeksPlayed:new Set})}),Fe.forEach(z=>{const ae=nt.get(z.user_id);ae?(ae.formPoints+=z.points??0,ae.weeksPlayed.add(z.gw)):nt.set(z.user_id,{user_id:z.user_id,name:"User",formPoints:z.points??0,weeksPlayed:new Set([z.gw])})});const bt=Array.from(nt.values()).filter(z=>{for(let ae=Ge;ae<=Ue;ae++)if(!z.weeksPlayed.has(ae))return!1;return!0}).sort((z,ae)=>ae.formPoints-z.formPoints||z.name.localeCompare(ae.name));let He=1;const fe=bt.map((z,ae)=>(ae>0&&bt[ae-1].formPoints!==z.formPoints&&(He=ae+1),{...z,rank:He}));if(fe.length>0&&ge){const z=fe.find(ae=>ae.user_id===r.id);if(z){const gt=fe.filter(_t=>_t.rank===z.rank).length>1;Ae({rank:z.rank,total:fe.length,isTied:gt})}}}if(Ue>=10){const Ge=Ue-9,Fe=Je.filter(z=>z.gw>=Ge&&z.gw<=Ue),nt=new Map;je.forEach(z=>{nt.set(z.user_id,{user_id:z.user_id,name:z.name??"User",formPoints:0,weeksPlayed:new Set})}),Fe.forEach(z=>{const ae=nt.get(z.user_id);ae?(ae.formPoints+=z.points??0,ae.weeksPlayed.add(z.gw)):nt.set(z.user_id,{user_id:z.user_id,name:"User",formPoints:z.points??0,weeksPlayed:new Set([z.gw])})});const bt=Array.from(nt.values()).filter(z=>{for(let ae=Ge;ae<=Ue;ae++)if(!z.weeksPlayed.has(ae))return!1;return!0}).sort((z,ae)=>ae.formPoints-z.formPoints||z.name.localeCompare(ae.name));let He=1;const fe=bt.map((z,ae)=>(ae>0&&bt[ae-1].formPoints!==z.formPoints&&(He=ae+1),{...z,rank:He}));if(fe.length>0&&ge){const z=fe.find(ae=>ae.user_id===r.id);if(z){const gt=fe.filter(_t=>_t.rank===z.rank).length>1;$e({rank:z.rank,total:fe.length,isTied:gt})}}}if(je.length>0&&ge){const Ge=[...je].sort((He,fe)=>(fe.ocp??0)-(He.ocp??0)||(He.name??"User").localeCompare(fe.name??"User"));let Fe=1;const nt=Ge.map((He,fe)=>(fe>0&&(Ge[fe-1].ocp??0)!==(He.ocp??0)&&(Fe=fe+1),{...He,rank:Fe})),bt=nt.find(He=>He.user_id===r.id);if(bt){const fe=nt.filter(z=>z.rank===bt.rank).length>1;ce({rank:bt.rank,total:je.length,isTied:fe})}}}catch(ke){console.error("Error calculating leaderboard rankings:",ke)}})(),()=>{ge=!1}},[r?.id]);const Pt=x.useMemo(()=>{if(!r?.id||!Q)return null;const ge=G.filter(ue=>ue.user_id===r.id).sort((ue,pt)=>pt.gw-ue.gw);if(ge.length===0)return null;let ke=0,he=Q;const Ue=new Set(ge.map(ue=>ue.gw));for(;he>=1&&Ue.has(he);)ke++,he--;const Ne=[],ie=Math.max(1,Q-9);for(let ue=Q;ue>=ie;ue--){const pt=ge.find(Je=>Je.gw===ue);Ne.push({gw:ue,score:pt?pt.points:null})}return{streak:ke,last10GwScores:Ne.reverse()}},[r?.id,G,Q]);x.useEffect(()=>{const ge=J.channel(`home-unreads:${r?.id??"anon"}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"league_messages"},ke=>{try{const he=ke?.new?.league_id,Ue=ke?.new?.user_id;if(!he||!It.current.has(he)||Ue&&Ue===r?.id)return;ye(Ne=>({...Ne,[he]:(Ne?.[he]??0)+1}))}catch{}}).subscribe();return()=>{J.removeChannel(ge)}},[r?.id]),x.useEffect(()=>{const ge=async()=>{try{const{data:ke}=await J.from("league_message_reads").select("league_id,last_read_at").eq("user_id",r?.id),he=new Map;(ke??[]).forEach(Ne=>he.set(Ne.league_id,Ne.last_read_at));const Ue={};for(const Ne of It.current){const ie=he.get(Ne)??"1970-01-01T00:00:00Z",{data:ue,count:pt}=await J.from("league_messages").select("id",{count:"exact"}).eq("league_id",Ne).gte("created_at",ie);Ue[Ne]=typeof pt=="number"?pt:ue?.length??0}ye(Ue)}catch{}};return window.addEventListener("focus",ge),()=>window.removeEventListener("focus",ge)},[r?.id]);const Yt=({title:ge,subtitle:ke,headerRight:he,className:Ue,boxed:Ne=!0,icon:ie,children:ue})=>a.jsxs("section",{className:Ue??"",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-base font-medium text-slate-500 uppercase tracking-wide",children:ge}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-slate-400 flex items-center justify-center",children:a.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:"i"})})]}),he&&a.jsx("div",{children:he})]}),ke&&a.jsx("div",{className:"mt-1 text-sm text-slate-500",children:ke}),Ne?a.jsx("div",{className:"mt-3 rounded-2xl border bg-slate-50 overflow-hidden",children:ue}):a.jsx("div",{className:"mt-3",children:ue})]}),ze=async()=>{if(!(!c.length||v===null))try{let ge=0;c.forEach(je=>{const rt=C[je.fixture_index],it=E[je.fixture_index];rt&&it&&rt===it&&ge++});const ke=document.createElement("div");ke.style.position="absolute",ke.style.left="-9999px",ke.style.width="1080px",ke.style.height="1080px",ke.style.backgroundColor="#1C8376",ke.style.padding="40px",ke.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',ke.style.display="flex",ke.style.flexDirection="column",ke.style.boxSizing="border-box",document.body.appendChild(ke);const he=document.createElement("div");he.style.display="flex",he.style.flexDirection="column",he.style.alignItems="center",he.style.marginBottom="30px",he.style.flexShrink="0";const Ue=document.createElement("img");Ue.crossOrigin="anonymous",Ue.style.width="200px",Ue.style.height="auto",Ue.style.marginBottom="20px",Ue.style.filter="brightness(0) invert(1)",he.appendChild(Ue),await new Promise(je=>{Ue.onload=()=>je(),Ue.onerror=()=>je(),Ue.src="/assets/badges/totl-logo1.svg"});const Ne=document.createElement("div");Ne.style.textAlign="center",Ne.style.color="#ffffff",Ne.innerHTML=`
        <div style="font-size: 36px; font-weight: 700; margin-bottom: 8px; opacity: 0.95;">Game Week ${f}</div>
        <div style="font-size: 96px; font-weight: 800; margin-bottom: 4px; line-height: 1;">${ge}<span style="font-size: 64px; opacity: 0.8;">/${c.length}</span></div>
        <div style="font-size: 24px; font-weight: 600; opacity: 0.9;">Score</div>
      `,he.appendChild(Ne),ke.appendChild(he);const ie=document.createElement("div");ie.style.display="grid",ie.style.gridTemplateColumns="repeat(5, 1fr)",ie.style.gridTemplateRows="repeat(2, 1fr)",ie.style.gap="12px",ie.style.flex="1",ie.style.minHeight="0";const ue=[...c].sort((je,rt)=>je.fixture_index-rt.fixture_index),pt=ue.map(je=>{const rt=(je.home_code||je.home_name||je.home_team||"").toUpperCase(),it=(je.away_code||je.away_name||je.away_team||"").toUpperCase();return Promise.all([new Promise(Ge=>{const Fe=new Image;Fe.crossOrigin="anonymous",Fe.onload=()=>Ge(Fe),Fe.onerror=()=>Ge(Fe),Fe.src=`/assets/badges/${rt}.png`}),new Promise(Ge=>{const Fe=new Image;Fe.crossOrigin="anonymous",Fe.onload=()=>Ge(Fe),Fe.onerror=()=>Ge(Fe),Fe.src=`/assets/badges/${it}.png`})])});await Promise.all(pt),ue.forEach((je,rt)=>{const it=C[je.fixture_index],Ge=E[je.fixture_index],Fe=(je.home_code||je.home_name||je.home_team||"").toUpperCase(),nt=(je.away_code||je.away_name||je.away_team||"").toUpperCase(),bt=Sn(Fe),He=Sn(nt),fe=it&&Ge&&it===Ge,z=document.createElement("div");z.style.backgroundColor="#ffffff",z.style.borderRadius="16px",z.style.padding="16px",z.style.display="flex",z.style.flexDirection="column",z.style.alignItems="center",z.style.justifyContent="center",z.style.gap="10px",z.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)";const ae=document.createElement("div");ae.style.display="flex",ae.style.flexDirection="column",ae.style.alignItems="center",ae.style.gap="8px",ae.style.width="100%";const gt=document.createElement("div");gt.style.display="flex",gt.style.flexDirection="column",gt.style.alignItems="center",gt.style.gap="4px";const _t=document.createElement("img");_t.src=`/assets/badges/${Fe}.png`,_t.style.width="40px",_t.style.height="40px",_t.style.objectFit="contain",_t.onerror=()=>{_t.style.display="none"};const $=document.createElement("div");$.textContent=bt,$.style.fontSize="14px",$.style.fontWeight="600",$.style.color="#0f172a",$.style.textAlign="center",$.style.lineHeight="1.2",gt.appendChild(_t),gt.appendChild($),ae.appendChild(gt);const Be=document.createElement("div");Be.textContent="vs",Be.style.fontSize="12px",Be.style.color="#64748b",Be.style.fontWeight="500",ae.appendChild(Be);const Ie=document.createElement("div");Ie.style.display="flex",Ie.style.flexDirection="column",Ie.style.alignItems="center",Ie.style.gap="4px";const Pe=document.createElement("img");Pe.src=`/assets/badges/${nt}.png`,Pe.style.width="40px",Pe.style.height="40px",Pe.style.objectFit="contain",Pe.onerror=()=>{Pe.style.display="none"};const se=document.createElement("div");se.textContent=He,se.style.fontSize="14px",se.style.fontWeight="600",se.style.color="#0f172a",se.style.textAlign="center",se.style.lineHeight="1.2",Ie.appendChild(Pe),Ie.appendChild(se),ae.appendChild(Ie),z.appendChild(ae);const Me=document.createElement("div");Me.style.display="flex",Me.style.justifyContent="center",Me.style.gap="8px",Me.style.marginTop="4px",["H","D","A"].forEach(pe=>{const tt=document.createElement("div");tt.style.width="24px",tt.style.height="24px",tt.style.borderRadius="50%",tt.style.border="2px solid #ffffff",it===pe?fe?(tt.style.background="linear-gradient(135deg, #fbbf24, #f97316, #ec4899, #9333ea)",tt.style.boxShadow="0 2px 8px rgba(251, 191, 36, 0.5)"):tt.style.backgroundColor="#ef4444":Ge===pe?tt.style.backgroundColor="#d1d5db":(tt.style.backgroundColor="transparent",tt.style.border="2px solid #e2e8f0"),Me.appendChild(tt)}),z.appendChild(Me),ie.appendChild(z)}),ke.appendChild(ie),await new Promise(je=>setTimeout(je,1500)),(await V_(ke,{width:1080,height:1080,scale:1,backgroundColor:"#1C8376",useCORS:!0,logging:!1,allowTaint:!1})).toBlob(async je=>{if(!je){document.body.removeChild(ke);return}const rt=new File([je],`gw${f}-predictions.png`,{type:"image/png"});if(navigator.share&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent))try{if(navigator.canShare&&navigator.canShare({files:[rt]})){await navigator.share({files:[rt],title:`Game Week ${f} Predictions`,text:`My Game Week ${f} predictions: ${ge}/${c.length}`}),document.body.removeChild(ke);return}await navigator.share({files:[rt],title:`Game Week ${f} Predictions`,text:`My Game Week ${f} predictions: ${ge}/${c.length}`}),document.body.removeChild(ke);return}catch(nt){if(nt.name==="AbortError"||nt.message?.includes("cancel")){document.body.removeChild(ke);return}console.log("File sharing not supported, falling back to download")}const it=URL.createObjectURL(je),Ge=document.createElement("a");Ge.href=it,Ge.download=`gw${f}-predictions.png`,document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge),URL.revokeObjectURL(it),document.body.removeChild(ke)},"image/png")}catch(ge){console.error("Error sharing predictions:",ge),alert("Failed to generate shareable image. Please try again.")}},ot=()=>a.jsxs(a.Fragment,{children:[a.jsx(Yt,{title:"Leaderboards",boxed:!1,children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"h-full rounded-3xl border-2 border-slate-200 bg-slate-50/80 p-4 sm:p-6 animate-pulse",children:[a.jsx("div",{className:"flex items-start gap-3",children:a.jsx("div",{className:"h-12 w-12 sm:h-14 sm:w-14 rounded-full bg-slate-200 flex-shrink-0"})}),a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"h-6 w-32 bg-slate-200 rounded mb-2"}),a.jsx("div",{className:"h-4 w-24 bg-slate-200 rounded"})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[a.jsx("div",{className:"h-5 w-16 bg-slate-200 rounded"}),a.jsx("div",{className:"h-5 w-12 bg-slate-200 rounded"})]})]}),a.jsxs("div",{className:"h-full rounded-3xl border-2 border-slate-200 bg-amber-50/60 p-4 sm:p-6 animate-pulse relative",children:[a.jsx("div",{className:"absolute top-4 left-4 h-4 w-12 bg-slate-200 rounded"}),a.jsx("div",{className:"absolute bottom-4 left-4 h-4 w-32 bg-slate-200 rounded"}),a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"h-16 w-16 bg-slate-200 rounded"})})]})]})}),a.jsxs("section",{className:"mt-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:"h-8 w-48 bg-slate-200 rounded animate-pulse"})}),a.jsx("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:a.jsx("div",{className:"flex gap-2",style:{width:"max-content"},children:[1,2,3].map(ge=>a.jsx("div",{className:"flex flex-col gap-2",children:[1,2,3].map(ke=>a.jsx("div",{className:"rounded-xl border bg-white overflow-hidden shadow-sm w-[320px] animate-pulse",style:{borderRadius:"12px"},children:a.jsx("div",{className:"p-4 bg-white relative",children:a.jsxs("div",{className:"flex items-start gap-3 relative",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-slate-200"}),a.jsx("div",{className:"flex-1 min-w-0 h-12 flex flex-col justify-between",children:a.jsx("div",{className:"h-5 w-32 bg-slate-200 rounded -mt-0.5"})}),a.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-1",children:a.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200"})})]})})},ke))},ge))})})]}),a.jsxs("section",{className:"mt-8",children:[a.jsx("div",{className:"h-8 w-32 bg-slate-200 rounded animate-pulse mb-3"}),a.jsx("div",{className:"rounded-2xl border bg-slate-50 overflow-hidden p-4",children:a.jsx("div",{className:"space-y-3",children:[1,2,3].map(ge=>a.jsx("div",{className:"h-16 bg-white rounded-lg border border-slate-200 animate-pulse"},ge))})})]})]});return a.jsxs("div",{ref:St,className:`max-w-6xl mx-auto px-4 py-4 min-h-screen relative ${e?"oldschool-theme":""}`,children:[wt&&a.jsx("div",{className:"absolute top-0 left-0 right-0 flex items-center justify-center z-50 pointer-events-none",style:{transform:`translateY(${Math.max(0,dt-40)}px)`,opacity:Wt,transition:De?"opacity 0.3s":"none"},children:a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-slate-400 border-t-transparent",style:{transform:`rotate(${De?jt+360:jt}deg)`,transition:De?"transform 0.5s linear infinite":"none"}})}),a.jsx(CC,{}),(S||R)&&$t.current?a.jsx(ot,{}):a.jsxs(a.Fragment,{children:[a.jsx(Yt,{title:"Leaderboards",boxed:!1,children:a.jsxs("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain",touchAction:"pan-x pinch-zoom"},children:[a.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar {
                  display: none;
                }
              `}),a.jsxs("div",{className:"flex gap-2",style:{width:"max-content",minWidth:"100%"},children:[a.jsx(_A,{to:"/global?tab=lastgw",className:"flex-shrink-0 w-[148px] h-[148px] rounded-xl border bg-white shadow-sm overflow-hidden cursor-pointer block",children:a.jsxs("div",{className:"p-3 h-full flex flex-col relative",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("div",{className:"flex items-baseline gap-[3px]",style:{marginTop:"-4px"},children:M?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[#1C8376]",style:{fontSize:"38px",fontWeight:"normal",lineHeight:"1"},children:M.score}),a.jsxs("div",{className:"flex items-baseline gap-[4px]",children:[a.jsx("span",{className:"text-slate-500",style:{fontSize:"18px",fontWeight:"normal",lineHeight:"1"},children:"/"}),a.jsx("span",{className:"text-slate-500",style:{fontSize:"18px",fontWeight:"normal",lineHeight:"1"},children:M.totalFixtures})]})]}):a.jsx("span",{className:"leading-none text-slate-900",children:""})}),a.jsx("svg",{className:"w-4 h-4 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("div",{className:"mt-auto",children:[a.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:["GAME WEEK ",M?.gw??""]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"text-xs font-semibold text-slate-900",children:M&&M.total>0?`TOP ${Math.round(M.rank/M.total*100)}%`:""})})]})]})}),a.jsx(_A,{to:"/global?tab=form5",className:"flex-shrink-0 w-[148px] h-[148px] rounded-xl border bg-white shadow-sm overflow-hidden cursor-pointer block",children:a.jsxs("div",{className:"p-3 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("img",{src:"/assets/5-week-form-badge.png",alt:"5-Week Form Badge",className:"w-[32px] h-[32px]"}),a.jsx("svg",{className:"w-4 h-4 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("div",{className:"mt-auto",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"5-WEEK FORM"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"text-xs font-semibold text-slate-900",children:ne&&ne.total>0?`TOP ${Math.round(ne.rank/ne.total*100)}%`:""})})]})]})}),a.jsx(_A,{to:"/global?tab=form10",className:"flex-shrink-0 w-[148px] h-[148px] rounded-xl border bg-white shadow-sm overflow-hidden cursor-pointer block",children:a.jsxs("div",{className:"p-3 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("img",{src:"/assets/10-week-form-badge.png",alt:"10-Week Form Badge",className:"w-[32px] h-[32px]"}),a.jsx("svg",{className:"w-4 h-4 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("div",{className:"mt-auto",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"10-WEEK FORM"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"text-xs font-semibold text-slate-900",children:Ee&&Ee.total>0?`TOP ${Math.round(Ee.rank/Ee.total*100)}%`:""})})]})]})}),a.jsx(_A,{to:"/global?tab=overall",className:"flex-shrink-0 w-[148px] h-[148px] rounded-xl border bg-white shadow-sm overflow-hidden cursor-pointer block",children:a.jsxs("div",{className:"p-3 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("img",{src:"/assets/season-rank-badge.png",alt:"Season Rank Badge",className:"w-[32px] h-[32px]"}),a.jsx("svg",{className:"w-4 h-4 text-slate-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),a.jsxs("div",{className:"mt-auto",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"SEASON RANK"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"text-xs font-semibold text-slate-900",children:te&&te.total>0?`TOP ${Math.round(te.rank/te.total*100)}%`:""})})]})]})}),Pt&&a.jsx("div",{className:"flex-shrink-0 w-[340px] sm:w-[400px] h-[148px] rounded-xl border bg-white shadow-sm overflow-hidden hover:shadow-md transition-shadow relative",children:a.jsxs("div",{className:"p-3 h-full flex flex-col",children:[a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"mb-2 relative",style:{height:"70px"},children:(()=>{const ge=Pt.last10GwScores,ke=ge.filter(ue=>ue.score!==null),he=ke.length>0?Math.max(...ke.map(ue=>ue.score)):10,Ue=0,Ne=he-Ue||1,ie=60;return a.jsx("div",{className:"relative h-full",children:a.jsx("div",{className:"flex items-end justify-between gap-1 h-full px-1",children:ge.map((ue,pt)=>{const Je=ue.score!==null,je=ue.gw===Q,rt=ue.score??0,it=Je?(rt-Ue)/Ne*ie:0;return a.jsxs("div",{className:"flex flex-col items-center justify-end gap-1 flex-1 relative min-w-0",children:[Je&&a.jsx("div",{className:`text-xs font-bold mb-0.5 leading-none ${je?"text-[#1C8376]":"text-slate-700"}`,children:rt}),a.jsx("div",{className:`w-full rounded-t transition-all ${Je?je?"bg-[#1C8376]":"bg-slate-400":"bg-slate-200"}`,style:{height:`${it}px`,minHeight:Je?"4px":"0"},title:Je?`GW${ue.gw}: ${rt}`:`GW${ue.gw}: Not played`}),a.jsxs("div",{className:`text-[10px] font-medium leading-tight ${Je?je?"text-[#1C8376] font-bold":"text-slate-700":"text-slate-400"}`,children:["GW",ue.gw]})]},ue.gw)})})})})()}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("svg",{className:"w-3 h-3 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:2}),a.jsx("circle",{cx:"12",cy:"12",r:"6",strokeWidth:2}),a.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"})]}),a.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Your Streak"," ",a.jsx("span",{className:"font-bold text-orange-500",children:Pt.streak>0?`${Pt.streak} ${Pt.streak===1?"Week":"Weeks"}`:"Start your streak!"})]})]}),a.jsx("span",{className:"text-[10px] font-medium text-slate-400",children:"Last 10"})]})]})})]})]},`leaderboard-scroll-${de.current}`)}),a.jsxs("section",{className:"mt-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-base font-medium text-slate-500 uppercase tracking-wide",children:"Mini Leagues"}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-slate-400 flex items-center justify-center",children:a.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:"i"})})]})}),a.jsxs("div",{children:[(console.log("[Home] Mini Leagues render check:",{loading:S,isInitialMount:$t.current,leaguesLength:A.length}),null),(S||R)&&$t.current&&A.length===0?a.jsxs("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain"},children:[a.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar {
                  display: none;
                }
              `}),a.jsx("div",{className:"flex gap-2",style:{width:"max-content",minWidth:"100%"},children:[1,2,3].map(ge=>a.jsx("div",{className:"flex flex-col gap-2",children:[1,2,3].map(ke=>a.jsx("div",{className:"rounded-xl border bg-white overflow-hidden shadow-sm w-[320px] animate-pulse",style:{borderRadius:"12px"},children:a.jsx("div",{className:"p-4 bg-white relative",children:a.jsxs("div",{className:"flex items-start gap-3 relative",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-slate-200"}),a.jsx("div",{className:"flex-1 min-w-0 h-12 flex flex-col justify-between",children:a.jsx("div",{className:"h-5 w-32 bg-slate-200 rounded -mt-0.5"})}),a.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-1",children:a.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200"})})]})})},ke))},ge))})]}):(S||R)&&$t.current&&A.length>0?a.jsxs("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain"},children:[a.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar {
                  display: none;
                }
              `}),a.jsx("div",{className:"flex gap-2",style:{width:"max-content",minWidth:"100%"},children:[1,2,3].map(ge=>a.jsx("div",{className:"flex flex-col gap-2",children:[1,2,3].map(ke=>a.jsx("div",{className:"rounded-xl border bg-white overflow-hidden shadow-sm w-[320px] animate-pulse",style:{borderRadius:"12px"},children:a.jsx("div",{className:"p-4 bg-white relative",children:a.jsxs("div",{className:"flex items-start gap-3 relative",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-slate-200"}),a.jsx("div",{className:"flex-1 min-w-0 h-12 flex flex-col justify-between",children:a.jsx("div",{className:"h-5 w-32 bg-slate-200 rounded -mt-0.5"})}),a.jsx("div",{className:"absolute top-4 right-4 flex flex-col items-end gap-1",children:a.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200"})})]})})},ke))},ge))})]}):!S&&A.length===0?a.jsxs("div",{className:"p-6 bg-white rounded-lg border border-slate-200 text-center",children:[a.jsx("div",{className:"text-slate-600 mb-3",children:"You don't have any mini leagues yet."}),a.jsx(_A,{to:"/leagues",className:"inline-block px-4 py-2 bg-[#1C8376] text-white font-semibold rounded-lg hover:bg-[#1C8376]/80 transition-colors no-underline",children:"Create one now!"})]}):a.jsxs("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain",touchAction:"pan-x pinch-zoom"},children:[a.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar {
                  display: none;
                }
              `}),a.jsx("div",{className:"flex gap-2",style:{width:"max-content",minWidth:"100%"},children:(()=>{const ge=[...A].sort((ke,he)=>{const Ue=Se?.[ke.id]??0,Ne=Se?.[he.id]??0;return Ue>0&&Ne===0?-1:Ue===0&&Ne>0?1:ke.name.localeCompare(he.name)});return Array.from({length:Math.ceil(ge.length/3)}).map((ke,he)=>{const Ue=he*3,Ne=ge.slice(Ue,Ue+3);return a.jsx("div",{className:"flex flex-col rounded-xl border bg-white overflow-hidden shadow-sm w-[320px]",children:Ne.map((ie,ue)=>{const pt=ie.id,Je=Se?.[ie.id]??0,je=Je>0?Math.min(Je,99):0;return a.jsxs("div",{className:ue<Ne.length-1?"relative":"",children:[ue<Ne.length-1&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-px bg-slate-200 z-10 pointer-events-none"}),a.jsxs(_A,{to:`/league/${ie.code}`,className:"block p-4 !bg-white no-underline hover:text-inherit relative z-20",style:{cursor:"pointer",position:"relative",WebkitTapHighlightColor:"transparent"},children:[a.jsxs("div",{className:"flex items-start gap-3 relative",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center overflow-hidden bg-slate-100",children:a.jsx("img",{src:Kp(ie.id,96),alt:`${ie.name} avatar`,className:"w-full h-full object-cover",onError:rt=>{const it=rt.target,Ge=Gp(ie.id,96);if(it.src!==Ge)it.src=Ge;else{it.style.display="none";const Fe=it.parentElement;Fe&&!Fe.querySelector("svg")&&(Fe.innerHTML=`
                                            <svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                            </svg>
                                          `)}}})}),a.jsxs("div",{className:"flex-1 min-w-0 h-12 flex flex-col justify-between",children:[a.jsx("div",{className:"text-base font-semibold text-slate-900 truncate -mt-0.5",children:ie.name}),a.jsxs("div",{className:"flex items-center overflow-x-hidden overflow-y-visible mt-1 py-0.5",children:[(()=>{if(R)return null;const rt=We[ie.id];if(!rt)return null;const it=rt.members||[];if(it.length===0)return null;const Ge=rt?.sortedMemberIds;if(!Ge||Ge.length===0){const He=[...it].sort((ae,gt)=>ae.name.localeCompare(gt.name)),fe=rt?.submittedMembers instanceof Set?rt.submittedMembers:new Set(rt?.submittedMembers??[]),z=rt?.latestGwWinners instanceof Set?rt.latestGwWinners:new Set(rt?.latestGwWinners??[]);return He.slice(0,8).map((ae,gt)=>{const _t=fe.has(ae.id),$=z.has(ae.id);let Be="chip-container rounded-full flex items-center justify-center text-[10px] font-medium flex-shrink-0 w-6 h-6";return $?Be+=" bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white shadow-xl shadow-yellow-400/40 font-semibold relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]":_t?Be+=" chip-green":Be+=" chip-grey",gt>0&&(Be+=" chip-overlap"),a.jsx("div",{className:Be,title:ae.name,children:ts(ae.name)},ae.id)})}const Fe=Ge.map(He=>it.find(fe=>fe.id===He)).filter(He=>He!==void 0),nt=rt?.submittedMembers instanceof Set?rt.submittedMembers:new Set(rt?.submittedMembers??[]),bt=rt?.latestGwWinners instanceof Set?rt.latestGwWinners:new Set(rt?.latestGwWinners??[]);return Fe.slice(0,8).map((He,fe)=>{const z=nt.has(He.id),ae=bt.has(He.id);let gt="chip-container rounded-full flex items-center justify-center text-[10px] font-medium flex-shrink-0 w-6 h-6";return ae?gt+=" bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white shadow-xl shadow-yellow-400/40 font-semibold relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]":z?gt+=" chip-green":gt+=" chip-grey",fe>0&&(gt+=" chip-overlap"),a.jsx("div",{className:gt,title:He.name,children:ts(He.name)},He.id)})})(),(()=>{const rt=We[ie.id];if(!rt)return null;const Ge=(rt?.sortedMemberIds||rt?.members?.map(Fe=>Fe.id)||[]).length;return Ge>8&&a.jsxs("div",{className:`chip-container chip-grey rounded-full flex items-center justify-center text-[10px] font-medium flex-shrink-0 ${Ge>1?"chip-overlap":""}`,style:{width:"24px",height:"24px"},children:["+",Ge-8]})})()]})]})]}),a.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 z-30 pointer-events-none",children:[je>0&&a.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-[#1C8376] text-white text-xs font-bold pointer-events-none",children:je}),a.jsx("svg",{className:"w-5 h-5 text-slate-400 flex-shrink-0 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},pt)})},he)})})()})]},`ml-scroll-${de.current}-${A.length}`)]})]}),a.jsxs("section",{className:"mt-[45px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-base font-medium text-slate-500 uppercase tracking-wide",children:"Games"}),a.jsx("div",{className:"w-4 h-4 rounded-full border border-slate-400 flex items-center justify-center",children:a.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:"i"})})]}),a.jsx("div",{className:"flex items-center gap-2",children:(()=>{let ge=0,ke=0,he=[];xe&&c.length>0&&(he=c.slice(0,3),he.forEach(Ne=>{const ie=Ve[Ne.fixture_index],ue=ie&&(ie.status==="LIVE"||ie.status==="IN_PLAY"||ie.status==="PAUSED"),pt=ie&&ie.status==="FINISHED";if(ie&&(ue||pt)){ue&&ke++;const Je=C[Ne.fixture_index];if(Je){let je=!1;(Je==="H"&&ie.homeScore>ie.awayScore||Je==="A"&&ie.awayScore>ie.homeScore||Je==="D"&&ie.homeScore===ie.awayScore)&&(je=!0),je&&ge++}}}));const Ue=he.length>0&&he.every(Ne=>{const ie=Ve[Ne.fixture_index];return ie&&ie.status==="FINISHED"});return xe&&he.length>0&&he.some(Ne=>{const ie=Ve[Ne.fixture_index];return ie&&(ie.status==="LIVE"||ie.status==="IN_PLAY"||ie.status==="PAUSED"||ie.status==="FINISHED")})?a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-white shadow-lg ${Ue?"bg-slate-600 shadow-slate-500/30":"bg-red-600 shadow-red-500/30"}`,children:[!Ue&&ke>0&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),Ue&&a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),a.jsx("span",{className:"text-xs sm:text-sm font-medium opacity-90",children:Ue?"Score":"Live"}),a.jsxs("span",{className:"flex items-baseline gap-0.5",children:[a.jsx("span",{className:"text-lg sm:text-xl font-extrabold",children:ge}),a.jsx("span",{className:"text-sm sm:text-base font-medium opacity-90",children:"/"}),a.jsx("span",{className:"text-base sm:text-lg font-semibold opacity-80",children:he.length})]})]}):v!==null&&Object.keys(E).length>0&&Object.keys(E).length===c.length?a.jsxs("button",{onClick:ze,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-600 text-white shadow-lg shadow-emerald-500/30 hover:bg-emerald-700 transition-all cursor-pointer",title:"Share your predictions",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium opacity-90",children:"Score"}),a.jsxs("span",{className:"flex items-baseline gap-0.5",children:[a.jsx("span",{className:"text-lg sm:text-xl font-extrabold",children:v}),a.jsx("span",{className:"text-sm sm:text-base font-medium opacity-90",children:"/"}),a.jsx("span",{className:"text-base sm:text-lg font-semibold opacity-80",children:c.length})]}),a.jsx("svg",{className:"w-4 h-4 ml-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})]}):c.length>0&&!g&&v===null?a.jsx(_A,{to:"/new-predictions",className:"inline-block px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 transition-colors no-underline",children:"Make your predictions"}):null})()})]}),re?a.jsx("div",{className:"mb-2",children:a.jsxs("span",{className:"text-slate-600 font-semibold",children:["GW",re," coming soon"]})}):null,c.length===0?a.jsx("div",{className:"p-4 text-slate-500",children:"No fixtures yet."}):a.jsx("div",{className:"mt-6",children:(()=>{const ge=xe?c.slice(0,3):c,ke=[],he=new Map;return ge.forEach(Ne=>{const ie=Ne.kickoff_time?new Date(Ne.kickoff_time):null,ue=ie?ie.toISOString().slice(0,10):"unknown";he.has(ue)||he.set(ue,[]),he.get(ue).push(Ne)}),[...he.keys()].sort((Ne,ie)=>Ne==="unknown"?1:ie==="unknown"?-1:Ne.localeCompare(ie)).forEach(Ne=>{const ie=he.get(Ne),ue=ie[0]?.kickoff_time?new Date(ie[0].kickoff_time):null,pt=ue?ue.toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short"}):"TBC";ke.push({label:pt,items:ie})}),ke.map((Ne,ie)=>a.jsxs("div",{className:ie>0?"mt-6":"",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-3 px-1",children:Ne.label}),a.jsx("div",{className:"flex flex-col rounded-xl border bg-white overflow-hidden shadow-sm",children:Ne.items.map((ue,pt)=>{const Je=C[ue.fixture_index];console.log("[Home] Rendering fixture:",{fixture_index:ue.fixture_index,pick:Je,home:ue.home_name,away:ue.away_name});const je=ue.home_name||ue.home_team||ue.home_code||"",rt=ue.away_name||ue.away_team||ue.away_code||"",it=Sn(je),Ge=Sn(rt),Fe=ue.kickoff_time?(()=>{const $=new Date(ue.kickoff_time),Be=String($.getUTCHours()).padStart(2,"0"),Ie=String($.getUTCMinutes()).padStart(2,"0");return`${Be}:${Ie}`})():"",nt=Ve[ue.fixture_index],bt=nt&&(nt.status==="LIVE"||nt.status==="IN_PLAY"||nt.status==="PAUSED"),He=nt&&nt.status==="FINISHED",fe=$=>{const Be=Je===$;let Ie=!1;return nt&&($==="H"&&nt.homeScore>nt.awayScore||$==="A"&&nt.awayScore>nt.homeScore||$==="D"&&nt.homeScore===nt.awayScore)&&(Ie=!0),{isPicked:Be,isCorrectResult:Ie,isCorrect:Be&&Ie,isWrong:Be&&(bt||He)&&!Ie}},z=fe("H"),ae=fe("D"),gt=fe("A"),_t=$=>{const Be="h-16 rounded-xl border text-sm font-medium transition-all flex items-center justify-center select-none",Ie=bt&&$.isCorrectResult;return $.isCorrect&&He?`${Be} bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white !border-0 !border-none shadow-2xl shadow-yellow-400/40 transform scale-110 rotate-1 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]`:$.isCorrect&&bt?`${Be} bg-emerald-600 text-white border-emerald-600 animate-pulse shadow-lg shadow-emerald-500/50`:$.isCorrectResult?`${Be} bg-emerald-600 text-white border-emerald-600 ${Ie?"animate-pulse shadow-lg shadow-emerald-500/50":""}`:$.isWrong&&He?`${Be} bg-slate-50 text-slate-600 border-4 animate-[flash-border_1s_ease-in-out_infinite]`:$.isWrong&&bt?`${Be} bg-slate-50 text-slate-600 border-4 animate-[flash-border_1s_ease-in-out_infinite]`:$.isPicked?`${Be} bg-[#1C8376] text-white border-[#1C8376]`:`${Be} bg-slate-50 text-slate-600 border-slate-200`};return a.jsxs("div",{className:pt<ge.length-1?"relative":"",children:[pt<ge.length-1&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-px bg-slate-200 z-10"}),a.jsxs("div",{className:"p-4 !bg-white relative z-0",children:[bt&&a.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2 z-10 pb-6",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs font-bold text-red-600 uppercase",children:"LIVE"})]}),a.jsxs("div",{className:`flex flex-col px-2 pb-3 ${bt?"pt-4":"pt-1"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-end",children:[a.jsx("div",{className:"font-medium break-words",children:it}),a.jsx("img",{src:`/assets/badges/${(ue.home_code||je).toUpperCase()}.png`,alt:it,className:"w-5 h-5",onError:$=>{$.currentTarget.style.opacity="0.35"}})]}),a.jsx("div",{className:"px-4 flex items-center",children:nt&&(bt||He)?a.jsxs("span",{className:"font-bold text-base text-slate-900",children:[nt.homeScore," - ",nt.awayScore]}):a.jsx("span",{className:"text-slate-500 text-sm",children:Fe})}),a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-start",children:[a.jsx("img",{src:`/assets/badges/${(ue.away_code||rt).toUpperCase()}.png`,alt:Ge,className:"w-5 h-5",onError:$=>{$.currentTarget.style.opacity="0.35"}}),a.jsx("div",{className:"font-medium break-words",children:Ge})]})]}),nt&&(bt||He)&&a.jsx("div",{className:"flex justify-center mt-1",children:a.jsx("span",{className:`text-[10px] font-semibold ${bt?"text-red-600":"text-slate-500"}`,children:He?"FT":nt.minute?`${nt.minute}'`:"LIVE"})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 relative",children:[a.jsx("div",{className:`${_t(z)} flex items-center justify-center`,children:a.jsx("span",{className:`${z.isCorrect?"font-bold":""} ${z.isWrong&&He?"line-through decoration-2 decoration-red-200":""}`,children:"Home Win"})}),a.jsx("div",{className:`${_t(ae)} flex items-center justify-center`,children:a.jsx("span",{className:`${ae.isCorrect?"font-bold":""} ${ae.isWrong&&He?"line-through decoration-2 decoration-red-200":""}`,children:"Draw"})}),a.jsx("div",{className:`${_t(gt)} flex items-center justify-center`,children:a.jsx("span",{className:`${gt.isCorrect?"font-bold":""} ${gt.isWrong&&He?"line-through decoration-2 decoration-red-200":""}`,children:"Away Win"})})]})]})]},ue.id)})})]},ie))})()})]})]})]})}function q_(){const{user:r}=tr(),[e,A]=Uv(),n=x.useRef(null),i=x.useRef(null),o=e.get("tab"),c=o==="form5"||o==="form10"||o==="lastgw"||o==="overall"?o:"lastgw",[d,f]=x.useState(!0),[m,g]=x.useState(""),[w,v]=x.useState(null),[y,C]=x.useState([]),[b,E]=x.useState([]),[_,S]=x.useState({}),[k,R]=x.useState(c);x.useEffect(()=>{o||A({tab:"lastgw"},{replace:!0}),c!==k&&R(c)},[c,o,k,A]);const I=H=>{R(H),A({tab:H})};x.useEffect(()=>{let H=!0;return(async()=>{try{f(!0),g("");const{data:oe,error:Y}=await J.from("gw_results").select("gw").order("gw",{ascending:!1}).limit(1).maybeSingle();if(Y)throw Y;const D=oe?.gw??1;H&&v(D);const{data:Q,error:N}=await J.from("v_gw_points").select("user_id, gw, points").order("gw",{ascending:!0});if(N)throw N;const{data:G,error:U}=await J.from("v_ocp_overall").select("user_id, name, ocp");if(U)throw U;if(!H)return;if(E(Q??[]),C(G??[]),D&&D>1){const M=Q?.filter(ne=>ne.gw<D)??[],W={};M.forEach(ne=>{W[ne.user_id]=(W[ne.user_id]??0)+(ne.points??0)}),H&&S(W)}else H&&S({})}catch(oe){H&&g(oe?.message??"Failed to load leaderboard.")}finally{H&&f(!1)}})(),()=>{H=!1}},[]);function j(H){const oe=Object.keys(H);oe.sort((D,Q)=>(H[Q]??0)-(H[D]??0)||D.localeCompare(Q));const Y={};return oe.forEach((D,Q)=>Y[D]=Q+1),Y}const P=x.useMemo(()=>{const H={};return y.forEach(oe=>{H[oe.user_id]=oe.ocp??0}),b.forEach(oe=>{oe.user_id in H||(H[oe.user_id]=oe.points??0)}),j(H)},[y,b]),K=x.useMemo(()=>j(_),[_]),L=x.useMemo(()=>H=>{if(!w||w<H)return[];const oe=w-H+1,Y=b.filter(N=>N.gw>=oe&&N.gw<=w),D=new Map;return y.forEach(N=>{D.set(N.user_id,{user_id:N.user_id,name:N.name??"User",formPoints:0,weeksPlayed:new Set})}),Y.forEach(N=>{const G=D.get(N.user_id);G?(G.formPoints+=N.points,G.weeksPlayed.add(N.gw)):D.set(N.user_id,{user_id:N.user_id,name:"User",formPoints:N.points,weeksPlayed:new Set([N.gw])})}),Array.from(D.values()).filter(N=>{for(let G=oe;G<=w;G++)if(!N.weeksPlayed.has(G))return!1;return!0}).map(N=>({user_id:N.user_id,name:N.name,formPoints:N.formPoints,gamesPlayed:H})).sort((N,G)=>G.formPoints-N.formPoints||N.name.localeCompare(G.name))},[y,b,w]),we=x.useMemo(()=>L(5),[L]),X=x.useMemo(()=>L(10),[L]),re=x.useMemo(()=>{if(!w)return[];const H=b.filter(Q=>Q.gw===w),oe=new Map(y.map(Q=>[Q.user_id,Q.name??"User"])),Y=H.map(Q=>({user_id:Q.user_id,name:oe.get(Q.user_id)??"User",points:Q.points})).sort((Q,N)=>N.points-Q.points||Q.name.localeCompare(N.name));let D=1;return Y.map((Q,N)=>(N>0&&Y[N-1].points!==Q.points&&(D=N+1),{...Q,rank:D}))},[b,w,y]),le=x.useMemo(()=>{const H=b.filter(D=>D.gw===w),oe=new Map;H.forEach(D=>oe.set(D.user_id,D.points));const Y=y.map(D=>({user_id:D.user_id,name:D.name??"User",this_gw:oe.get(D.user_id)??0,ocp:D.ocp??0}));return H.forEach(D=>{Y.find(Q=>Q.user_id===D.user_id)||Y.push({user_id:D.user_id,name:"User",this_gw:D.points,ocp:D.points})}),Y.sort((D,Q)=>Q.ocp-D.ocp||D.name.localeCompare(Q.name)),Y},[y,b,w]);return x.useEffect(()=>(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow="",document.documentElement.style.overflow=""}),[]),x.useEffect(()=>{n.current&&(n.current.scrollTop=0)},[k]),x.useEffect(()=>{const H=n.current;if(!H)return;const oe=()=>{H.scrollTop<0&&(H.scrollTop=0),requestAnimationFrame(()=>{H.scrollTop<0&&(H.scrollTop=0)})};H.addEventListener("scroll",oe,{passive:!1}),H.addEventListener("touchmove",oe,{passive:!1});const Y=Q=>{H.scrollTop<=0&&Q.deltaY<0&&(Q.preventDefault(),Q.stopPropagation(),H.scrollTop=0)};H.addEventListener("wheel",Y,{passive:!1});const D=Q=>{if(H.scrollTop<=0){const N=Q.touches[0];if(N){const G=N.clientY,U=M=>{const W=M.touches[0];W&&W.clientY<G&&M.preventDefault()};H.addEventListener("touchmove",U,{passive:!1}),H.addEventListener("touchend",()=>{H.removeEventListener("touchmove",U)},{once:!0})}}};return H.addEventListener("touchstart",D,{passive:!1}),()=>{H.removeEventListener("scroll",oe),H.removeEventListener("touchmove",oe),H.removeEventListener("wheel",Y),H.removeEventListener("touchstart",D)}},[]),x.useEffect(()=>{if(!d&&r?.id&&n.current&&i.current){const H=k==="overall"?le:k==="form5"?we:k==="form10"?X:re,oe=H.findIndex(Q=>Q.user_id===r.id),Y=oe>=0?H[oe].rank||oe+1:null;if(Y!==null&&Y<=8)return;n.current&&(n.current.scrollTop=0);const D=setTimeout(()=>{const Q=n.current,N=i.current;Q&&N&&setTimeout(()=>{if(Q&&N){const G=N.offsetTop,U=Q.clientHeight,M=N.offsetHeight,W=G-U/2+M/2;Q.style.scrollBehavior="smooth",Q.scrollTop=W,setTimeout(()=>{Q&&(Q.style.scrollBehavior="auto")},1e3)}},500)},150);return()=>clearTimeout(D)}},[d,r?.id,k,le,we,X,re]),a.jsxs("div",{className:"fixed inset-0 bg-slate-50 overflow-hidden flex flex-col",children:[a.jsx("style",{children:`
        @keyframes sparkle {
          0%, 100% {
            opacity: 1;
            transform: scale(1) rotate(0deg);
          }
          25% {
            opacity: 0.8;
            transform: scale(1.1) rotate(-5deg);
          }
          50% {
            opacity: 1;
            transform: scale(1.15) rotate(5deg);
          }
          75% {
            opacity: 0.9;
            transform: scale(1.05) rotate(-3deg);
          }
        }
        .sparkle-trophy {
          animation: sparkle 2s ease-in-out infinite;
          filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.6));
        }
        .sparkle-trophy svg {
          filter: drop-shadow(0 0 2px rgba(251, 191, 36, 0.8));
        }
        @keyframes flash {
          0%, 100% {
            background-color: rgb(209, 250, 229);
          }
          25% {
            background-color: rgb(167, 243, 208);
          }
          50% {
            background-color: rgb(209, 250, 229);
          }
          75% {
            background-color: rgb(167, 243, 208);
          }
        }
        .flash-you-badge {
          animation: flash 1.5s ease-in-out 3;
        }
        .full-width-header-border::after {
          content: '';
          position: absolute;
          left: -1rem;
          right: -1rem;
          bottom: 0;
          height: 1px;
          background-color: #cbd5e1;
          z-index: 1;
        }
      `}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-0 flex-1 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex-shrink-0 bg-slate-50 py-4",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900",children:"Leaderboard"}),a.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600 w-full",children:"See how you rank against every TotL player in the world."}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 border border-slate-200 shadow-sm w-full max-w-md",children:[a.jsx("button",{onClick:()=>I("lastgw"),className:`flex-1 py-2.5 rounded-full text-base font-semibold transition-all ${k==="lastgw"?"bg-[#1C8376] text-white shadow-md":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:"GW"}),a.jsx("button",{onClick:()=>I("form5"),className:`flex-1 py-2.5 rounded-full text-base font-semibold transition-all ${k==="form5"?"bg-[#1C8376] text-white shadow-md":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:"5"}),a.jsx("button",{onClick:()=>I("form10"),className:`flex-1 py-2.5 rounded-full text-base font-semibold transition-all ${k==="form10"?"bg-[#1C8376] text-white shadow-md":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:"10"}),a.jsx("button",{onClick:()=>I("overall"),className:`flex-1 py-2.5 rounded-full text-base font-semibold transition-all flex items-center justify-center ${k==="overall"?"bg-[#1C8376] text-white shadow-md":"text-slate-600 hover:text-slate-900 hover:bg-white/50"}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-5 h-5",children:a.jsx("g",{children:a.jsx("path",{fill:"currentColor",d:"M16 3c1.1046 0 2 0.89543 2 2h2c1.1046 0 2 0.89543 2 2v1c0 2.695 -2.1323 4.89 -4.8018 4.9941 -0.8777 1.5207 -2.4019 2.6195 -4.1982 2.9209V19h3c0.5523 0 1 0.4477 1 1s-0.4477 1 -1 1H8c-0.55228 0 -1 -0.4477 -1 -1s0.44772 -1 1 -1h3v-3.085c-1.7965 -0.3015 -3.32148 -1.4 -4.19922 -2.9209C4.13175 12.8895 2 10.6947 2 8V7c0 -1.10457 0.89543 -2 2 -2h2c0 -1.10457 0.89543 -2 2 -2zm-8 7c0 2.2091 1.79086 4 4 4 2.2091 0 4 -1.7909 4 -4V5H8zM4 8c0 1.32848 0.86419 2.4532 2.06055 2.8477C6.02137 10.5707 6 10.2878 6 10V7H4zm14 2c0 0.2878 -0.0223 0.5706 -0.0615 0.8477C19.1353 10.4535 20 9.32881 20 8V7h-2z",strokeWidth:"1"})})})})]})}),k==="overall"&&a.jsx("div",{className:"text-center mb-2",children:a.jsx("div",{className:"text-sm text-slate-600",children:"All players overall"})}),k==="form5"&&a.jsx("div",{className:"text-center mb-2",children:w&&w>=5?a.jsx("div",{className:"text-sm text-slate-600",children:"Completed the last 5 Rounds"}):a.jsx("div",{className:"text-sm text-amber-600 font-medium",children:" Watch this space! Complete 5 GW in a row to see the 5 Week Form Leaderboard."})}),k==="form10"&&a.jsx("div",{className:"text-center mb-2",children:w&&w>=10?a.jsx("div",{className:"text-sm text-slate-600",children:"Completed the last 10 Rounds"}):a.jsx("div",{className:"text-sm text-amber-600 font-medium",children:" Watch this space! Complete 10 GW in a row to see the 10 Week Form Leaderboard."})}),k==="lastgw"&&a.jsx("div",{className:"text-center mb-2",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Players who completed GW",w]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-h-0",children:[m&&a.jsx("div",{className:"mb-6 rounded border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700 flex-shrink-0",children:m}),d?a.jsx("div",{className:"text-slate-500",children:"Loading"}):k==="form5"&&w&&w<5?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-12 text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-slate-700 mb-2",children:"5 Week Form Leaderboard Coming Soon"}),a.jsx("div",{className:"text-slate-600",children:"Complete 5 game weeks in a row to unlock the 5 Week Form Leaderboard and see who's in the best form!"})]}):k==="form10"&&w&&w<10?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-12 text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-slate-700 mb-2",children:"10 Week Form Leaderboard Coming Soon"}),a.jsx("div",{className:"text-slate-600",children:"Complete 10 game weeks in a row to unlock the 10 Week Form Leaderboard and see who's in the best form!"})]}):(k==="overall"?le:k==="form5"?we:k==="form10"?X:re).length===0?a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-slate-600",children:"No leaderboard data yet."}):a.jsx("div",{ref:n,className:"flex-1 overflow-y-auto overflow-x-hidden -mx-4 sm:mx-0 rounded-none sm:rounded-2xl border-x-0 sm:border-x border-b border-slate-200 bg-slate-50 shadow-sm",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch",minHeight:0,paddingBottom:"100px",paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:"#f8fafc",touchAction:"pan-y"},children:a.jsxs("table",{className:"w-full text-sm border-collapse",style:{tableLayout:"fixed",backgroundColor:"#f8fafc"},children:[a.jsx("thead",{className:"sticky top-0 full-width-header-border",style:{position:"sticky",top:0,zIndex:25,backgroundColor:"#f8fafc",display:"table-header-group"},children:a.jsxs("tr",{style:{backgroundColor:"#f8fafc",borderBottom:"1px solid #cbd5e1"},children:[a.jsx("th",{className:"py-3 text-left font-normal",style:{backgroundColor:"#f8fafc",width:"45px",paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"#64748b"},children:"#"}),a.jsx("th",{className:"px-4 py-3 text-left font-normal text-xs",style:{backgroundColor:"#f8fafc",color:"#64748b"},children:"Player"}),k==="overall"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-4 py-3 text-center font-semibold",style:{backgroundColor:"#f8fafc",width:"40px",borderTop:"none",paddingLeft:"0.5rem",paddingRight:"0.5rem"}}),a.jsxs("th",{className:"px-1 py-3 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"55px",color:"#64748b",paddingLeft:"0.5rem",paddingRight:"0.5rem"},children:["GW",w||"?"]}),a.jsx("th",{className:"py-3 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"60px",paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"#64748b"},children:"OCP"})]}),(k==="form5"||k==="form10")&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-4 py-3 text-center font-semibold",style:{backgroundColor:"#f8fafc",width:"40px",borderTop:"none",paddingLeft:"0.5rem",paddingRight:"0.5rem"}}),a.jsx("th",{className:"py-3 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"60px",paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"#64748b"},children:"PTS"})]}),k==="lastgw"&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"px-4 py-3 text-center font-semibold",style:{backgroundColor:"#f8fafc",width:"40px",borderTop:"none",paddingLeft:"0.5rem",paddingRight:"0.5rem"}}),a.jsxs("th",{className:"py-3 text-center font-normal",style:{backgroundColor:"#f8fafc",width:"60px",paddingLeft:"0.5rem",paddingRight:"0.5rem",color:"#64748b"},children:["GW",w||"?"]})]})]})}),a.jsx("tbody",{children:(k==="overall"?le:k==="form5"?we:k==="form10"?X:re).map((H,oe,Y)=>{const D=H.user_id===r?.id,Q="rank"in H?H.rank:oe+1,G=Y.filter((ne,Ae)=>("rank"in ne?ne.rank:Ae+1)===Q).length>1,U=Q===1;let M="",W="bg-gray-300";if(k==="overall"){const ne=K[H.user_id],Ae=P[H.user_id];Ae&&ne?Ae<ne?(M="",W="bg-green-500 text-white"):Ae>ne?(M="",W="bg-red-500 text-white"):(M="",W="bg-gray-500 text-white"):Ae&&!ne&&(M="",W="bg-gray-400")}return a.jsxs("tr",{ref:D?i:null,className:"",style:{...oe>0?{borderTop:"1px solid #e2e8f0",position:"relative",backgroundColor:"#f8fafc"}:{position:"relative",backgroundColor:"#f8fafc"}},children:[a.jsx("td",{className:"py-3 text-left tabular-nums whitespace-nowrap relative",style:{width:"45px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"},children:a.jsxs("span",{children:[Q,G?"=":""]})}),a.jsx("td",{className:"px-4 py-3",style:{backgroundColor:"#f8fafc"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[(M||W)&&k==="overall"&&a.jsx("span",{className:`inline-flex items-center justify-center w-4 h-4 rounded-full text-xs font-bold ${W} align-middle flex-shrink-0`,"aria-hidden":!0,children:M}),U&&a.jsx("span",{className:"inline-flex items-center sparkle-trophy flex-shrink-0",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-4 h-4 text-yellow-500",children:a.jsx("g",{children:a.jsx("path",{fill:"currentColor",d:"M16 3c1.1046 0 2 0.89543 2 2h2c1.1046 0 2 0.89543 2 2v1c0 2.695 -2.1323 4.89 -4.8018 4.9941 -0.8777 1.5207 -2.4019 2.6195 -4.1982 2.9209V19h3c0.5523 0 1 0.4477 1 1s-0.4477 1 -1 1H8c-0.55228 0 -1 -0.4477 -1 -1s0.44772 -1 1 -1h3v-3.085c-1.7965 -0.3015 -3.32148 -1.4 -4.19922 -2.9209C4.13175 12.8895 2 10.6947 2 8V7c0 -1.10457 0.89543 -2 2 -2h2c0 -1.10457 0.89543 -2 2 -2zm-8 7c0 2.2091 1.79086 4 4 4 2.2091 0 4 -1.7909 4 -4V5H8zM4 8c0 1.32848 0.86419 2.4532 2.06055 2.8477C6.02137 10.5707 6 10.2878 6 10V7H4zm14 2c0 0.2878 -0.0223 0.5706 -0.0615 0.8477C19.1353 10.4535 20 9.32881 20 8V7h-2z",strokeWidth:"1"})})})}),a.jsx("span",{className:"font-normal text-sm truncate min-w-0 whitespace-nowrap",style:{color:"rgb(0, 0, 0)",overflow:"hidden",textOverflow:"ellipsis"},children:H.name}),D&&a.jsx("span",{className:"ml-2 rounded-full bg-emerald-100 px-2 py-0.5 text-xs font-semibold text-emerald-800 flex-shrink-0 flash-you-badge",children:"you"})]})}),k==="overall"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 text-center tabular-nums font-bold",style:{width:"40px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"}}),a.jsx("td",{className:"px-1 py-3 text-center tabular-nums font-bold",style:{width:"55px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"},children:"this_gw"in H?H.this_gw:0}),a.jsx("td",{className:"py-3 text-center tabular-nums font-bold",style:{width:"60px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"},children:"ocp"in H?H.ocp:0})]}),(k==="form5"||k==="form10")&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 text-center tabular-nums font-bold",style:{width:"40px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"}}),a.jsx("td",{className:"py-3 text-center tabular-nums font-bold",style:{width:"60px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"},children:"formPoints"in H?H.formPoints:0})]}),k==="lastgw"&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-4 py-3 text-center tabular-nums font-bold",style:{width:"40px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"}}),a.jsx("td",{className:"py-3 text-center tabular-nums font-bold",style:{width:"60px",paddingLeft:"0.5rem",paddingRight:"0.5rem",backgroundColor:"#f8fafc"},children:"points"in H?H.points:0})]})]},H.user_id)})})]})})]})]})]})}function Z_(){return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Create a mini league"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Quick form to create/invite coming next."})]})}function eF(){const[r,e]=x.useState({predictions:!0,leaderboard:!1,form:!1,"mini-leagues":!1,unicorns:!1,summary:!1}),A=i=>{e(o=>({...o,[i]:!o[i]}))},n=({id:i,title:o,icon:c,children:d})=>{const f=r[i];return a.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden bg-white shadow-sm",children:[a.jsx("button",{onClick:()=>A(i),className:"w-full px-6 py-4 text-left bg-gradient-to-r from-slate-50 to-slate-100 hover:from-slate-100 hover:to-slate-200 transition-colors border-b border-slate-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:c}),a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:o})]}),a.jsx("svg",{className:`w-5 h-5 text-slate-600 transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),f&&a.jsx("div",{className:"px-6 py-4 text-slate-700",children:d})]})};return a.jsx("div",{className:"min-h-screen bg-slate-50",children:a.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-4 pb-16",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900",children:"How To Play"}),a.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600 w-full",children:"Welcome to TOTL (Top of the League)  the game of quick Predictions and friendly rivalries. Here's how it all works."}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(n,{id:"predictions",title:"Predictions Centre",icon:"",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-base leading-relaxed",children:["Before each Premier League Gameweek, head to the ",a.jsx("strong",{children:"Predictions Centre"})," and make your picks for every match  ",a.jsx("strong",{children:"Home Win"}),", ",a.jsx("strong",{children:"Draw"}),", or ",a.jsx("strong",{children:"Away Win"}),"."]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-amber-800 mb-2",children:" Important"}),a.jsx("p",{className:"text-amber-700",children:"Once the first match kicks off, predictions are locked, so make sure you get them in before the deadline."})]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-emerald-800 mb-2",children:" Scoring"}),a.jsxs("p",{className:"text-emerald-700",children:["Each correct Prediction adds ",a.jsx("strong",{children:"1"})," to your ",a.jsx("strong",{children:"Overall Correct Predictions (OCP)"}),"  that's your running total for the season."]})]})]})}),a.jsx(n,{id:"mini-leagues",title:"Mini-Leagues",icon:"",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-base leading-relaxed",children:["Want to play with your friends? Create a ",a.jsx("strong",{children:"Mini-League"})," and invite up to ",a.jsx("strong",{children:"8 players"})," to join. Share your league code, get everyone predicting, and battle it out week by week."]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"How it works:"}),a.jsxs("p",{className:"text-slate-700",children:["Each Gameweek, whoever gets the ",a.jsx("strong",{children:"most correct Predictions"})," wins that week."]})]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-emerald-800 mb-3",children:"League Points:"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-emerald-600 font-bold",children:""}),a.jsxs("span",{className:"text-emerald-700",children:[a.jsx("strong",{children:"Win the week"}),"  3 points"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-emerald-600 font-bold",children:""}),a.jsxs("span",{className:"text-emerald-700",children:[a.jsx("strong",{children:"Draw"}),"  1 point"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-emerald-600 font-bold",children:""}),a.jsxs("span",{className:"text-emerald-700",children:[a.jsx("strong",{children:"Lose"}),"  0 points"]})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:" Ties"}),a.jsxs("p",{className:"text-blue-700",children:["If two or more players finish with the same number of correct Predictions, the player with the most ",a.jsx("strong",{children:"Unicorns"})," wins the week. Still tied? It's a draw."]})]})]})}),a.jsx(n,{id:"unicorns",title:"Unicorns",icon:"",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-base leading-relaxed",children:["In Mini-Leagues with ",a.jsx("strong",{children:"3 or more players"}),", if you're the ",a.jsx("strong",{children:"only person"})," to correctly predict a fixture, that's a ",a.jsx("strong",{children:"Unicorn"}),"."]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:" Strategy Tip"}),a.jsx("p",{className:"text-purple-700",children:"They can make all the difference in tight weeks  so sometimes it's worth backing the surprise result nobody else will."})]})]})}),a.jsx(n,{id:"leaderboard",title:"Leaderboard",icon:"",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-base leading-relaxed",children:["The ",a.jsx("strong",{children:"Leaderboard"})," shows how you stack up against everyone else playing TOTL."]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-emerald-800 mb-2",children:" Simple Rules"}),a.jsxs("p",{className:"text-emerald-700",children:["The more correct Predictions you make, the higher you climb. ",a.jsx("strong",{children:"No extra points, no ties"}),"  just football instincts and consistency."]})]})]})}),a.jsx(n,{id:"form",title:"Form Leaderboards",icon:"",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-base leading-relaxed",children:[a.jsx("strong",{children:"Form Leaderboards"})," focus on how you're performing ",a.jsx("strong",{children:"right now"}),", not over the whole season."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:" 5-Week Form Table"}),a.jsxs("p",{className:"text-blue-700",children:["Your short-term ",a.jsx("strong",{children:'"hot streak"'}),"  great for spotting who's on fire lately."]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:" 10-Week Form Table"}),a.jsxs("p",{className:"text-purple-700",children:["The standard rolling form that rewards ",a.jsx("strong",{children:"consistency and momentum"}),"."]})]})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:" How They Work"}),a.jsxs("p",{className:"text-slate-700",children:["Both update each week and show the players in top form. To appear on the ",a.jsx("strong",{children:"10-Week Form Table"}),", make sure you've played 10 Gameweeks in a row  ",a.jsx("strong",{children:"consistency is key"}),"!"]})]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-amber-800 mb-2",children:" Don't worry if you joined TOTL late"}),a.jsx("p",{className:"text-amber-700",children:"Once you've played enough weeks, you'll automatically show up in these tables."})]})]})}),a.jsx(n,{id:"summary",title:"That's It",icon:"",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-blue-50 border border-emerald-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-emerald-800 mb-2",children:" Your Mission"}),a.jsxs("p",{className:"text-emerald-700",children:["Predict each week. Beat your mates. Climb the Leaderboard  or rise up the Form Tables. Stay sharp and see who's truly ",a.jsx("strong",{children:"Top of the League"}),"."]})]})})})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Ready to Start Playing?"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Head to the Predictions page and make your first picks!"}),a.jsxs("a",{href:"/predictions",className:"inline-flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors",children:[a.jsx("span",{children:""}),"Make Predictions"]})]})})]})})}function Cp(r,e){const A=r?.[`${e}_name`],n=r?.[`${e}_team`],o=r?.[`${e}_code`]||A||n||"";return Sn(o)||(e==="home"?"Home":"Away")}function tF(){const{user:r}=tr(),[e,A]=x.useState(null),[n,i]=x.useState([]),[o,c]=x.useState(new Map),[d,f]=x.useState(new Map),[m,g]=x.useState(!0),[w,v]=x.useState(""),[y,C]=x.useState(!1),[b,E]=x.useState(!1),[_,S]=x.useState(!1),[k,R]=x.useState(!1),[I,j]=x.useState("saved"),[P,K]=x.useState(!1),[L,we]=x.useState(null),[X,re]=x.useState(null),[le,H]=x.useState(!1),[oe,Y]=x.useState(null);return x.useEffect(()=>{console.log("isPastDeadline state changed to:",P)},[P]),x.useEffect(()=>{if(d.size>0&&o.size>0){let D=0;o.forEach(Q=>{const N=d.get(Q.fixture_index);N&&N===Q.pick&&D++}),we(D),console.log("Calculated score:",D),(async()=>{if(e){const{data:Q}=await J.from("picks").select("user_id, fixture_index, pick").eq("gw",e);if(Q){const N=new Map;Q.forEach(ne=>{const Ae=d.get(ne.fixture_index),Ee=N.get(ne.user_id)||0;Ae&&Ae===ne.pick?N.set(ne.user_id,Ee+1):N.set(ne.user_id,Ee)});const G=Array.from(N.values()).sort((ne,Ae)=>Ae-ne),U=G.filter(ne=>ne>=D).length,M=G.length,W=Math.round(U/M*100);re(W),console.log("Top percent:",W)}}})()}},[d,o,e]),x.useEffect(()=>{let D=!0;return(async()=>{try{let Q=!1;if(r?.id)try{const{data:ye,error:We}=await J.from("league_members").select("leagues(id,name)").eq("user_id",r.id);We?(console.warn("[NewPredictionsCentre] Error checking leagues (non-fatal):",We),Q=!1):ye&&(Q=ye.some(mt=>mt.leagues?.name==="API Test"))}catch(ye){console.error("[NewPredictionsCentre] Error checking API Test membership:",ye),Q=!1}D&&H(Q);const{data:N,error:G}=await J.from("meta").select("current_gw").eq("id",1).maybeSingle();if(G){console.error("[NewPredictionsCentre] Error fetching current GW:",G),D&&(v(`Failed to load gameweek: ${G.message||"Unknown error"}`),g(!1));return}const U=N?.current_gw??1;let M,W=U;if(Q)try{const ye=await J.from("test_api_fixtures").select("id,test_gw as gw,fixture_index,home_name,away_name,home_team,away_team,home_code,away_code,kickoff_time").eq("test_gw",1).order("fixture_index",{ascending:!0});if(ye.error){const We=ye.error?.code,mt=ye.error.message||"";if(We==="PGRST116"||mt.includes("404")||mt.includes("does not exist"))console.log("[NewPredictionsCentre] Test fixtures table not found, using regular fixtures"),M=await J.from("fixtures").select("id,gw,fixture_index,home_name,away_name,home_team,away_team,home_code,away_code,kickoff_time").eq("gw",U).order("fixture_index",{ascending:!0});else throw console.error("[NewPredictionsCentre] Error fetching test fixtures:",ye.error),ye.error}else ye.data&&ye.data.length>0?(M={data:ye.data,error:null},W=1,console.log("[NewPredictionsCentre] Using test fixtures for GW 1:",ye.data.length,"fixtures")):(console.log("[NewPredictionsCentre] No test fixtures found, using regular fixtures"),M=await J.from("fixtures").select("id,gw,fixture_index,home_name,away_name,home_team,away_team,home_code,away_code,kickoff_time").eq("gw",U).order("fixture_index",{ascending:!0}))}catch(ye){console.error("[NewPredictionsCentre] Error fetching test fixtures, falling back to regular:",ye),M=await J.from("fixtures").select("id,gw,fixture_index,home_name,away_name,home_team,away_team,home_code,away_code,kickoff_time").eq("gw",U).order("fixture_index",{ascending:!0})}else M=await J.from("fixtures").select("id,gw,fixture_index,home_name,away_name,home_team,away_team,home_code,away_code,kickoff_time").eq("gw",U).order("fixture_index",{ascending:!0});const{data:ne,error:Ae}=M;if(Ae){console.error("Error fetching fixtures:",Ae),D&&(g(!1),v(`Failed to load fixtures: ${Ae.message||"Unknown error"}`));return}const Ee=ne??[];if(D&&(i(Ee),A(W),D&&Y(W),console.log("Loaded",Ee.length,"fixtures for GW",W,Q&&W===1?"(Test GW 1)":""),Ee.length>0&&Ee[0].kickoff_time)){const ye=Ee.reduce((We,mt)=>{if(!mt.kickoff_time)return We;const It=new Date(mt.kickoff_time);return!We||It<We?It:We},null);if(ye){const We=new Date(ye.getTime()-45e5),mt=new Date,It=mt.getTime()>We.getTime();console.log("Earliest kickoff:",ye.toISOString()),console.log("Deadline time:",We.toISOString()),console.log("Current time:",mt.toISOString()),console.log("Is past deadline?",It),K(It)}}const $e=Q&&W===1?1:U;if(r?.id){const{data:ye,error:We}=await J.from("picks").select("gw,fixture_index,pick").eq("gw",$e).eq("user_id",r.id);We&&console.error("Error fetching picks:",We);const mt=new Map;ye?.forEach(It=>{mt.set(It.fixture_index,{fixture_index:It.fixture_index,pick:It.pick,gw:It.gw})}),D&&(c(mt),console.log("Loaded",mt.size,"user picks for GW",U))}if(r?.id){const{data:ye}=await J.from("gw_submissions").select("submitted_at").eq("gw",$e).eq("user_id",r.id).maybeSingle();D&&(C(!!ye?.submitted_at),console.log("Submission status:",ye?.submitted_at?"confirmed":"not confirmed"))}const te=Q&&W===1?1:U,{data:ce,error:Se}=await J.from("gw_results").select("gw,fixture_index,result").eq("gw",te);if(!Se&&ce){const ye=new Map;ce.forEach(We=>{(We.result==="H"||We.result==="D"||We.result==="A")&&ye.set(We.fixture_index,We.result)}),D&&(f(ye),console.log("Loaded",ye.size,"results for GW",U))}}catch(Q){if(console.error("Error loading GW data:",Q),D){g(!1);let N="Unknown error";Q?.message?N=Q.message:typeof Q=="string"?N=Q:Q?.toString&&(N=Q.toString()),(N.includes("Unexpected token")||N.includes("is not valid JSON"))&&(N="Server returned invalid response. Please check your connection and try again."),v(`Failed to load matches: ${N}`)}}finally{D&&g(!1)}})(),()=>{D=!1}},[r?.id]),w?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("div",{className:"text-red-600 font-semibold text-lg mb-2",children:"Failed to Load Matches"}),a.jsx("div",{className:"text-slate-600 text-sm mb-4",children:w}),a.jsx("button",{onClick:()=>{v(""),g(!0),window.location.reload()},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})}):m||!e||n.length===0?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:a.jsx("div",{className:"text-slate-600",children:"Loading fixtures..."})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900",children:"Predictions Centre"}),a.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600 w-full",children:"Call every game, lock in your results, and climb the table."})]}),e&&a.jsx("div",{className:"mt-2 mb-3",children:y?a.jsx("div",{className:"rounded-xl border bg-gradient-to-br from-[#1C8376]/5 to-blue-50/50 shadow-sm px-6 py-5",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-slate-900 text-xl mb-3",children:["Game Week ",e]}),L!==null&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsxs("div",{className:"text-4xl font-extrabold text-[#1C8376]",children:[L,"/",n.length]}),X!==null&&a.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-300",children:a.jsxs("span",{className:"text-sm font-bold text-orange-700",children:["Top ",X,"%"]})})]}),a.jsx("div",{className:"mb-3 bg-slate-200 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-[#1C8376] to-blue-500 transition-all duration-500",style:{width:`${L/n.length*100}%`}})})]})]})}):a.jsx("div",{className:"rounded-xl border bg-gradient-to-r from-[#1C8376]/10 to-blue-50 border-[#1C8376]/20 px-6 py-4",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-[#1C8376] text-lg",children:["Gameweek ",e]}),a.jsx("div",{className:"text-sm text-slate-600",children:"Make your predictions below"})]})})}),a.jsx("div",{className:"space-y-4",children:n.map(D=>{const Q=o.get(D.fixture_index),N=d.get(D.fixture_index),G=D.kickoff_time?(()=>{const W=new Date(D.kickoff_time),ne=String(W.getUTCHours()).padStart(2,"0"),Ae=String(W.getUTCMinutes()).padStart(2,"0");return`${ne}:${Ae}`})():"",U=Cp(D,"home"),M=Cp(D,"away");return a.jsxs("div",{className:"rounded-2xl border bg-white p-3 shadow-sm",children:[a.jsxs("div",{className:"flex items-center px-2 pt-1 pb-3",children:[a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-end",children:[a.jsx("div",{className:"truncate font-medium",children:U}),a.jsx("img",{src:`/assets/badges/${D.home_code?.toUpperCase()||"UNK"}.png`,alt:U,className:"w-5 h-5",onError:W=>{W.currentTarget.style.display="none"}})]}),a.jsx("div",{className:"text-slate-500 text-sm px-4",children:G}),a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-start",children:[a.jsx("img",{src:`/assets/badges/${D.away_code?.toUpperCase()||"UNK"}.png`,alt:M,className:"w-5 h-5",onError:W=>{W.currentTarget.style.display="none"}}),a.jsx("div",{className:"truncate font-medium",children:M})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:y?a.jsxs(a.Fragment,{children:[(()=>{const W=N&&Q?.pick===N,ne=N&&Q?.pick!==N;return a.jsx("div",{className:`h-16 rounded-xl border text-sm font-medium flex items-center justify-center relative overflow-hidden ${Q?.pick==="H"?W?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white border-yellow-300 shadow-xl shadow-gray-400/40 before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s] ring-2 ring-yellow-300/60":ne&&N==="H"?"bg-red-500 text-white border-red-400":"bg-[#1C8376] text-white border-[#1C8376]":N==="H"?"bg-gray-300 text-slate-700 border-gray-400":"bg-slate-50 text-slate-400 border-slate-200"}`,children:"Home Win"})})(),(()=>{const W=N&&Q?.pick===N,ne=N&&Q?.pick!==N;return a.jsx("div",{className:`h-16 rounded-xl border text-sm font-medium flex items-center justify-center relative overflow-hidden ${Q?.pick==="D"?W?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white border-yellow-300 shadow-xl shadow-gray-400/40 before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s] ring-2 ring-yellow-300/60":ne&&N==="D"?"bg-red-500 text-white border-red-400":"bg-[#1C8376] text-white border-[#1C8376]":N==="D"?"bg-gray-300 text-slate-700 border-gray-400":"bg-slate-50 text-slate-400 border-slate-200"}`,children:"Draw"})})(),(()=>{const W=N&&Q?.pick===N,ne=N&&Q?.pick!==N;return a.jsx("div",{className:`h-16 rounded-xl border text-sm font-medium flex items-center justify-center relative overflow-hidden ${Q?.pick==="A"?W?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white border-yellow-300 shadow-xl shadow-gray-400/40 before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s] ring-2 ring-yellow-300/60":ne&&N==="A"?"bg-red-500 text-white border-red-400":"bg-[#1C8376] text-white border-[#1C8376]":N==="A"?"bg-gray-300 text-slate-700 border-gray-400":"bg-slate-50 text-slate-400 border-slate-200"}`,children:"Away Win"})})()]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{if(P)return;const W=new Map(o);W.set(D.fixture_index,{fixture_index:D.fixture_index,pick:"H",gw:e}),c(W)},disabled:P,className:`h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center ${Q?.pick==="H"?"bg-[#1C8376] text-white border-[#1C8376]":P?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:"Home Win"}),a.jsx("button",{onClick:()=>{if(P)return;const W=new Map(o);W.set(D.fixture_index,{fixture_index:D.fixture_index,pick:"D",gw:e}),c(W)},disabled:P,className:`h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center ${Q?.pick==="D"?"bg-[#1C8376] text-white border-[#1C8376]":P?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:"Draw"}),a.jsx("button",{onClick:()=>{if(P)return;const W=new Map(o);W.set(D.fixture_index,{fixture_index:D.fixture_index,pick:"A",gw:e}),c(W)},disabled:P,className:`h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center ${Q?.pick==="A"?"bg-[#1C8376] text-white border-[#1C8376]":P?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:"Away Win"})]})})]},D.id)})})]})}),a.jsx("div",{className:"p-6 bg-white shadow-lg",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-3",children:[n.length>0&&(()=>{const D=n.reduce((Q,N)=>{if(!N.kickoff_time)return Q;const G=new Date(N.kickoff_time);return!Q||G<Q?G:Q},null);return D&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Deadline"}),a.jsx("div",{className:"text-sm font-bold text-slate-700",children:(()=>{const Q=new Date(D.getTime()-45e5),N=Q.toLocaleDateString(void 0,{weekday:"short"}),G=Q.toLocaleDateString(void 0,{month:"short"}),U=Q.toLocaleDateString(void 0,{day:"numeric"}),M=Q.getUTCHours().toString().padStart(2,"0"),W=Q.getUTCMinutes().toString().padStart(2,"0");return`${N}, ${G} ${U}, ${M}:${W}`})()}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"(75 minutes before first kickoff)"})]})})(),!y&&!P&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{if(P){alert(" Too late! Predictions are now closed. The deadline was 75 minutes before the first kickoff.");return}E(!0)},className:"w-full py-4 bg-slate-600 text-white rounded-2xl font-bold hover:bg-slate-700 transition-colors",children:"Save Predictions"}),a.jsx("button",{onClick:()=>{if(P){alert(" Too late! Predictions are now closed. The deadline was 75 minutes before the first kickoff.");return}n.every(Q=>o.has(Q.fixture_index))?S(!0):alert("Please make all predictions before confirming")},className:"w-full py-4 bg-green-600 text-white rounded-2xl font-bold hover:bg-green-700 transition-colors",children:"Confirm Predictions"})]}),P&&!y&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"text-lg font-bold text-red-600 mb-2",children:" Deadline Passed"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Predictions are now closed. The deadline was 75 minutes before the first kickoff."})]}),y&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"text-lg font-bold text-green-600 mb-2",children:" Predictions Submitted!"}),a.jsxs("div",{className:"text-sm text-slate-600",children:["Your predictions for Gameweek ",e," have been confirmed and locked."]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Save Predictions?"}),a.jsxs("div",{className:"text-slate-600 mb-6",children:["Your predictions will be saved but you can still change them before confirming.",n.length>0&&(()=>{const D=n.reduce((Q,N)=>{if(!N.kickoff_time)return Q;const G=new Date(N.kickoff_time);return!Q||G<Q?G:Q},null);return D&&a.jsxs("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg border border-amber-200",children:[a.jsx("div",{className:"text-sm font-medium text-amber-800 mb-1",children:"Deadline Reminder"}),a.jsx("div",{className:"text-xs text-amber-700",children:(()=>{const Q=new Date(D.getTime()-45e5),N=Q.toLocaleDateString(void 0,{weekday:"short"}),G=Q.toLocaleDateString(void 0,{month:"short"}),U=Q.toLocaleDateString(void 0,{day:"numeric"}),M=Q.getUTCHours().toString().padStart(2,"0"),W=Q.getUTCMinutes().toString().padStart(2,"0");return`${N}, ${G} ${U}, ${M}:${W}`})()}),a.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"(75 minutes before first kickoff)"})]})})()]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 bg-slate-200 text-slate-800 rounded-xl font-bold hover:bg-slate-300 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:async()=>{try{const D=Array.from(o.values()).map(U=>le&&oe===1?{user_id:r?.id,matchday:1,fixture_index:U.fixture_index,pick:U.pick}:{user_id:r?.id,gw:U.gw,fixture_index:U.fixture_index,pick:U.pick}),Q=le&&oe===1?"test_api_picks":"picks",N=le&&oe===1?"user_id,matchday,fixture_index":"user_id,gw,fixture_index",{error:G}=await J.from(Q).upsert(D,{onConflict:N,ignoreDuplicates:!1});if(G){console.error("Error saving picks:",G),alert("Failed to save predictions. Please try again.");return}console.log("Successfully saved picks:",D),E(!1),j("saved"),R(!0)}catch(D){console.error("Error saving picks:",D),alert("Failed to save predictions. Please try again.")}},className:"flex-1 py-3 bg-slate-600 text-white rounded-xl font-bold hover:bg-slate-700 transition-colors",children:"Save"})]})]})})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Are You Sure?"}),a.jsx("div",{className:"text-slate-600 mb-6",children:"Once confirmed, you cannot change your predictions. Make sure you're happy with all your picks!"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 bg-slate-200 text-slate-800 rounded-xl font-bold hover:bg-slate-300 transition-colors",children:"Go Back"}),a.jsx("button",{onClick:async()=>{try{const D=Array.from(o.values()).map(Ae=>le&&oe===1?{user_id:r?.id,matchday:1,fixture_index:Ae.fixture_index,pick:Ae.pick}:{user_id:r?.id,gw:Ae.gw,fixture_index:Ae.fixture_index,pick:Ae.pick}),Q=le&&oe===1?"test_api_picks":"picks",N=le&&oe===1?"user_id,matchday,fixture_index":"user_id,gw,fixture_index",{error:G}=await J.from(Q).upsert(D,{onConflict:N,ignoreDuplicates:!1});if(G){console.error("Error confirming picks:",G),alert("Failed to confirm predictions. Please try again.");return}const U=le&&oe===1?"test_api_submissions":"gw_submissions",M=le&&oe===1?{user_id:r?.id,matchday:1,submitted_at:new Date().toISOString()}:{user_id:r?.id,gw:e??1,submitted_at:new Date().toISOString()},W=le&&oe===1?"user_id,matchday":"user_id,gw",{error:ne}=await J.from(U).upsert(M,{onConflict:W});if(ne){console.error("Error recording submission:",ne),alert("Failed to record submission. Please try again.");return}console.log("Successfully confirmed picks:",D),C(!0),S(!1),j("confirmed"),R(!0),window.dispatchEvent(new CustomEvent("predictionsSubmitted"))}catch(D){console.error("Error confirming picks:",D),alert("Failed to confirm predictions. Please try again.")}},className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors",children:"Confirm"})]})]})})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[I==="saved"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"Predictions Saved!"}),a.jsx("div",{className:"text-slate-600 mb-4",children:"Your predictions have been saved as a draft. You can still edit them until you confirm."}),a.jsxs("div",{className:"text-sm text-amber-700 bg-amber-50 rounded-lg p-3 mb-6 border border-amber-200",children:[" ",a.jsx("strong",{children:"Important:"})," Don't forget to come back and publish your predictions before the deadline to make them final!"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"Predictions Confirmed!"}),a.jsx("div",{className:"text-slate-600 mb-6",children:"Your predictions have been published and locked. Good luck!"})]}),a.jsx("button",{onClick:()=>R(!1),className:"w-full py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors",children:"Done"})]})})})]})}function AF({code:r,size:e=22,className:A="",rounded:n=!1}){const i=`/assets/badges/${r}.png`,o=`${r} badge`;return a.jsx("img",{src:i,alt:o,width:e,height:e,className:`${n?"rounded-full":"rounded"} object-contain inline-block align-middle select-none ${A}`,loading:"lazy",onError:c=>{c.currentTarget.style.opacity="0.35"}})}function rF(r){let e=0;for(let o=0;o<r.length;o++)e=r.charCodeAt(o)+((e<<5)-e);const A=Math.abs(e%360),n=60+Math.abs(e)%20,i=45+Math.abs(e)%15;return`hsl(${A}, ${n}%, ${i}%)`}function rl(r,e){return r&&Ep[r]?Ep[r].primary:rF(r||e||"default")}function Zs({code:r,crest:e,size:A=22,className:n=""}){const[i,o]=x.useState(!1);return e&&!i?a.jsx("img",{src:e,alt:`${r||"Team"} badge`,width:A,height:A,className:`rounded object-contain inline-block align-middle select-none ${n}`,loading:"lazy",onError:()=>{o(!0)}}):r?a.jsx(AF,{code:r,size:A,className:n}):a.jsx("div",{className:`rounded bg-slate-200 ${n}`,style:{width:A,height:A}})}const Ep={ARS:{primary:"#EF0107",secondary:"#023474"},AVL:{primary:"#95BFE5",secondary:"#670E36"},BOU:{primary:"#DA291C",secondary:"#000000"},BRE:{primary:"#E30613",secondary:"#FBB800"},BHA:{primary:"#0057B8",secondary:"#FFCD00"},CHE:{primary:"#034694",secondary:"#034694"},CRY:{primary:"#1B458F",secondary:"#C4122E"},EVE:{primary:"#003399",secondary:"#003399"},FUL:{primary:"#FFFFFF",secondary:"#000000"},LIV:{primary:"#C8102E",secondary:"#00B2A9"},MCI:{primary:"#6CABDD",secondary:"#1C2C5B"},MUN:{primary:"#DA291C",secondary:"#FBE122"},NEW:{primary:"#241F20",secondary:"#FFFFFF"},NFO:{primary:"#DD0000",secondary:"#FFFFFF"},TOT:{primary:"#132257",secondary:"#FFFFFF"},WHU:{primary:"#7A263A",secondary:"#1BB1E7"},WOL:{primary:"#FDB913",secondary:"#231F20"},SUN:{primary:"#EB172B",secondary:"#211E1F"},LEE:{primary:"#FFCD00",secondary:"#1D428A"}};function nF(){const{user:r}=tr(),e=us(),[A,n]=x.useState(null),[i,o]=x.useState([]),[c,d]=x.useState(new Map),[f,m]=x.useState(new Map),[g,w]=x.useState(0),[v,y]=x.useState("cards"),[C,b]=x.useState({x:0,y:0,rotation:0,opacity:1,scale:1}),[E,_]=x.useState(!1),[S,k]=x.useState(!1),[R,I]=x.useState(null),[j,P]=x.useState(!1),[K,L]=x.useState(null),[we,X]=x.useState(!0),[re,le]=x.useState(!1),[H,oe]=x.useState(!1),[Y,D]=x.useState({});x.useEffect(()=>{const de=g>=i.length;if(!(v==="cards"&&!de)){const wt=document.documentElement,Kt=document.body,Pt=document.getElementById("root");wt.style.removeProperty("overflow"),Kt.style.removeProperty("overflow"),Kt.style.removeProperty("position"),Kt.style.removeProperty("width"),Kt.style.removeProperty("height"),Pt&&Pt.style.removeProperty("overflow");return}window.scrollTo({top:0,behavior:"auto"});const Oe=document.documentElement,xe=document.body,ct=document.getElementById("root"),st=Oe.style.overflow,St=xe.style.overflow,dt=xe.style.position,De=ct?.style.overflow;Oe.style.setProperty("overflow","hidden","important"),xe.style.setProperty("overflow","hidden","important"),xe.style.setProperty("position","fixed","important"),xe.style.setProperty("width","100%","important"),xe.style.setProperty("height","100%","important"),ct&&ct.style.setProperty("overflow","hidden","important");const jt=wt=>{wt.preventDefault()},Wt=wt=>{wt.target.closest('[style*="aspectRatio"]')||wt.preventDefault()};return window.addEventListener("wheel",jt,{passive:!1}),document.addEventListener("touchmove",Wt,{passive:!1}),()=>{Oe.style.overflow=st,xe.style.overflow=St,xe.style.position=dt,xe.style.width="",xe.style.height="",ct&&(ct.style.overflow=De||""),window.removeEventListener("wheel",jt),document.removeEventListener("touchmove",Wt)}},[v,g,i.length]);const Q=x.useMemo(()=>i.length===0?!1:i.every(de=>c.has(de.fixture_index)),[i,c]),N=x.useRef(null),G=x.useRef({x:0,y:0}),U=x.useRef(!1);x.useEffect(()=>{let de=!0;return(async()=>{try{X(!0);const{data:Ve}=await J.from("test_api_meta").select("current_test_gw").eq("id",1).maybeSingle(),Oe=Ve?.current_test_gw??1;n(Oe);const{data:xe,error:ct}=await J.from("test_api_fixtures").select("*").eq("test_gw",Oe).order("fixture_index",{ascending:!0});if(ct)throw new Error(`Failed to load test fixtures: ${ct.message}`);if(!xe||xe.length===0){de&&(o([]),X(!1));return}const st=xe.map(De=>({id:String(De.api_match_id),gw:Oe,fixture_index:De.fixture_index,home_team:De.home_team,away_team:De.away_team,home_code:De.home_code,away_code:De.away_code,home_name:De.home_name,away_name:De.away_name,home_crest:De.home_crest||null,away_crest:De.away_crest||null,kickoff_time:De.kickoff_time,api_match_id:De.api_match_id||null}));if(de){if(o(st),st.length>0&&st[0].kickoff_time){const De=st.reduce((jt,Wt)=>{if(!Wt.kickoff_time)return jt;const wt=new Date(Wt.kickoff_time);return!jt||wt<jt?wt:jt},null);if(De){const jt=new Date(De.getTime()-45e5);oe(new Date().getTime()>jt.getTime())}}m(new Map)}let St=!1;if(r?.id){const{data:De,error:jt}=await J.from("test_api_picks").select("matchday,fixture_index,pick").eq("matchday",Oe).eq("user_id",r.id);if(!jt&&De){const Wt=new Map;De.forEach(wt=>{Wt.set(wt.fixture_index,{fixture_index:wt.fixture_index,pick:wt.pick,matchday:wt.matchday})}),de&&(d(Wt),St=Wt.size>0)}}let dt=!1;if(r?.id){const{data:De}=await J.from("test_api_submissions").select("submitted_at").eq("matchday",Oe).eq("user_id",r.id).maybeSingle();de&&(dt=!!De?.submitted_at,le(dt))}de&&st.length>0&&St&&!dt&&w(st.length)}catch(Ve){console.error("Error loading test API data:",Ve)}finally{de&&X(!1)}})(),()=>{de=!1}},[r?.id]);const M=async de=>{try{const Oe=await fetch(`https://api.football-data.org/v4/matches/${de}`,{headers:{"X-Auth-Token":"ed3153d132b847db836289243894706e"}});if(!Oe.ok)return Oe.status===429&&console.warn("[TestApiPredictions] Rate limited, will retry on next poll"),null;const xe=await Oe.json();if(!xe||!xe.score)return null;const ct=xe.score.fullTime?.home??xe.score.halfTime?.home??0,st=xe.score.fullTime?.away??xe.score.halfTime?.away??0,St=xe.status||"SCHEDULED",dt=xe.minute??null;return{homeScore:ct,awayScore:st,status:St,minute:dt}}catch(Ve){return console.error("[TestApiPredictions] Error fetching live score:",Ve),null}};x.useEffect(()=>{if(!i.length)return;const de=i.slice(0,3).filter(xe=>xe.api_match_id&&xe.kickoff_time);if(de.length===0)return;const Ve=new Map,Oe=[];return de.forEach(xe=>{if(!xe.api_match_id||!xe.kickoff_time)return;const ct=new Date(xe.kickoff_time),st=new Date,St=xe.fixture_index,dt=()=>{const De=Y[St];if(De&&De.status==="FINISHED")return;const jt=async()=>{const wt=await M(xe.api_match_id);if(wt){const Kt=wt.status==="FINISHED";if(D(Pt=>({...Pt,[St]:{homeScore:wt.homeScore,awayScore:wt.awayScore,status:wt.status,minute:wt.minute??null}})),Kt){const Pt=Ve.get(St);Pt&&(clearInterval(Pt),Ve.delete(St))}}};jt();const Wt=setInterval(jt,300*1e3);Ve.set(St,Wt)};if(ct>st){const De=ct.getTime()-st.getTime(),jt=setTimeout(dt,De);Oe.push(jt)}else dt()}),()=>{Ve.forEach(clearInterval),Oe.forEach(clearTimeout)}},[i]),x.useEffect(()=>{const de=new Map;i.slice(0,3).forEach(Oe=>{const xe=Y[Oe.fixture_index];xe&&(xe.status==="LIVE"||xe.status==="IN_PLAY"||xe.status==="PAUSED"||xe.status==="FINISHED")&&(xe.homeScore>xe.awayScore?de.set(Oe.fixture_index,"H"):xe.awayScore>xe.homeScore?de.set(Oe.fixture_index,"A"):de.set(Oe.fixture_index,"D"))}),m(de)},[Y,i]);const W=i[g],ne=x.useMemo(()=>{let de=0;return i.forEach(Ve=>{const Oe=f.get(Ve.fixture_index),xe=c.get(Ve.fixture_index);Oe&&xe&&xe.pick===Oe&&(de+=1)}),de},[i,f,c]),Ae=(de,Ve)=>{S||H||re||(_(!0),G.current={x:de,y:Ve},I(null))},Ee=(de,Ve)=>{if(!E||S||H||re)return;const Oe=de-G.current.x,xe=Ve-G.current.y,ct=Oe*.1;b({x:Oe,y:xe,rotation:ct,opacity:1,scale:1}),Math.abs(Oe)>50&&Math.abs(Oe)>Math.abs(xe)?I(Oe>0?"away":"home"):xe>50&&xe>Math.abs(Oe)?I("draw"):I(null)},$e=()=>{if(!E||S||H||re)return;_(!1);const{x:de,y:Ve}=C,Oe=100;let xe=null;Math.abs(de)>Oe&&Math.abs(de)>Math.abs(Ve)?xe=de>0?"A":"H":Ve>Oe&&Ve>Math.abs(de)&&(xe="D"),xe?ye(xe):(b({x:0,y:0,rotation:0,opacity:1,scale:1}),I(null))},te=de=>{de.touches.length===1&&Ae(de.touches[0].clientX,de.touches[0].clientY)},ce=de=>{de.touches.length===1&&E&&(de.preventDefault(),Ee(de.touches[0].clientX,de.touches[0].clientY))},Se=de=>{de.touches.length>0||(de.preventDefault(),$e())},ye=async de=>{k(!0),I(null);const Ve=de==="H"?-1:de==="A"?1:0,Oe=Ve*window.innerWidth,xe=de==="D"?window.innerHeight:0;b({x:Oe,y:xe,rotation:Ve*30,opacity:0,scale:.8}),await mt(de),setTimeout(()=>{U.current=!0,j?(w(i.length),P(!1)):w(g+1),b({x:0,y:0,rotation:0,opacity:1,scale:1}),requestAnimationFrame(()=>{U.current=!1,k(!1)})},300)},We=de=>{!S&&!H&&!re&&ye(de)},mt=async de=>{if(!W||!r?.id||!A)return;const Ve=new Map(c);Ve.set(W.fixture_index,{fixture_index:W.fixture_index,pick:de,matchday:A}),d(Ve);try{const{error:Oe}=await J.from("test_api_picks").upsert({user_id:r.id,matchday:A,fixture_index:W.fixture_index,pick:de},{onConflict:"user_id,matchday,fixture_index",ignoreDuplicates:!1});Oe&&console.error("Error saving test pick:",Oe)}catch(Oe){console.error("Error saving test pick:",Oe)}},It=async()=>{if(!(!r?.id||!A)){d(new Map),w(0),le(!1);try{await J.from("test_api_picks").delete().eq("user_id",r.id).eq("matchday",A),await J.from("test_api_submissions").delete().eq("user_id",r.id).eq("matchday",A)}catch(de){console.error("Error resetting picks:",de)}}},$t=async()=>{if(!Q){L({success:!1,message:"You still have fixtures to call!"}),setTimeout(()=>L(null),2200);return}if(!(!r?.id||!A))try{const de=Array.from(c.values()).map(xe=>({user_id:r.id,matchday:xe.matchday,fixture_index:xe.fixture_index,pick:xe.pick})),{error:Ve}=await J.from("test_api_picks").upsert(de,{onConflict:"user_id,matchday,fixture_index",ignoreDuplicates:!1});if(Ve)throw Ve;const{error:Oe}=await J.from("test_api_submissions").upsert({user_id:r.id,matchday:A,submitted_at:new Date().toISOString()},{onConflict:"user_id,matchday"});if(Oe)throw Oe;le(!0),L({success:!0,message:"Your test predictions are locked in. Good luck!"}),setTimeout(()=>{L(null)},2500)}catch(de){console.error("Error confirming test picks:",de),L({success:!1,message:"Failed to confirm predictions. Please try again."}),setTimeout(()=>L(null),2200)}};if(we||!A)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:a.jsx("div",{className:"text-slate-600",children:"Loading test fixtures..."})});if(i.length===0)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center px-4 max-w-md",children:[a.jsx("div",{className:"text-red-600 font-semibold mb-2",children:"No Test Fixtures Found"}),a.jsx("div",{className:"text-sm text-slate-600 mb-4",children:"Please create a test gameweek in the Test API Admin page first."}),a.jsx("button",{onClick:()=>e("/test-admin-api"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Go to Test API Admin"})]})});if(re){let de=0,Ve=0;const Oe=i.slice(0,3);return Oe.forEach(xe=>{const ct=Y[xe.fixture_index],st=ct&&(ct.status==="LIVE"||ct.status==="IN_PLAY"||ct.status==="PAUSED"),St=ct&&ct.status==="FINISHED";if(st&&Ve++,ct&&(st||St)){const dt=c.get(xe.fixture_index);if(dt){let De=!1;(dt.pick==="H"&&ct.homeScore>ct.awayScore||dt.pick==="A"&&ct.awayScore>ct.homeScore||dt.pick==="D"&&ct.homeScore===ct.awayScore)&&(De=!0),De&&de++}}}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 text-lg font-extrabold text-slate-700",children:"Confirmed Predictions"})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:a.jsx("div",{className:"max-w-2xl mx-auto space-y-6 [&>div:first-child]:mt-0",children:(()=>{const xe=[];let ct="",st=[];return i.forEach(St=>{const dt=St.kickoff_time?new Date(St.kickoff_time).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}):"No date";dt!==ct?(st.length>0&&xe.push({label:ct,items:st}),ct=dt,st=[St]):st.push(St)}),st.length>0&&xe.push({label:ct,items:st}),xe.map((St,dt)=>a.jsxs("div",{className:dt===0?"-mt-2":"",children:[a.jsxs("div",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center justify-between",children:[a.jsx("span",{children:St.label}),dt===0&&Oe.length>0&&Oe.some(De=>{const jt=Y[De.fixture_index];return jt&&(jt.status==="LIVE"||jt.status==="IN_PLAY"||jt.status==="PAUSED"||jt.status==="FINISHED")})&&(()=>{const De=Oe.every(jt=>{const Wt=Y[jt.fixture_index];return Wt&&Wt.status==="FINISHED"});return a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-white shadow-lg ${De?"bg-slate-600 shadow-slate-500/30":"bg-red-600 shadow-red-500/30"}`,children:[!De&&Ve>0&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),De&&a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),a.jsx("span",{className:"text-xs sm:text-sm font-medium opacity-90",children:De?"Score":"Live"}),a.jsxs("span",{className:"flex items-baseline gap-0.5",children:[a.jsx("span",{className:"text-lg sm:text-xl font-extrabold",children:de}),a.jsx("span",{className:"text-sm sm:text-base font-medium opacity-90",children:"/"}),a.jsx("span",{className:"text-base sm:text-lg font-semibold opacity-80",children:Oe.length})]})]})})()]}),a.jsx("div",{className:"flex flex-col rounded-xl border bg-white overflow-hidden shadow-sm",children:St.items.map((De,jt)=>{const Wt=c.get(De.fixture_index),wt=Y[De.fixture_index],Kt=wt&&(wt.status==="LIVE"||wt.status==="IN_PLAY"||wt.status==="PAUSED"),Pt=De.home_name||De.home_team||"",Yt=De.away_name||De.away_team||"",ze=De.kickoff_time?(()=>{const ie=new Date(De.kickoff_time),ue=String(ie.getUTCHours()).padStart(2,"0"),pt=String(ie.getUTCMinutes()).padStart(2,"0");return`${ue}:${pt}`})():"",ot=wt&&wt.status==="FINISHED",ge=ie=>{const ue=Wt?.pick===ie;let pt=!1;return wt&&(ie==="H"&&wt.homeScore>wt.awayScore||ie==="A"&&wt.awayScore>wt.homeScore||ie==="D"&&wt.homeScore===wt.awayScore)&&(pt=!0),{isPicked:ue,isCorrectResult:pt,isCorrect:ue&&pt,isWrong:ue&&(Kt||ot)&&!pt}},ke=ge("H"),he=ge("D"),Ue=ge("A"),Ne=ie=>{const ue="h-16 rounded-xl border text-sm font-medium transition-all flex items-center justify-center select-none",pt=Kt&&ie.isCorrectResult;return ie.isCorrect&&ot?`${ue} bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white !border-0 !border-none shadow-2xl shadow-yellow-400/40 transform scale-110 rotate-1 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/70 before:to-transparent before:animate-[shimmer_1.2s_ease-in-out_infinite] after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-yellow-200/50 after:to-transparent after:animate-[shimmer_1.8s_ease-in-out_infinite_0.4s]`:ie.isCorrect&&Kt?`${ue} bg-emerald-600 text-white border-emerald-600 animate-pulse shadow-lg shadow-emerald-500/50`:ie.isCorrectResult?`${ue} bg-emerald-600 text-white border-emerald-600 ${pt?"animate-pulse shadow-lg shadow-emerald-500/50":""}`:ie.isWrong&&ot?`${ue} bg-slate-50 text-slate-600 border-4 animate-[flash-border_1s_ease-in-out_infinite]`:ie.isWrong&&Kt?`${ue} bg-slate-50 text-slate-600 border-4 animate-[flash-border_1s_ease-in-out_infinite]`:ie.isPicked?`${ue} bg-[#1C8376] text-white border-[#1C8376]`:`${ue} bg-slate-50 text-slate-600 border-slate-200`};return a.jsxs("div",{className:jt<St.items.length-1?"relative":"",children:[jt<St.items.length-1&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-px bg-slate-200 z-10"}),a.jsxs("div",{className:"p-4 !bg-white relative z-0",children:[Kt&&a.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2 z-10 pb-6",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs font-bold text-red-600 uppercase",children:"LIVE"})]}),a.jsxs("div",{className:`flex flex-col px-2 pb-3 ${Kt?"pt-4":"pt-1"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-end",children:[a.jsx("div",{className:"font-medium break-words",children:Pt}),a.jsx("img",{src:`/assets/badges/${(De.home_code||Pt).toUpperCase()}.png`,alt:Pt,className:"w-5 h-5",onError:ie=>{ie.currentTarget.style.display="none"}})]}),a.jsx("div",{className:"px-4 flex items-center",children:wt&&(Kt||ot)?a.jsxs("span",{className:"font-bold text-base text-slate-900",children:[wt.homeScore," - ",wt.awayScore]}):a.jsx("span",{className:"text-slate-500 text-sm",children:ze})}),a.jsxs("div",{className:"flex items-center gap-1 flex-1 justify-start",children:[a.jsx("img",{src:`/assets/badges/${(De.away_code||Yt).toUpperCase()}.png`,alt:Yt,className:"w-5 h-5",onError:ie=>{ie.currentTarget.style.display="none"}}),a.jsx("div",{className:"font-medium break-words",children:Yt})]})]}),wt&&(Kt||ot)&&a.jsx("div",{className:"flex justify-center mt-1",children:a.jsx("span",{className:`text-[10px] font-semibold ${Kt?"text-red-600":"text-slate-500"}`,children:ot?"FT":wt.minute?`${wt.minute}'`:"LIVE"})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 relative",children:[a.jsx("div",{className:`${Ne(ke)} flex items-center justify-center`,children:a.jsx("span",{className:`${ke.isCorrect?"font-bold":""} ${ke.isWrong&&ot?"line-through decoration-2 decoration-red-200":""}`,children:"Home Win"})}),a.jsx("div",{className:`${Ne(he)} flex items-center justify-center`,children:a.jsx("span",{className:`${he.isCorrect?"font-bold":""} ${he.isWrong&&ot?"line-through decoration-2 decoration-red-200":""}`,children:"Draw"})}),a.jsx("div",{className:`${Ne(Ue)} flex items-center justify-center`,children:a.jsx("span",{className:`${Ue.isCorrect?"font-bold":""} ${Ue.isWrong&&ot?"line-through decoration-2 decoration-red-200":""}`,children:"Away Win"})})]})]})]},De.id)})})]},dt))})()})}),a.jsx("div",{className:"p-6 bg-white shadow-lg",children:a.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[a.jsx("div",{className:"text-lg font-bold text-green-600 mb-2",children:" Predictions Submitted! (TEST)"}),a.jsxs("div",{className:"text-sm text-slate-600 mb-4",children:["Your test predictions for Test GW ",A," have been confirmed."]}),ne>0&&a.jsxs("div",{className:"mt-4 text-3xl font-bold text-purple-700",children:[ne,"/",i.length]})]})})]})}return g>=i.length?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[K&&a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white px-10 py-8 text-center shadow-2xl max-w-sm mx-4",children:[a.jsx("div",{className:"absolute -top-16 -left-10 h-32 w-32 rounded-full bg-emerald-200/40 blur-2xl"}),a.jsx("div",{className:"absolute -bottom-14 -right-12 h-32 w-32 rounded-full bg-cyan-200/40 blur-2xl"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("div",{className:"text-5xl",children:K.success?"":""}),a.jsx("div",{className:`text-2xl font-extrabold ${K.success?"text-emerald-700":"text-amber-600"}`,children:K.success?"Good Luck!":"Not Quite Yet!"}),a.jsx("p",{className:"text-sm text-slate-600",children:K.message})]})]})}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>w(0),className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 text-lg font-extrabold text-slate-700",children:"Review Mode"}),Q&&!re?a.jsx("button",{onClick:$t,className:"inline-flex items-center gap-2 rounded-full bg-emerald-500 px-3 py-1.5 text-sm font-semibold text-white shadow hover:bg-emerald-600",children:"Confirm"}):re?a.jsx("span",{className:"text-sm text-green-600 font-semibold",children:" Submitted"}):c.size>0?a.jsx("button",{onClick:$t,className:"inline-flex items-center gap-2 rounded-full bg-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-500 shadow-inner",children:"Confirm"}):a.jsx("button",{onClick:()=>w(0),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 via-emerald-600 to-emerald-700 px-3 py-1.5 text-xs font-semibold text-white shadow-md transition hover:shadow-lg hover:from-emerald-600 hover:via-emerald-700 hover:to-emerald-800",children:"Swipe View"})]}),a.jsx("div",{className:"mt-4 flex items-center justify-center",children:a.jsxs("div",{className:"relative rounded-3xl border border-emerald-100 bg-white px-5 py-3 shadow-sm max-w-md w-full flex items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center text-emerald-700",children:a.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),a.jsx("div",{className:"text-sm text-slate-600",children:re?"Your predictions are locked in. This is a TEST game and does not affect the main game.":"Need to tweak something? Tap a prediction to adjust it. Everything locks in once you hit confirm."})]})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-4",children:a.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:(()=>{const de=[];let Ve="",Oe=[];return i.forEach(xe=>{const ct=xe.kickoff_time?new Date(xe.kickoff_time).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}):"No date";ct!==Ve?(Oe.length>0&&de.push({label:Ve,items:Oe}),Ve=ct,Oe=[xe]):Oe.push(xe)}),Oe.length>0&&de.push({label:Ve,items:Oe}),de.map((xe,ct)=>a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-800 mb-4",children:xe.label}),a.jsx("div",{className:"space-y-4",children:xe.items.map(st=>{const St=c.get(st.fixture_index),dt=f.get(st.fixture_index);return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4",children:[a.jsx("div",{className:"flex-1 min-w-0 text-right",children:a.jsx("span",{className:"text-sm font-semibold text-slate-800 truncate inline-block",children:st.home_name||st.home_team})}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(Zs,{code:st.home_code,crest:st.home_crest,size:28}),a.jsx("div",{className:"text-slate-400 font-medium text-sm",children:st.kickoff_time?new Date(st.kickoff_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):""}),a.jsx(Zs,{code:st.away_code,crest:st.away_crest,size:28})]}),a.jsx("div",{className:"flex-1 min-w-0 text-left",children:a.jsx("span",{className:"text-sm font-semibold text-slate-800 truncate inline-block",children:st.away_name||st.away_team})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx("button",{onClick:()=>{if(H||re)return;const De=new Map(c);De.set(st.fixture_index,{fixture_index:st.fixture_index,pick:"H",matchday:A}),d(De),mt("H")},disabled:H||re,className:`h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center ${St?.pick==="H"?dt&&dt==="H"&&St.pick===dt?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white border-yellow-300 shadow-xl":dt&&(dt==="D"||dt==="A")?"bg-red-500 text-white border-red-400":"bg-purple-600 text-white border-purple-600":dt==="H"?"bg-gray-300 text-slate-700 border-gray-400":H||re?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:"Home Win"}),a.jsx("button",{onClick:()=>{if(H||re)return;const De=new Map(c);De.set(st.fixture_index,{fixture_index:st.fixture_index,pick:"D",matchday:A}),d(De),mt("D")},disabled:H||re,className:`h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center ${St?.pick==="D"?dt&&dt==="D"&&St.pick===dt?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white border-yellow-300 shadow-xl":dt&&(dt==="H"||dt==="A")?"bg-red-500 text-white border-red-400":"bg-purple-600 text-white border-purple-600":dt==="D"?"bg-gray-300 text-slate-700 border-gray-400":H||re?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:"Draw"}),a.jsx("button",{onClick:()=>{if(H||re)return;const De=new Map(c);De.set(st.fixture_index,{fixture_index:st.fixture_index,pick:"A",matchday:A}),d(De),mt("A")},disabled:H||re,className:`h-16 rounded-xl border text-sm font-medium transition-colors flex items-center justify-center ${St?.pick==="A"?dt&&dt==="A"&&St.pick===dt?"bg-gradient-to-br from-yellow-400 via-orange-500 via-pink-500 to-purple-600 text-white border-yellow-300 shadow-xl":dt&&(dt==="H"||dt==="D")?"bg-red-500 text-white border-red-400":"bg-purple-600 text-white border-purple-600":dt==="A"?"bg-gray-300 text-slate-700 border-gray-400":H||re?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:"Away Win"})]})]},st.id)})})]},ct))})()})}),a.jsx("div",{className:"p-6 bg-white shadow-lg",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[i.length>0&&i[0].kickoff_time&&a.jsxs("div",{className:"rounded-2xl border border-emerald-200 bg-white px-4 py-3 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-emerald-700",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm font-semibold",children:"Deadline"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-base font-bold text-emerald-900",children:new Date(new Date(i[0].kickoff_time).getTime()-4500*1e3).toLocaleString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),a.jsx("div",{className:"text-[11px] font-medium text-emerald-600",children:"75 mins before first kickoff"})]})]}),re?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"text-lg font-bold text-green-600 mb-2",children:" Predictions Submitted! (TEST)"}),a.jsxs("div",{className:"text-sm text-slate-600",children:["Your test predictions for Test GW ",A," have been confirmed."]}),ne>0&&a.jsxs("div",{className:"mt-4 text-2xl font-bold text-purple-700",children:[ne,"/",i.length]})]}):H?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"text-lg font-bold text-red-600 mb-2",children:" Deadline Passed"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Predictions are now closed."})]}):a.jsxs(a.Fragment,{children:[!Q&&a.jsx("div",{className:"text-center text-sm text-amber-600 mb-2",children:" You haven't made all your predictions yet"}),a.jsxs("div",{className:"grid gap-3",children:[a.jsx("button",{onClick:It,disabled:re||H,className:"w-full py-3 bg-slate-200 text-slate-700 rounded-2xl font-semibold hover:bg-slate-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Over"}),a.jsx("button",{onClick:$t,disabled:!Q,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-bold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"Confirm Predictions (TEST)":"Complete All Predictions First"}),a.jsx("button",{onClick:()=>e("/"),className:"w-full py-3 text-slate-600 hover:text-slate-800 font-medium",children:"Cancel"})]})]})]})})]}):a.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col overflow-hidden",children:[v==="cards"&&a.jsx("div",{className:"sticky top-0 z-40 px-4 pt-4 pb-2 bg-gradient-to-br from-slate-50 to-slate-100",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"relative flex items-center justify-between mb-4",children:[a.jsx("button",{onClick:()=>e("/"),className:"text-slate-600 hover:text-slate-800 text-3xl font-bold w-10 h-10 flex items-center justify-center",children:""}),a.jsxs("span",{className:"absolute left-1/2 -translate-x-1/2 text-lg font-extrabold text-slate-700",children:["Test GW ",A]}),v==="cards"&&a.jsxs("button",{onClick:()=>w(i.length),className:"inline-flex items-center gap-1.5 rounded-full bg-gradient-to-r from-emerald-500 via-emerald-600 to-emerald-700 px-3 py-1.5 text-xs font-semibold text-white shadow-md transition hover:shadow-lg hover:from-emerald-600 hover:via-emerald-700 hover:to-emerald-800",children:[a.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),"List View"]})]}),v==="cards"&&a.jsx("div",{className:"mt-4 flex justify-center mb-2",children:a.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-[#e6f3f0] px-3 py-2",children:i.map((de,Ve)=>{const Oe=Ve<g,xe=Ve===g;return a.jsx("div",{className:`flex items-center justify-center transition-all ${xe?"h-2 w-6 rounded-full bg-[#178f72]":"h-3 w-3 rounded-full"} ${Oe&&!xe?"bg-[#116f59]":xe?"":"bg-white"}`},Ve)})})})]})}),v==="list"?a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("button",{onClick:()=>e("/"),className:"absolute left-0 top-0 w-10 h-10 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-600 hover:text-slate-800 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900 mt-0 mb-2",children:"Test API Predictions"}),a.jsxs("div",{className:"mt-0 mb-4 text-base text-slate-500",children:["Call every game, lock in your results.",a.jsx("br",{}),"This is a TEST game."]})]})]}),a.jsx("div",{className:"mt-2 mb-4",children:a.jsx("div",{className:"rounded-xl border bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-purple-900 font-semibold text-lg",children:["Test GW ",A," Complete"]}),a.jsx("div",{className:"text-purple-900 text-sm font-bold mt-1",children:"Your Score"})]}),a.jsx("div",{className:"text-purple-900 text-5xl font-extrabold",children:ne})]})})}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsxs("button",{onClick:()=>{y("cards"),w(0)},className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 via-emerald-600 to-emerald-700 px-4 py-2 text-sm font-semibold text-white shadow-md transition hover:shadow-lg",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),"Back to Swipe View"]})})]})}):a.jsxs("div",{className:"flex flex-col min-h-0 overflow-hidden flex-1 pb-[90px]",style:{height:"100%"},children:[a.jsxs("div",{className:"flex items-center justify-center px-4 relative overflow-hidden pt-2",style:{minHeight:0},children:[a.jsxs("div",{className:`absolute left-8 top-1/2 -translate-y-1/2 flex flex-col items-center gap-2 transition-opacity z-50 ${R==="home"?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"text-6xl font-bold text-slate-700",children:""}),a.jsx("div",{className:"text-lg font-bold text-slate-700 bg-white px-4 py-2 rounded-full shadow-lg whitespace-nowrap",children:"Home Win"})]}),a.jsxs("div",{className:`absolute right-8 top-1/2 -translate-y-1/2 flex flex-col items-center gap-2 transition-opacity z-50 ${R==="away"?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"text-6xl font-bold text-slate-700",children:""}),a.jsx("div",{className:"text-lg font-bold text-slate-700 bg-white px-4 py-2 rounded-full shadow-lg whitespace-nowrap",children:"Away Win"})]}),a.jsxs("div",{className:`absolute bottom-32 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 transition-opacity z-50 ${R==="draw"?"opacity-100":"opacity-0"}`,children:[a.jsx("div",{className:"text-6xl font-bold text-slate-700",children:""}),a.jsx("div",{className:"text-lg font-bold text-slate-700 bg-white px-4 py-2 rounded-full shadow-lg",children:"Draw"})]}),a.jsxs("div",{className:"max-w-md w-full relative",style:{aspectRatio:"0.75"},children:[g<i.length-1&&(()=>{const de=i[g+1];return a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transform:"scale(1)",opacity:E||S?.5:0,zIndex:1,transition:"opacity 0.15s ease-out"},children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden select-none",children:[a.jsxs("div",{className:"pt-2 px-8 pb-8",children:[de.kickoff_time&&a.jsx("div",{className:"text-center mb-1",children:a.jsx("div",{className:"text-sm text-slate-500 font-medium",children:new Date(de.kickoff_time).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Zs,{code:de.home_code,crest:de.home_crest,size:120}),a.jsx("div",{className:"text-sm font-bold text-slate-700 mt-4 text-center max-w-[120px]",children:de.home_name||de.home_team})]}),a.jsx("div",{className:"flex flex-col items-center mb-8",children:de.kickoff_time&&a.jsx("div",{className:"text-sm text-slate-700",children:new Date(de.kickoff_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Zs,{code:de.away_code,crest:de.away_crest,size:120}),a.jsx("div",{className:"text-sm font-bold text-slate-700 mt-4 text-center max-w-[120px]",children:de.away_name||de.away_team})]})]})]}),a.jsxs("div",{className:"h-48 relative overflow-hidden",children:[a.jsx("div",{style:{position:"absolute",inset:0,background:rl(de.home_code,de.home_name),clipPath:"polygon(0 0, 0 100%, 100% 100%)"}}),a.jsx("div",{style:{position:"absolute",inset:0,background:rl(de.away_code,de.away_name),clipPath:"polygon(0 0, 100% 0, 100% 100%)"}})]})]})},g+1)})(),a.jsx("div",{ref:N,className:"absolute inset-0 z-10 cursor-grab active:cursor-grabbing",style:{transform:`translate(${C.x}px, ${C.y}px) rotate(${C.rotation}deg) scale(${C.scale})`,opacity:C.opacity,transition:E||U.current?"none":"all 0.3s ease-out",touchAction:"none"},onMouseDown:de=>!H&&!re&&Ae(de.clientX,de.clientY),onMouseMove:de=>!H&&!re&&Ee(de.clientX,de.clientY),onMouseUp:$e,onMouseLeave:$e,onTouchStart:te,onTouchMove:ce,onTouchEnd:Se,children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden select-none",children:[a.jsxs("div",{className:"pt-2 px-8 pb-8 relative pointer-events-none",children:[a.jsx("div",{className:"absolute top-2 right-4 flex items-center gap-2 text-slate-400 text-xs font-semibold",children:a.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4603/4603384.png",alt:"Swipe gesture icon",className:"w-6 h-6 opacity-80"})}),W.kickoff_time&&a.jsx("div",{className:"text-center mb-1",children:a.jsx("div",{className:"text-sm text-slate-500 font-medium",children:new Date(W.kickoff_time).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Zs,{code:W.home_code,crest:W.home_crest,size:120}),a.jsx("div",{className:"text-sm font-bold text-slate-700 mt-4 text-center max-w-[120px]",children:W.home_name||W.home_team})]}),a.jsx("div",{className:"flex flex-col items-center mb-8",children:W.kickoff_time&&a.jsx("div",{className:"text-sm text-slate-700",children:new Date(W.kickoff_time).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Zs,{code:W.away_code,crest:W.away_crest,size:120}),a.jsx("div",{className:"text-sm font-bold text-slate-700 mt-4 text-center max-w-[120px]",children:W.away_name||W.away_team})]})]}),(()=>{const de=f.get(W.fixture_index),Ve=c.get(W.fixture_index);if(de&&Ve){const Oe=Ve.pick===de;return a.jsxs("div",{className:"text-center mb-4 space-y-2",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-semibold",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Result: ",de==="H"?"Home Win":de==="A"?"Away Win":"Draw"]})]}),a.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold ${Oe?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[a.jsx("span",{children:Oe?"":""}),a.jsx("span",{children:Oe?"Correct!":"Incorrect"})]})]})}return null})()]}),a.jsxs("div",{className:"h-48 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0",style:{background:rl(W.home_code,W.home_name),clipPath:"polygon(0 0, 0 100%, 100% 100%)"}}),a.jsx("div",{className:"absolute inset-0",style:{background:rl(W.away_code,W.away_name),clipPath:"polygon(0 0, 100% 0, 100% 100%)"}})]})]})})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 pt-2 px-4 bg-[#eef4f3] z-50",style:{paddingBottom:"calc(1.5625rem + env(safe-area-inset-bottom, 0px))"},children:a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs("div",{className:"flex items-stretch justify-center gap-3",children:[a.jsx("button",{onClick:()=>We("H"),disabled:S||H||re,className:"flex-1 py-4 rounded-2xl font-semibold transition-all flex items-center justify-center bg-[#d7e6e3] text-slate-700 disabled:opacity-70",style:{backgroundColor:C.x<-30?`rgba(34, 197, 94, ${Math.min(.8,Math.abs(C.x)/150)})`:void 0,color:C.x<-30?"#fff":void 0},children:"Home Win"}),a.jsx("button",{onClick:()=>We("D"),disabled:S||H||re,className:"flex-1 py-4 rounded-2xl font-semibold transition-all flex items-center justify-center bg-[#d7e6e3] text-slate-700 disabled:opacity-70",style:{backgroundColor:C.y>30?`rgba(59, 130, 246, ${Math.min(.8,C.y/150)})`:void 0,color:C.y>30?"#fff":void 0},children:"Draw"}),a.jsx("button",{onClick:()=>We("A"),disabled:S||H||re,className:"flex-1 py-4 rounded-2xl font-semibold transition-all flex items-center justify-center bg-[#d7e6e3] text-slate-700 disabled:opacity-70",style:{backgroundColor:C.x>30?`rgba(34, 197, 94, ${Math.min(.8,C.x/150)})`:void 0,color:C.x>30?"#fff":void 0},children:"Away Win"})]})})})]})]})}const sF=()=>{const r=typeof window<"u"?window.location.hostname:"",e=typeof window<"u"?window.location.origin:"";return r.includes("netlify.app")||r.includes("netlify.com")?`${e}/.netlify/functions/fetchFootballData`:r==="localhost"||r==="127.0.0.1"?"https://totl-staging.netlify.app/.netlify/functions/fetchFootballData":"/.netlify/functions/fetchFootballData"};function iF(){const{user:r}=tr(),e=r?.id==="4542c037-5b38-40d0-b189-847b8f17c222"||r?.id==="36f31625-6d6c-4aa4-815a-1493a812841b",[A,n]=x.useState([]),[i,o]=x.useState(new Map),[c,d]=x.useState(!1),[f,m]=x.useState(!1),[g,w]=x.useState(""),[v,y]=x.useState(""),[C,b]=x.useState("PL"),[E,_]=x.useState(null),[S,k]=x.useState(!1),R=async(P,K)=>{try{const L=new Date,we=new Date(L);we.setDate(L.getDate()+7);const X=L.toISOString().split("T")[0],re=we.toISOString().split("T")[0],le=new URLSearchParams({competition:P,dateFrom:X,dateTo:re}),oe=`${sF()}?${le.toString()}`;console.log("[TestAdminApi] Fetching upcoming matches from:",oe),console.log("[TestAdminApi] Date range:",{dateFrom:X,dateTo:re});const Y=await fetch(oe,{signal:K}),D=Y.headers.get("content-type"),Q=D&&D.includes("application/json");let N=null,G=null;if(!Y.ok)try{if(N=await Y.text(),Q||N.trim().startsWith("{")||N.trim().startsWith("["))try{G=JSON.parse(N);const M=G.message||G.error||`API error: ${Y.status}`;return Y.status===429?(_("Rate limit reached. Please wait a moment."),null):(_(M),null)}catch{}return console.error("[TestAdminApi] Got error response:",N.substring(0,200)),Y.status===404?_("Netlify function not found. Make sure 'fetchFootballData' is deployed."):_(`Server error (${Y.status}). The function may not be deployed correctly.`),null}catch{return _(`Failed to read error response: ${Y.status}`),null}try{N=await Y.text(),console.log("[TestAdminApi] Response status:",Y.status),console.log("[TestAdminApi] Response content-type:",D),console.log("[TestAdminApi] Response preview:",N.substring(0,100));try{G=JSON.parse(N),console.log("[TestAdminApi] Successfully parsed JSON")}catch(M){return console.error("[TestAdminApi] Failed to parse JSON. Parse error:",M),console.error("[TestAdminApi] Response text:",N.substring(0,500)),N.trim().startsWith("<!")||N.trim().startsWith("<html")?_("Server returned an HTML error page. The function may not be deployed correctly. Check browser console for details."):N.trim().startsWith("{")||N.trim().startsWith("[")?_("Server returned malformed JSON. Check browser console for details."):_("Server returned invalid response (not JSON). Check browser console for details."),null}}catch(M){return console.error("[TestAdminApi] Failed to read response:",M),_("Failed to read response from server."),null}const U=G;return!U.success||!U.data?(_("Invalid API response format. Make sure the function is working correctly."),null):(_(null),U.data.matches||[])}catch(L){if(L instanceof Error&&L.name==="AbortError")return console.log("Fetch aborted"),null;console.error("Error fetching API matches:",L);let we="Failed to fetch matches";return L instanceof TypeError&&L.message.includes("fetch")?we="Network error. Check your connection and make sure the Netlify function is deployed.":L instanceof Error&&(we=L.message),_(we),null}};if(x.useEffect(()=>{if(!e)return;let P=!0;return(async()=>{try{const{error:K}=await J.from("test_api_meta").select("current_test_gw").eq("id",1).maybeSingle();K&&K.code!=="PGRST116"&&!K.message?.includes("404")&&console.warn("Error loading test_api_meta:",K.message);const{data:L,error:we}=await J.from("test_api_fixtures").select("*").eq("test_gw",1).order("fixture_index",{ascending:!0});if(we)we.code!=="PGRST116"&&!we.message?.includes("404")&&console.warn("Error loading test_api_fixtures:",we.message);else if(P&&L&&L.length>0){const X=new Map;L.forEach(re=>{X.set(re.fixture_index,{...re,selected:!0})}),o(X)}}catch{}})(),()=>{P=!1}},[e]),!e)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:a.jsx("div",{className:"text-red-600",children:"Access denied. Admin only."})});const I=(P,K)=>{const L=new Map(i);if(L.has(K))L.delete(K);else{const we={test_gw:1,fixture_index:K,api_match_id:P.id,home_team:P.homeTeam.shortName,away_team:P.awayTeam.shortName,home_code:P.homeTeam.tla,away_code:P.awayTeam.tla,home_name:P.homeTeam.name,away_name:P.awayTeam.name,home_crest:P.homeTeam.crest||null,away_crest:P.awayTeam.crest||null,kickoff_time:P.utcDate,selected:!0};L.set(K,we)}o(L)},j=async()=>{if(i.size===0){w("Please select at least one fixture");return}d(!0),w(""),y("");try{await J.from("test_api_fixtures").delete().eq("test_gw",1);const P=Array.from(i.values()).map(L=>({test_gw:L.test_gw,fixture_index:L.fixture_index,api_match_id:L.api_match_id,home_team:L.home_team,away_team:L.away_team,home_code:L.home_code,away_code:L.away_code,home_name:L.home_name,away_name:L.away_name,home_crest:L.home_crest,away_crest:L.away_crest,kickoff_time:L.kickoff_time})),{error:K}=await J.from("test_api_fixtures").insert(P);if(K)throw K;await J.from("test_api_meta").upsert({id:1,current_test_gw:1},{onConflict:"id"}),y(`Test Gameweek 1 saved with ${i.size} fixtures!`)}catch(P){w(P.message??"Failed to save test gameweek.")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",style:{pointerEvents:"auto"},children:a.jsxs("div",{className:"max-w-4xl mx-auto",style:{pointerEvents:"auto"},children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900 mb-2",children:"Test API Admin (STAGING ONLY)"}),a.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Select fixtures from the API to create test gameweeks. This is completely separate from the main game."}),g&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:g}),v&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:v}),E&&a.jsx("div",{"data-api-error":!0,className:"mb-4 p-4 bg-amber-50 border-2 border-amber-400 rounded-lg text-amber-800 text-sm font-medium shadow-md",children:E.startsWith("API Error:")?E:` ${E}`}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("label",{className:"font-medium text-slate-700",children:"Test Gameweek:"}),a.jsx("span",{className:"text-lg font-semibold text-slate-900",children:"1"}),a.jsx("span",{className:"text-sm text-slate-500",children:"(API Test league always uses GW 1)"})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Upcoming Matches (Next 7 Days)"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Competition:"}),a.jsxs("select",{value:C,onChange:P=>{b(P.target.value),n([]),_(null)},className:"w-full border rounded px-3 py-2",children:[a.jsx("option",{value:"PL",children:"Premier League"}),a.jsx("option",{value:"BSA",children:"Brazilian Serie A"}),a.jsx("option",{value:"BL1",children:"Bundesliga"}),a.jsx("option",{value:"SA",children:"Serie A"}),a.jsx("option",{value:"FL1",children:"Ligue 1"}),a.jsx("option",{value:"PD",children:"La Liga"}),a.jsx("option",{value:"CL",children:"Champions League"})]})]}),S&&a.jsx("div",{className:"text-center py-4 text-slate-600",children:"Loading upcoming matches..."}),a.jsx("button",{onClick:()=>{if(f){console.log("[TestAdminApi] Already fetching, ignoring click");return}console.log("[TestAdminApi] Refreshing upcoming matches",{competition:C});const P=new AbortController;m(!0),_(null),R(C,P.signal).then(K=>{console.log("[TestAdminApi] Matches fetched",K?.length||0),K&&K.length>0?(n(K),_(null)):K&&K.length===0&&_("No upcoming matches found in the next week for this competition.")}).catch(K=>{console.error("[TestAdminApi] Error refreshing matches",K),K instanceof Error&&K.name!=="AbortError"&&_("Failed to fetch matches. Please try again.")}).finally(()=>{m(!1),k(!1)})},disabled:f,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 transition-transform relative z-10",type:"button",children:f?"Refreshing...":"Refresh Matches"})]}),A.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:["Available Matches (",A.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:A.map((P,K)=>{const L=i.has(K),we=new Date(P.utcDate),X=new Date;X.setHours(0,0,0,0);const re=new Date(X);re.setDate(X.getDate()+1);const le=new Date(we);le.setHours(0,0,0,0);let H="";le.getTime()===X.getTime()?H="TODAY":le.getTime()===re.getTime()?H="TOMORROW":H=we.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});const oe=`${String(we.getUTCHours()).padStart(2,"0")}:${String(we.getUTCMinutes()).padStart(2,"0")} UTC`,Y=`${H} ${oe}`;return a.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${L?"bg-purple-50 border-purple-300":"bg-slate-50 border-slate-200 hover:bg-slate-100"}`,onClick:()=>I(P,K),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:L,onChange:()=>I(P,K),className:"w-5 h-5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-medium text-slate-800",children:[P.homeTeam.shortName," vs ",P.awayTeam.shortName]}),a.jsxs("div",{className:"text-xs text-slate-500",children:[Y,"  ",P.status,"  Matchday ",P.matchday]})]})]})},P.id)})})]}),i.size>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:["Selected Fixtures for Test GW 1 (",i.size,")"]}),a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Array.from(i.values()).sort((P,K)=>P.fixture_index-K.fixture_index).map(P=>a.jsxs("div",{className:"p-2 bg-purple-50 border border-purple-200 rounded text-sm",children:[P.fixture_index+1,". ",P.home_team," vs ",P.away_team]},P.fixture_index))}),a.jsx("button",{onClick:j,disabled:c,className:"mt-4 w-full py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 font-semibold",children:c?"Saving...":"Save Test Gameweek 1"})]})]})})}function aF(){const{user:r,signOut:e,session:A}=tr(),[n,i]=x.useState(null),[o,c]=x.useState(!0),[d,f]=x.useState(!1),[m,g]=x.useState(null),[w,v]=x.useState(!1),[y,C]=x.useState(null),[b,E]=x.useState(null),[_,S]=x.useState(null),k=r?.id==="4542c037-5b38-40d0-b189-847b8f17c222"||r?.id==="36f31625-6d6c-4aa4-815a-1493a812841b";x.useEffect(()=>{let I=0;const j=40,P=()=>{const L=[globalThis?.despia,typeof window<"u"?window?.despia:null,globalThis?.Despia,typeof window<"u"?window?.Despia:null,globalThis?.DESPIA,typeof window<"u"?window?.DESPIA:null,globalThis?.OneSignal,typeof window<"u"?window?.OneSignal:null,globalThis?.webkit?.messageHandlers?.despia,typeof window<"u"?window?.webkit?.messageHandlers?.despia:null].find(re=>re!=null)||null;let we=null;try{const re=typeof window<"u"?window:globalThis;for(const le in re)if(le.toLowerCase().includes("despia")||le.toLowerCase().includes("onesignal")){we={key:le,value:re[le]};break}}catch{}const X=globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null)||globalThis?.oneSignalPlayerId||(typeof window<"u"?window?.oneSignalPlayerId:null);if(L||we||X){console.log("[Profile] Native API detected:",{despia:!!L,foundInGlobals:we,directPlayerId:X?String(X).slice(0,12)+"":null,despiaKeys:L?Object.keys(L):[],hasOneSignalRequestPermission:L&&typeof L.oneSignalRequestPermission=="function",hasRequestPermission:L&&typeof L.requestPermission=="function",playerId:L?L.onesignalplayerid||L.oneSignalPlayerId:X}),E(!0);const re=L?L.onesignalplayerid||L.oneSignalPlayerId:X;return re&&S(String(re)),!0}return I++,I<j?setTimeout(P,500):(console.warn("[Profile] Native API not detected after",j,"attempts"),E(!1)),!1};P()},[]),x.useEffect(()=>{R()},[r]);async function R(){if(r)try{const{data:I,error:j}=await J.from("picks").select("*").eq("user_id",r.id);j&&console.error("Error fetching picks:",j);const{data:P,error:K}=await J.from("v_ocp_overall").select("user_id, name, ocp").order("ocp",{ascending:!1});K&&console.error("Error fetching standings:",K);const L=P?P.findIndex(H=>H.user_id===r.id)+1:0,we=P?.find(H=>H.user_id===r.id),{data:X,error:re}=await J.from("gw_results").select("gw, fixture_index, result");re&&console.error("Error fetching results:",re);let le=0;I&&X&&I.forEach(H=>{const oe=X.find(Y=>Y.gw===H.gw&&Y.fixture_index===H.fixture_index);oe&&oe.result===H.pick&&le++}),i({totalPredictions:I?.length||0,correctPredictions:le,totalPoints:we?.ocp||0,globalRank:L,totalUsers:P?.length||0})}catch(I){console.error("Error fetching user stats:",I)}finally{c(!1)}}return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8 mb-6",children:a.jsxs("div",{className:"flex items-start gap-4 sm:gap-6",children:[a.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-[#1C8376] rounded-full flex items-center justify-center text-white text-xl sm:text-2xl font-bold flex-shrink-0",children:(r.user_metadata?.display_name||r.email||"U")[0].toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-2 truncate",children:r.user_metadata?.display_name||"User"}),a.jsx("p",{className:"text-slate-600 break-all text-sm sm:text-base",children:r.email}),a.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Member since ",new Date(r.created_at||"").toLocaleDateString("en-GB",{month:"long",year:"numeric"})]})]})]})}),o?a.jsx("div",{className:"text-center py-12 text-slate-600",children:"Loading stats..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"text-4xl font-bold text-[#1C8376] mb-2",children:n?.totalPoints||0}),a.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"OCP"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:n?.globalRank||0}),a.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"Global Rank"}),a.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["of ",n?.totalUsers||0,n&&n.globalRank>0&&n.totalUsers>0&&a.jsxs("span",{className:"block mt-1 text-[#1C8376] font-semibold",children:["Top ",Math.round(n.globalRank/n.totalUsers*100),"%"]})]})]})]}),n&&n.totalPredictions>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Prediction Accuracy"}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"text-slate-600",children:[a.jsx("span",{className:"text-3xl font-bold text-[#1C8376]",children:n.correctPredictions}),a.jsxs("span",{className:"text-slate-500",children:[" / ",n.totalPredictions]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-3xl font-bold text-[#1C8376]",children:[(n.correctPredictions/n.totalPredictions*100).toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-slate-500",children:"accuracy rate"})]})]}),a.jsx("div",{className:"overflow-hidden h-4 text-xs flex rounded-full bg-[#1C8376]/20",children:a.jsx("div",{style:{width:`${n.correctPredictions/n.totalPredictions*100}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-[#1C8376] transition-all duration-500"})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Account Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between py-3 border-b border-slate-200",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:"Display Name"}),a.jsx("div",{className:"text-sm text-slate-600",children:r.user_metadata?.display_name||"Not set"})]})}),a.jsx("div",{className:"flex items-center justify-between py-3 border-b border-slate-200",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-slate-800",children:"Email"}),a.jsx("div",{className:"text-sm text-slate-600 break-all",children:r.email})]})}),a.jsx("div",{className:"flex items-center justify-between py-3 border-b border-slate-200",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:"User ID"}),a.jsx("div",{className:"text-xs text-slate-500 font-mono",children:r.id})]})})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Advanced"}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Check and fix your notification settings to receive chat notifications in mini-leagues."}),a.jsx("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-600 mb-1",children:"OS Permission:"}),a.jsx("div",{className:"font-semibold text-slate-800",children:b===null?" Checking...":b===!1?" Unknown (not native app)":globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null)||_?' Native app (use "Enable Notifications" to check status)':" Unknown (not native app)"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-600 mb-1",children:"OneSignal Status:"}),a.jsx("div",{className:"font-semibold text-slate-800",children:(()=>{if(b===null)return" Checking...";if(b===!1)return" Not initialized";const I=globalThis?.despia||(typeof window<"u"?window?.despia:null),j=globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null);return I?.onesignalplayerid||I?.oneSignalPlayerId||j||_?" Player ID found":" Not initialized"})()})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{className:"text-slate-600 mb-1",children:"Player ID:"}),a.jsx("div",{className:"font-mono text-xs text-slate-700 break-all",children:(()=>{if(b===null)return"Checking...";const I=globalThis?.despia||(typeof window<"u"?window?.despia:null),j=globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null),P=I?.onesignalplayerid||I?.oneSignalPlayerId||j||_;if(!P)return"Not available";const K=String(P);return K.slice(0,8)+""+K.slice(-4)})()})]})]})}),a.jsxs("div",{className:"mb-4 p-3 bg-slate-100 rounded-lg border border-slate-300 text-xs",children:[a.jsx("div",{className:"font-semibold text-slate-700 mb-2",children:" Debug Info:"}),a.jsxs("div",{className:"space-y-1 text-slate-600 font-mono break-all",children:[a.jsxs("div",{children:["User Agent: ",typeof navigator<"u"?navigator.userAgent.slice(0,50)+"":"N/A"]}),a.jsxs("div",{children:["globalThis.despia: ",globalThis?.despia?" Found":" Not found"]}),a.jsxs("div",{children:["window.despia: ",typeof window<"u"&&window?.despia?" Found":" Not found"]}),a.jsxs("div",{children:["globalThis.Despia: ",globalThis?.Despia?" Found":" Not found"]}),a.jsxs("div",{children:["window.Despia: ",typeof window<"u"&&window?.Despia?" Found":" Not found"]}),a.jsxs("div",{children:["globalThis.OneSignal: ",globalThis?.OneSignal?" Found":" Not found"]}),a.jsxs("div",{children:["window.OneSignal: ",typeof window<"u"&&window?.OneSignal?" Found":" Not found"]}),(()=>{const j=[globalThis?.despia,typeof window<"u"?window?.despia:null,globalThis?.Despia,typeof window<"u"?window?.Despia:null,globalThis?.DESPIA,typeof window<"u"?window?.DESPIA:null].find(K=>K!=null)||null;let P=[];try{const K=typeof window<"u"?window:globalThis;for(const L in K)(L.toLowerCase().includes("despia")||L.toLowerCase().includes("onesignal"))&&P.push(L)}catch{}return P.length>0?a.jsxs("div",{className:"mt-2 text-green-600",children:[" Found global properties: ",P.join(", ")]}):j?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-2 font-semibold",children:"Despia Object Found:"}),a.jsxs("div",{children:["Keys: ",Object.keys(j).slice(0,10).join(", "),Object.keys(j).length>10?"":""]}),a.jsxs("div",{children:["oneSignalRequestPermission: ",typeof j.oneSignalRequestPermission=="function"?" Function":" Not a function"]}),a.jsxs("div",{children:["requestPermission: ",typeof j.requestPermission=="function"?" Function":" Not a function"]}),a.jsxs("div",{children:["onesignalplayerid: ",j.onesignalplayerid?" "+String(j.onesignalplayerid).slice(0,12)+"":""]}),a.jsxs("div",{children:["oneSignalPlayerId: ",j.oneSignalPlayerId?" "+String(j.oneSignalPlayerId).slice(0,12)+"":""]})]}):a.jsx("div",{className:"mt-2 text-red-600",children:" No Despia object found in any location"})})(),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Polling: ",b===null?" Checking...":b?" Detected":" Not detected"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:async()=>{if(!A?.access_token){g("Error: Not signed in");return}f(!0),g(null);try{const{ensurePushSubscribed:I}=await Xr(async()=>{const{ensurePushSubscribed:P}=await Promise.resolve().then(()=>rC);return{ensurePushSubscribed:P}},[]),j=await I(A);j.ok?(g(` Successfully enabled notifications! Player ID: ${j.playerId?.slice(0,8)}`),setTimeout(()=>g(null),5e3)):g(` ${{"permission-denied":"Permission denied. Please enable notifications in iOS Settings.","no-player-id":"OneSignal not initialized. Please wait a few seconds and try again.","api-not-available":"Not available in browser. Please use the native app.","no-session":"Not signed in. Please sign in and try again.",unknown:"Unknown error. Please try again or contact support."}[j.reason||"unknown"]||"Failed to enable notifications"}`)}catch(I){g(` Error: ${I.message||"Failed to enable notifications"}`)}finally{f(!1)}},disabled:d||!A?.access_token,className:"w-full py-3 bg-white border border-slate-300 hover:bg-slate-50 disabled:bg-gray-100 disabled:opacity-50 text-slate-600 hover:text-slate-800 font-medium rounded-xl transition-colors",children:d?"Enabling...":"Enable Notifications"}),a.jsx("button",{onClick:async()=>{let I=null;try{I=(await Xr(()=>import("./index-7D4M2kxi.js").then(P=>P.i),[])).default}catch{I=globalThis?.despia||(typeof window<"u"?window?.despia:null)}if(I&&typeof I=="function")try{I("settingsapp://")}catch{alert("Please go to iOS Settings  TotL  Notifications and enable notifications")}else alert("Please go to iOS Settings  TotL  Notifications and enable notifications")},className:"w-full py-2 bg-slate-200 hover:bg-slate-300 text-slate-800 font-medium rounded-xl transition-colors text-sm hidden",children:" Open OS Settings"}),a.jsx("button",{onClick:async()=>{if(!A?.access_token){g("Error: Not signed in");return}v(!0),g(null),C(null);try{const j=await(await fetch("/.netlify/functions/checkMySubscription",{headers:{Authorization:`Bearer ${A.access_token}`}})).json();if(C(j),j.subscribed)g(" Device is subscribed! Notifications should work.");else{const P=j.reasons||[],K=j.suggestion||"Enable notifications in iOS Settings";g(` Not subscribed: ${P.join("; ")}. ${K}`)}}catch(I){g(` Error checking subscription: ${I.message}`)}finally{v(!1)}},disabled:w||!A?.access_token,className:"w-full py-3 bg-white border border-slate-300 hover:bg-slate-50 disabled:bg-gray-100 disabled:opacity-50 text-slate-600 hover:text-slate-800 font-medium rounded-xl transition-colors",children:w?"Checking...":"Check Subscription Status"}),a.jsx("button",{onClick:async()=>{let I=null;try{const P=(await Xr(()=>import("./index-7D4M2kxi.js").then(K=>K.i),[])).default;I=P?.onesignalplayerid||P?.oneSignalPlayerId||null}catch{I=globalThis?.onesignalplayerid||(typeof window<"u"?window?.onesignalplayerid:null)}I=I||_,I?(await navigator.clipboard.writeText(String(I)),g(" Player ID copied to clipboard"),setTimeout(()=>g(null),2e3)):g(" Player ID not available")},className:"w-full py-3 bg-white border border-slate-300 hover:bg-slate-50 text-slate-600 hover:text-slate-800 font-medium rounded-xl transition-colors",children:"Copy Player ID"})]}),m&&a.jsx("div",{className:`mt-3 p-3 rounded-lg text-sm ${m.includes("")?"bg-green-50 text-green-800 border border-green-200":m.includes("")?"bg-amber-50 text-amber-800 border border-amber-200":"bg-red-50 text-red-800 border border-red-200"}`,children:m}),y&&y.details&&a.jsxs("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200 text-xs",children:[a.jsx("div",{className:"font-semibold text-slate-700 mb-2",children:" OneSignal Status Details:"}),a.jsxs("div",{className:"space-y-1 text-slate-600 font-mono",children:[a.jsxs("div",{children:["Has Token: ",y.details.hasToken?" Yes":" No"]}),a.jsxs("div",{children:["Invalid: ",y.details.invalid?" Yes":" No"]}),a.jsxs("div",{children:["Notification Types: ",y.details.notificationTypes??"null"]}),a.jsxs("div",{children:["Device Type: ",y.details.deviceType||"N/A"]}),a.jsxs("div",{children:["Last Active: ",y.details.lastActive?new Date(y.details.lastActive).toLocaleString():"Never"]}),y.reasons&&y.reasons.length>0&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-300",children:[a.jsx("div",{className:"font-semibold text-red-600",children:"Issues Found:"}),y.reasons.map((I,j)=>a.jsxs("div",{className:"text-red-600",children:[" ",I]},j))]})]})]})]}),k&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Admin"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_A,{to:"/admin",className:"block w-full py-3 bg-slate-600 hover:bg-slate-700 text-white font-semibold rounded-xl transition-colors text-center",children:"Admin Panel"}),a.jsx(_A,{to:"/test-admin-api",className:"block w-full py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl transition-colors text-center",children:"Test API Admin (Staging)"})]})]}),a.jsx("button",{onClick:async()=>{await e()},className:"w-full mt-6 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl transition-colors",children:"Sign Out"})]})]})}):a.jsx("div",{className:"p-6",children:"Please sign in to view your profile."})}function oF(){const{user:r}=tr(),[e,A]=rs.useState(!1),[n,i]=rs.useState(null),[o,c]=rs.useState(null),[d,f]=rs.useState(null);return rs.useEffect(()=>{let m=!0;const g=async()=>{try{const{data:b}=await J.from("meta").select("current_gw").eq("id",1).maybeSingle(),E=b?.current_gw??null;if(!m)return;if(i(E),!E)return A(!1);const{count:_}=await J.from("fixtures").select("id",{count:"exact",head:!0}).eq("gw",E);if(!m)return;const{count:S}=await J.from("gw_results").select("gw",{count:"exact",head:!0}).eq("gw",E);if(!m)return;const k=(S??0)>0;if(!_){c("watch-space"),A(!0),f(null);return}const{data:R}=await J.from("fixtures").select("kickoff_time").eq("gw",E).order("kickoff_time",{ascending:!0}).limit(1);if(R&&R.length>0&&R[0].kickoff_time){const K=new Date(R[0].kickoff_time),L=new Date(K.getTime()-4500*1e3),we=L.toLocaleDateString(void 0,{weekday:"short"}),X=L.toLocaleDateString(void 0,{month:"short"}),re=L.toLocaleDateString(void 0,{day:"numeric"}),le=String(L.getUTCHours()).padStart(2,"0"),H=String(L.getUTCMinutes()).padStart(2,"0"),oe=`${we}, ${X} ${re}, ${le}:${H}`;f(oe)}else f(null);if(k){c("watch-space"),A(!0);return}if(!r?.id){A(!1);return}const{data:I}=await J.from("fixtures").select("fixture_index").eq("gw",E);if(!I||I.length===0){A(!1);return}const{data:j}=await J.from("picks").select("fixture_index").eq("user_id",r.id).eq("gw",E);if(!m)return;j&&j.length===I.length?A(!1):(c("predictions"),A(!0))}catch{A(!1)}};g();const w=()=>{g()},v=()=>{g()},y=()=>{g()},C=()=>{document.hidden||g()};return window.addEventListener("predictionsSubmitted",w),window.addEventListener("resultsPublished",v),window.addEventListener("fixturesPublished",y),document.addEventListener("visibilitychange",C),()=>{m=!1,window.removeEventListener("predictionsSubmitted",w),window.removeEventListener("resultsPublished",v),window.removeEventListener("fixturesPublished",y),document.removeEventListener("visibilitychange",C)}},[r?.id]),e?a.jsx(a.Fragment,{children:o==="predictions"?a.jsx("div",{className:"mx-auto max-w-6xl px-4",children:a.jsx(_A,{to:"/new-predictions",className:"block mt-4 rounded-lg bg-blue-600 px-4 py-3 hover:bg-blue-700 transition-colors",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-white",children:["GW",n," is Live - Make your predictions"]}),a.jsx("div",{className:"text-white/90",children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Deadline: "}),a.jsx("span",{className:"font-extrabold",children:d})]}):"Don't miss the deadline!"})]})})}):a.jsx("div",{className:"w-full px-4 py-3 relative",style:{backgroundColor:"#e1eae9"},children:a.jsxs("div",{className:"mx-auto max-w-6xl relative",children:[a.jsx("div",{className:"absolute top-3 left-0 w-6 h-6 rounded-full bg-[#1C8376] flex items-center justify-center text-white text-[10px] font-normal",children:"!"}),a.jsxs("div",{className:"pl-10",children:[a.jsxs("div",{className:"font-bold text-slate-900 text-base",children:["GW",(n||1)+1," Coming Soon!"]}),a.jsx("div",{className:"text-sm text-slate-600 mt-0.5",children:"Fixtures will be published soon."})]})]})})}):null}const Qp=[{name:"Home",path:"/",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-7 h-7",children:a.jsx("g",{children:a.jsx("path",{fill:"currentColor",d:"M10.7876 3.66609c0.7159 -0.54548 1.7088 -0.54542 2.4248 0l9.0537 6.89841c0.4392 0.3347 0.524 0.9621 0.1895 1.4014 -0.3347 0.4391 -0.9622 0.524 -1.4014 0.1894l-1.0537 -0.8037v7.6485c0 1.1045 -0.8955 1.9999 -2 2h-4.001c-0.5521 -0.0002 -1 -0.4479 -1 -1v-5h-2v5c0 0.5522 -0.4478 0.9999 -0.99999 1H6.00049c-1.10455 0 -1.99996 -0.8955 -2 -2v-7.6485l-1.05371 0.8037c-0.4393 0.3346 -1.06768 0.2498 -1.40235 -0.1894 -0.3343 -0.4391 -0.24936 -1.0667 0.18946 -1.4014zM6.00049 9.8282v9.1719h2.99902v-5c0 -0.5522 0.44789 -0.9998 1 -1h3.99999c0.5522 0.0001 1 0.4477 1 1v5h3.001V9.8282l-6 -4.57129z",strokeWidth:"1"})})})},{name:"Test API",path:"/test-api-predictions",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-7 h-7",children:a.jsx("g",{children:a.jsx("path",{fill:"currentColor",d:"M12 2c5.5228 0 10 4.47715 10 10 0 5.5228 -4.4772 10 -10 10 -5.52285 0 -10 -4.4772 -10 -10C2 6.47715 6.47715 2 12 2m1 3c0 0.55228 -0.4477 1 -1 1s-1 -0.44772 -1 -1v-0.93652C7.38148 4.51479 4.51582 7.3815 4.06445 11H5c0.55228 0 1 0.4477 1 1s-0.44772 1 -1 1h-0.93555C4.51581 16.6185 7.38154 19.4842 11 19.9355V19c0 -0.5523 0.4477 -1 1 -1s1 0.4477 1 1v0.9355c3.6185 -0.4513 6.4842 -3.317 6.9355 -6.9355H19c-0.5523 0 -1 -0.4477 -1 -1s0.4477 -1 1 -1h0.9355C19.4842 7.3815 16.6185 4.51479 13 4.06348zm-1 3c0.5523 0 1 0.44772 1 1v2h2c0.5523 0 1 0.4477 1 1s-0.4477 1 -1 1h-2v2c0 0.5523 -0.4477 1 -1 1s-1 -0.4477 -1 -1v-2H9l-0.10254 -0.0049C8.39333 12.9438 8 12.5177 8 12s0.39333 -0.9438 0.89746 -0.9951L9 11h2V9c0 -0.55228 0.4477 -1 1 -1",strokeWidth:"1"})})})},{name:"Mini Leagues",path:"/tables",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-7 h-7",children:a.jsx("g",{children:a.jsx("path",{fill:"currentColor",d:"M19.7832 15.2832c0.539 -0.1195 1.0736 0.2208 1.1934 0.7598 0.1193 0.5388 -0.2211 1.0734 -0.7598 1.1933 -1.0253 0.2278 -2.7648 0.5291 -5.2168 0.6758V20.5c0 0.5522 -0.4479 0.9998 -1 1h-4c-0.55215 -0.0002 -1 -0.4478 -1 -1v-2.5879c-2.45196 -0.1467 -4.19154 -0.448 -5.2168 -0.6758 -0.53879 -0.1198 -0.87909 -0.6545 -0.75976 -1.1933 0.11981 -0.539 0.65438 -0.8794 1.19336 -0.7598 1.26394 0.2809 3.85843 0.7178 7.7832 0.7178 3.9247 0 6.5193 -0.4369 7.7832 -0.7178M12 11c1.1044 0.0002 2 0.8955 2 2s-0.8956 1.9998 -2 2c-1.1044 -0.0002 -2 -0.8955 -2 -2s0.8956 -1.9998 2 -2M3.5 9c0.82843 0 1.5 0.67157 1.5 1.5 0 0.8284 -0.67157 1.5 -1.5 1.5S2 11.3284 2 10.5C2 9.67157 2.67157 9 3.5 9m17 0c0.8284 0 1.5 0.67157 1.5 1.5 0 0.8284 -0.6716 1.5 -1.5 1.5s-1.5 -0.6716 -1.5 -1.5c0 -0.82843 0.6716 -1.5 1.5 -1.5m-14 -4.5C7.32843 4.5 8 5.17157 8 6s-0.67157 1.5 -1.5 1.5S5 6.82843 5 6s0.67157 -1.5 1.5 -1.5m11 0c0.8284 0 1.5 0.67157 1.5 1.5s-0.6716 1.5 -1.5 1.5S16 6.82843 16 6s0.6716 -1.5 1.5 -1.5m-5.5 -2c0.8284 0 1.5 0.67157 1.5 1.5s-0.6716 1.5 -1.5 1.5 -1.5 -0.67157 -1.5 -1.5 0.6716 -1.5 1.5 -1.5",strokeWidth:"1"})})})},{name:"Leaderboard",path:"/global",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"w-7 h-7",children:a.jsx("g",{children:a.jsx("path",{fill:"currentColor",d:"M16 3c1.1046 0 2 0.89543 2 2h2c1.1046 0 2 0.89543 2 2v1c0 2.695 -2.1323 4.89 -4.8018 4.9941 -0.8777 1.5207 -2.4019 2.6195 -4.1982 2.9209V19h3c0.5523 0 1 0.4477 1 1s-0.4477 1 -1 1H8c-0.55228 0 -1 -0.4477 -1 -1s0.44772 -1 1 -1h3v-3.085c-1.7965 -0.3015 -3.32148 -1.4 -4.19922 -2.9209C4.13175 12.8895 2 10.6947 2 8V7c0 -1.10457 0.89543 -2 2 -2h2c0 -1.10457 0.89543 -2 2 -2zm-8 7c0 2.2091 1.79086 4 4 4 2.2091 0 4 -1.7909 4 -4V5H8zM4 8c0 1.32848 0.86419 2.4532 2.06055 2.8477C6.02137 10.5707 6 10.2878 6 10V7H4zm14 2c0 0.2878 -0.0223 0.5706 -0.0615 0.8477C19.1353 10.4535 20 9.32881 20 8V7h-2z",strokeWidth:"1"})})})}];function lF(){const r=us(),e=Ur(),A=x.useRef(null),n=x.useRef([]),[i,o]=x.useState(null);return x.useEffect(()=>{const c=()=>{const f=Qp.findIndex(m=>e.pathname===m.path);if(f>=0&&n.current[f]&&A.current){const m=n.current[f],g=A.current,w=m.getBoundingClientRect(),v=g.getBoundingClientRect(),C=w.height,E=w.left+w.width/2-v.left-C/2,S=w.top+w.height/2-v.top-C/2;o({width:C,left:E,top:S,borderRadius:C/2})}},d=setTimeout(c,0);return window.addEventListener("resize",c),()=>{clearTimeout(d),window.removeEventListener("resize",c)}},[e.pathname]),a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .bottom-nav-absolute {
          position: fixed !important;
          bottom: 0px !important;
          left: 0px !important;
          right: 0px !important;
          width: 100vw !important;
          max-width: 100vw !important;
          z-index: 9999 !important;
          transform: translate3d(0, 0, 0) !important;
          -webkit-transform: translate3d(0, 0, 0) !important;
          will-change: transform !important;
          contain: layout style paint !important;
        }
        @supports (padding-bottom: env(safe-area-inset-bottom)) {
          .bottom-nav-absolute {
            padding-bottom: env(safe-area-inset-bottom) !important;
          }
        }
        @media (max-height: 800px) {
          .bottom-nav-absolute {
            position: fixed !important;
            bottom: 0px !important;
          }
        }
      `}),a.jsx("div",{className:"bottom-nav-absolute flex items-center justify-center px-4 pb-8",children:a.jsxs("div",{ref:A,className:"bg-[#1C8376] border border-[#178f72] rounded-full shadow-2xl flex items-center max-w-md w-full px-2 py-2 mb-4 relative",style:{boxShadow:"0 15px 35px -5px rgba(0, 0, 0, 0.5), 0 10px 15px -5px rgba(0, 0, 0, 0.4)"},children:[i&&a.jsx("div",{className:"absolute bg-[#178f72]",style:{width:`${i.width}px`,height:`${i.width}px`,left:`${i.left}px`,top:`${i.top}px`,borderRadius:`${i.borderRadius}px`,transition:"all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)"}}),Qp.map((c,d)=>{const f=e.pathname===c.path;return a.jsx("button",{ref:m=>{n.current[d]=m},onClick:()=>r(c.path),className:`relative z-10 flex-1 flex items-center justify-center py-3 px-4 rounded-full transition-all duration-300 ${f?"text-white":"text-white/70 hover:text-white"}`,children:a.jsx("div",{className:`relative transition-all duration-300 ${f?"scale-110":"scale-100"}`,children:c.icon})},c.name)})]})})]})}function cF(){return a.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[a.jsx(_A,{to:"/how-to-play",className:"w-12 h-12 rounded-full bg-[#1C8376] shadow-lg flex items-center justify-center hover:bg-[#178f72] transition-all",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:a.jsx("img",{src:"/assets/Icons/School--Streamline-Outlined-Material-Pr0_White.png",alt:"How To Play",className:"w-6 h-6"})}),a.jsx(_A,{to:"/profile",className:"w-12 h-12 rounded-full bg-[#1C8376] shadow-lg flex items-center justify-center hover:bg-[#178f72] transition-all",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:a.jsx("img",{src:"/assets/Icons/Person--Streamline-Outlined-Material-Pro_white.png",alt:"Profile",className:"w-6 h-6"})})]})}function uF(){const[r,e]=x.useState(0),[A,n]=x.useState(!1);x.useEffect(()=>{const g=setTimeout(()=>{n(!0)},50);return()=>clearTimeout(g)},[]),x.useEffect(()=>{const g=()=>{e(window.scrollY)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const o=Math.min(1,r/300)*180,c=Math.max(0,1-r/250),d=Math.max(.4,1-r/400),f=r<400,m=A?0:-360;return a.jsx("div",{className:"w-full flex justify-center items-start transition-all duration-200",style:{height:f?"110px":"0px",overflow:"hidden",paddingTop:"16px",paddingBottom:"4px",perspective:"1000px"},children:a.jsx("div",{style:{opacity:r===0?A?1:0:c,transform:r===0?`perspective(1000px) rotateY(${m}deg) scale(1)`:`perspective(1000px) rotateY(${o}deg) scale(${d})`,transformStyle:"preserve-3d",transition:r===0?"opacity 0.6s ease-out, transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)":"opacity 0.2s ease-out, transform 0.2s ease-out"},children:a.jsx("img",{src:"/assets/badges/totl-logo1.svg",alt:"TOTL",className:"h-[74px] sm:h-[92px]",style:{filter:"brightness(0)",backfaceVisibility:"hidden"}})})})}function dF(){const[r,e]=x.useState("signup"),[A,n]=x.useState(""),[i,o]=x.useState(""),[c,d]=x.useState(""),[f,m]=x.useState(""),[g,w]=x.useState(""),[v,y]=x.useState(null),[C,b]=x.useState(!1),[E,_]=x.useState(!1),[S,k]=x.useState(!1),[R,I]=x.useState(!1),j=us();x.useEffect(()=>{(async()=>{console.log("SignIn page loaded, checking for password reset..."),console.log("Current URL:",window.location.href),console.log("Search params:",window.location.search),console.log("Hash:",window.location.hash);const re=new URLSearchParams(window.location.search),le=new URLSearchParams(window.location.hash.substring(1)),H=re.get("type")==="recovery"||le.get("type")==="recovery"||window.location.search.includes("type=recovery")||window.location.hash.includes("type=recovery");if(console.log("Is recovery detected:",H),H){console.log("Setting password reset mode"),e("password-reset");return}const{data:{session:oe}}=await J.auth.getSession();if(console.log("Session:",oe),oe?.user){if(window.location.hash.includes("type=recovery")||window.location.search.includes("type=recovery")){console.log("Session-based recovery detected"),e("password-reset");return}if(oe.user.app_metadata?.provider==="email"&&(oe.user.app_metadata?.providers?.includes("email")||window.location.href.includes("recovery")||window.location.href.includes("reset"))){console.log("Password reset session detected"),e("password-reset");return}}})()},[]);async function P(){if(f!==g){y("Passwords do not match");return}if(f.length<6){y("Password must be at least 6 characters");return}y(null),b(!0);try{const{error:X}=await J.auth.updateUser({password:f});if(X)throw X;I(!0),setTimeout(()=>{j("/")},2e3)}catch(X){y(X.message||"Failed to update password")}finally{b(!1)}}async function K(X,re){X&&(re&&re.trim()?await J.from("users").upsert({id:X,name:re.trim()}):await J.from("users").upsert({id:X}))}async function L(){if(!i.trim()){y("Please enter your email address");return}y(null),b(!0);try{const{error:X}=await J.auth.resetPasswordForEmail(i.trim(),{redirectTo:`${window.location.origin}/auth`});if(X)throw X;k(!0)}catch(X){y(X?.message||"Failed to send reset email")}finally{b(!1)}}async function we(X){X.preventDefault(),y(null),b(!0);try{if(r==="signup"){const{data:re,error:le}=await J.from("users").select("name").eq("name",A.trim()).limit(1);if(le)throw le;if(re&&re.length>0)throw new Error("Username already taken. Please choose a different name.");const{data:H,error:oe}=await J.auth.signUp({email:i.trim(),password:c,options:{data:{display_name:A.trim()},emailRedirectTo:window.location.origin}});if(oe)throw oe;const Y=H.user??(await J.auth.getUser()).data.user;Y&&await K(Y.id,A),_(!0)}else{const{data:re,error:le}=await J.auth.signInWithPassword({email:i.trim(),password:c});if(le)throw le;const H=re.user??(await J.auth.getUser()).data.user;if(H){const oe=H.user_metadata?.display_name;await K(H.id,oe)}j("/",{replace:!0})}}catch(re){y(re?.message||"Something went wrong")}finally{b(!1)}}return E?a.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6 pt-20",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-6 shadow space-y-4",children:[a.jsx("h1",{className:"text-xl font-bold text-center",children:"Check Your Email"}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsxs("p",{className:"text-slate-600",children:["We've sent you a confirmation link at ",a.jsx("strong",{children:i})]}),a.jsx("p",{className:"text-sm text-slate-500",children:"Click the link in your email to activate your account and start playing TOTL!"}),a.jsx("button",{onClick:()=>_(!1),className:"mt-4 px-4 py-2 text-sm text-emerald-600 hover:text-emerald-700 underline",children:"Back to signup"})]})]})}):S?a.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6 pt-20",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-6 shadow space-y-4",children:[a.jsx("h1",{className:"text-xl font-bold text-center",children:"Check Your Email"}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsxs("p",{className:"text-slate-600",children:["We've sent a password reset link to ",a.jsx("strong",{children:i})]}),a.jsx("p",{className:"text-sm text-slate-500",children:"Click the link in your email to reset your password."}),a.jsx("button",{onClick:()=>{k(!1),e("signin")},className:"mt-4 px-4 py-2 text-sm text-emerald-600 hover:text-emerald-700 underline",children:"Back to sign in"})]})]})}):R?a.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6 pt-20",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-6 shadow space-y-4",children:[a.jsx("h1",{className:"text-xl font-bold text-center text-green-600",children:"Password Updated!"}),a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("p",{className:"text-slate-600",children:"Your password has been successfully updated."}),a.jsx("p",{className:"text-sm text-slate-500",children:"Redirecting to home page..."})]})]})}):r==="password-reset"?a.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6 pt-20",children:a.jsxs("form",{onSubmit:X=>{X.preventDefault(),P()},className:"w-full max-w-md rounded-2xl border bg-white p-6 shadow space-y-4",children:[a.jsx("h1",{className:"text-xl font-bold",children:"Set New Password"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"New Password"}),a.jsx("input",{type:"password",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",value:f,onChange:X=>m(X.target.value),placeholder:"At least 6 characters",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",value:g,onChange:X=>w(X.target.value),placeholder:"Confirm your new password",required:!0})]}),v&&a.jsx("div",{className:"text-sm text-red-600",children:v}),a.jsx("button",{type:"submit",disabled:C,className:"w-full rounded-xl px-4 py-2 font-semibold bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",children:C?"Updating...":"Update Password"})]})}):a.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6 pt-20",children:a.jsxs("form",{onSubmit:r==="reset"?X=>{X.preventDefault(),L()}:we,className:"w-full max-w-md rounded-2xl border bg-white p-6 shadow space-y-4",children:[a.jsx("h1",{className:"text-xl font-bold",children:r==="signup"?"Create your account":r==="reset"?"Reset your password":"Sign in"}),r==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Display name"}),a.jsx("input",{className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",value:A,onChange:X=>n(X.target.value),placeholder:"e.g. Thomas B",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Email"}),a.jsx("input",{type:"email",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",value:i,onChange:X=>o(X.target.value),placeholder:"you@example.com",required:!0})]}),r!=="reset"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Password"}),a.jsx("input",{type:"password",className:"mt-1 w-full rounded-lg border px-3 py-2 text-sm",value:c,onChange:X=>d(X.target.value),placeholder:"At least 6 characters",required:!0})]}),v&&a.jsx("div",{className:"text-sm text-red-600",children:v}),a.jsx("button",{type:"submit",disabled:C,className:"w-full rounded-xl px-4 py-2 font-semibold bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",children:C?r==="signup"?"Creating":r==="reset"?"Sending":"Signing in":r==="signup"?"Create account":r==="reset"?"Send reset link":"Sign in"}),a.jsx("div",{className:"text-xs text-slate-500",children:r==="signup"?a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>e("signin"),className:"underline",children:"Sign in"})]}):r==="reset"?a.jsxs(a.Fragment,{children:["Remember your password?"," ",a.jsx("button",{type:"button",onClick:()=>e("signin"),className:"underline",children:"Sign in"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:["New here?"," ",a.jsx("button",{type:"button",onClick:()=>e("signup"),className:"underline",children:"Create an account"})]}),a.jsxs("div",{children:["Forgot your password?"," ",a.jsx("button",{type:"button",onClick:()=>e("reset"),className:"underline",children:"Reset it"})]})]})})]})})}function or({children:r}){const{user:e,loading:A}=tr();return A?a.jsx("div",{className:"p-6",children:"Loading"}):e?a.jsx(a.Fragment,{children:r}):a.jsx(Hp,{to:"/auth",replace:!0})}function fF(){return a.jsx(yv,{children:a.jsx(hF,{})})}function hF(){const r=Ur(),e=us(),{showWelcome:A,dismissWelcome:n}=tr();return rs.useEffect(()=>{const i=globalThis?.OneSignal||(typeof window<"u"?window?.OneSignal:null);i&&typeof i.on=="function"&&(i.on("notificationDisplay",c=>{console.log("[Notification] Notification displayed:",c)}),i.on("notificationClick",c=>{console.log("[Notification] Notification clicked:",c);const d=c?.notification?.additionalData||c?.data;d?.url?(console.log("[Notification] Navigating to:",d.url),e(d.url)):d?.leagueCode&&(console.log("[Notification] Navigating to league:",d.leagueCode),e(`/league/${d.leagueCode}`))})),(()=>{const c=window.location.hash,d=new URLSearchParams(window.location.search);if(c&&c.startsWith("#/")){const m=c.slice(1);m.startsWith("/league/")&&e(m)}const f=d.get("leagueCode");f&&e(`/league/${f}`)})()},[e]),a.jsxs(a.Fragment,{children:[r.pathname==="/"&&a.jsx(uF,{}),r.pathname==="/"&&a.jsx(cF,{}),r.pathname!=="/auth"&&!r.pathname.startsWith("/league/")&&a.jsx(oF,{}),A&&a.jsx("div",{className:"fixed top-40 left-1/2 transform -translate-x-1/2 z-50 bg-[#1C8376] text-white px-8 py-5 rounded-lg shadow-lg w-11/12 max-w-4xl",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"text-center pr-10",children:[a.jsx("div",{className:"font-bold text-xl",children:"Welcome to TOTL!"}),a.jsx("div",{className:"text-sm text-[#1C8376]/80 mt-1",children:"Your account is now active. Start making predictions!"})]}),a.jsx("button",{onClick:n,className:"absolute top-0 right-0 text-[#1C8376]/60 hover:text-white text-2xl font-bold","aria-label":"Dismiss",children:""})]})}),a.jsxs(qB,{children:[a.jsx(DA,{path:"/auth",element:a.jsx(dF,{})}),a.jsx(DA,{path:"/new-predictions",element:a.jsx(or,{children:a.jsx(tF,{})})}),a.jsx(DA,{path:"/test-api-predictions",element:a.jsx(or,{children:a.jsx(nF,{})})}),a.jsx(DA,{path:"/test-admin-api",element:a.jsx(or,{children:a.jsx(iF,{})})}),a.jsx(DA,{path:"/",element:a.jsx(or,{children:a.jsx(Y_,{})})}),a.jsx(DA,{path:"/tables",element:a.jsx(or,{children:a.jsx(oC,{})})}),a.jsx(DA,{path:"/league/:code",element:a.jsx(or,{children:a.jsx(hC,{})})}),a.jsx(DA,{path:"/predictions",element:a.jsx(or,{children:a.jsx(wC,{})})}),a.jsx(DA,{path:"/global",element:a.jsx(or,{children:a.jsx(q_,{})})}),a.jsx(DA,{path:"/profile",element:a.jsx(or,{children:a.jsx(aF,{})})}),a.jsx(DA,{path:"/how-to-play",element:a.jsx(or,{children:a.jsx(eF,{})})}),a.jsx(DA,{path:"/create-league",element:a.jsx(or,{children:a.jsx(Z_,{})})}),a.jsx(DA,{path:"/admin",element:a.jsx(or,{children:a.jsx(bC,{})})}),a.jsx(DA,{path:"*",element:a.jsx(Hp,{to:"/",replace:!0})})]}),r.pathname!=="/auth"&&!r.pathname.startsWith("/league/")&&r.pathname!=="/new-predictions"&&r.pathname!=="/test-api-predictions"&&a.jsx(lF,{})]})}aB.createRoot(document.getElementById("root")).render(a.jsx(rs.StrictMode,{children:a.jsx(nC,{children:a.jsx(fF,{})})}));export{Od as g};
