{
  "chat-message": {
    "title": "Chat Message",
    "description": "Notification sent when someone sends a message in league chat",
    "notification_key": "chat-message",
    "owner": "client-triggered",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "league_members_except_sender",
    "source": "client_post",
    "trigger": {
      "name": "league_message_sent",
      "event_id_format": "chat:{league_id}:{message_id}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 60
    },
    "cooldown": {
      "per_user_seconds": 30
    },
    "quiet_hours": {
      "start": "23:00",
      "end": "07:00"
    },
    "preferences": {
      "preference_key": "chat-messages",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "chat:{league_id}",
      "thread_id_format": "league:{league_id}",
      "android_group_format": "totl_chat"
    },
    "deep_links": {
      "url_format": "/league/{leagueCode}"
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "final-submission": {
    "title": "Final Submission",
    "description": "Notification sent when all league members have submitted their picks",
    "notification_key": "final-submission",
    "owner": "client-triggered",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "all_league_members",
    "source": "client_post",
    "trigger": {
      "name": "all_members_submitted",
      "event_id_format": "final_sub:{league_id}:{gw}"
    },
    "dedupe": {
      "scope": "per_league_per_gw",
      "ttl_seconds": 86400
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": null,
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "final_sub:{league_id}:{gw}",
      "thread_id_format": "league:{league_id}",
      "android_group_format": "totl_leagues"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "final-whistle": {
    "title": "Final Whistle",
    "description": "Notification sent when a match finishes with pick result",
    "notification_key": "final-whistle",
    "owner": "score-webhook",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "users_with_picks_for_fixture",
    "source": "supabase_webhook",
    "trigger": {
      "name": "live_scores_status_finished",
      "event_id_format": "ft:{api_match_id}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 3600
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": "final-whistle",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "ft:{api_match_id}",
      "thread_id_format": "match:{api_match_id}",
      "android_group_format": "totl_results"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "gameweek-complete": {
    "title": "Gameweek Complete",
    "description": "Notification sent when all matches in a gameweek have finished",
    "notification_key": "gameweek-complete",
    "owner": "score-webhook",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "users_with_picks_in_gameweek",
    "source": "supabase_webhook",
    "trigger": {
      "name": "all_gw_fixtures_finished",
      "event_id_format": "gw_complete:{gw}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 7200
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": "gw-results",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "gw_complete:{gw}",
      "thread_id_format": "totl_gameweek",
      "android_group_format": "totl_results"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "goal-disallowed": {
    "title": "Goal Disallowed",
    "description": "Notification sent when a goal is disallowed by VAR",
    "notification_key": "goal-disallowed",
    "owner": "score-webhook",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "users_with_picks_for_fixture",
    "source": "supabase_webhook",
    "trigger": {
      "name": "live_scores_update_score_decrease",
      "event_id_format": "goal_disallowed:{api_match_id}:{minute}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 120
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": "score-updates",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "goal_disallowed:{api_match_id}",
      "thread_id_format": "match:{api_match_id}",
      "android_group_format": "totl_scores"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "goal-scored": {
    "title": "Goal Scored",
    "description": "Notification sent when a goal is scored in a tracked match",
    "notification_key": "goal-scored",
    "owner": "score-webhook",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "users_with_picks_for_fixture",
    "source": "supabase_webhook",
    "trigger": {
      "name": "live_scores_update",
      "event_id_format": "goal:{api_match_id}:{scorer_normalized}:{minute}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 120
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": "score-updates",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "goal:{api_match_id}",
      "thread_id_format": "match:{api_match_id}",
      "android_group_format": "totl_scores"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "half-time": {
    "title": "Half-Time",
    "description": "Notification sent at half-time with current score",
    "notification_key": "half-time",
    "owner": "score-webhook",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "users_with_picks_for_fixture",
    "source": "supabase_webhook",
    "trigger": {
      "name": "live_scores_status_change",
      "event_id_format": "halftime:{api_match_id}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 600
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": null,
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "halftime:{api_match_id}",
      "thread_id_format": "match:{api_match_id}",
      "android_group_format": "totl_scores"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "kickoff": {
    "title": "Kickoff",
    "description": "Notification sent when a match kicks off (1st or 2nd half)",
    "notification_key": "kickoff",
    "owner": "score-webhook",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "users_with_picks_for_fixture",
    "source": "supabase_webhook",
    "trigger": {
      "name": "live_scores_status_change",
      "event_id_format": "kickoff:{api_match_id}:{half}"
    },
    "dedupe": {
      "scope": "per_user_per_event",
      "ttl_seconds": 300
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": "score-updates",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "kickoff:{api_match_id}:{half}",
      "thread_id_format": "match:{api_match_id}",
      "android_group_format": "totl_scores"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  },
  "new-gameweek": {
    "title": "New Gameweek",
    "description": "Broadcast notification when new gameweek fixtures are published",
    "notification_key": "new-gameweek",
    "owner": "admin-triggered",
    "status": "active",
    "channels": [
      "push"
    ],
    "audience": "all_subscribed_users",
    "source": "admin_trigger",
    "trigger": {
      "name": "admin_broadcast",
      "event_id_format": "new_gw:{gw}"
    },
    "dedupe": {
      "scope": "global",
      "ttl_seconds": 86400
    },
    "cooldown": {
      "per_user_seconds": 0
    },
    "quiet_hours": {
      "start": null,
      "end": null
    },
    "preferences": {
      "preference_key": "new-gameweek",
      "default": true
    },
    "onesignal": {
      "collapse_id_format": "new_gw:{gw}",
      "thread_id_format": "totl_gameweek",
      "android_group_format": "totl_gameweek"
    },
    "deep_links": {
      "url_format": null
    },
    "rollout": {
      "enabled": true,
      "percentage": 100
    }
  }
}